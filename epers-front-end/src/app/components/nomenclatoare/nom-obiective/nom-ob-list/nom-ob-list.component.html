<div class="row">
  <div class="col-12 text-center p-4">
    <h3>Nomenclator Obiective</h3>
  </div>
</div>

<div class="row p-2 border-rounded">
  <router-outlet></router-outlet>

  @if (!idFirmaLoggedInUser) {
    <table-header (add)="navToAdd()" [currentPage]="currentPage" [pages]="pages"
      [itemsPerPage]="itemsPerPage" (nextPage)="nextPage($event)" (previousPage)="previousPage($event)"
      (lastPage)="lastPage($event)" [displayAddButton]="true" (selectItemsPerPage)="changeItemsPerPage($event)"
      (serachFilter)="filter($event)" [searchCriteria]="filtru ? filtru : 'Denumire'" [ddFilterList]="ddFirme" [ddFilterVisible]="true"
      (serachIdDDFilter)="filterFirma($event)" ddFilterCriteria="Firma">
    </table-header>
  }

  @if (idFirmaLoggedInUser) {
    <table-header (add)="navToAdd()" [currentPage]="currentPage" [pages]="pages"
      [itemsPerPage]="itemsPerPage" (nextPage)="nextPage($event)" (previousPage)="previousPage($event)"
      (lastPage)="lastPage($event)" [displayAddButton]="true" (selectItemsPerPage)="changeItemsPerPage($event)"
      (serachFilter)="filter($event)" [searchCriteria]="filtru ? filtru: 'Denumire'">
    </table-header>
  }

  <table class="table p-3 table-striped table-bordered">
    <thead class="table-header">
      <tr class="table-info">
        <th>Denumire</th>
        <th>Post</th>
        <th>Compartiment</th>
        <th>Firma</th>
        <th>Val. Min.</th>
        <th>Bonus Min.</th>
        <th>Val. Target</th>
        <th>Bonus Target</th>
        <th>Val. Max.</th>
        <th>Bonus Max.</th>
        <th>Frecvența</th>
        <th>Tip</th>
        <th>Modificați</th>
      </tr>
    </thead>
    <tbody>
      @for (nObiectiv of nObiective; track nObiectiv) {
        <tr>
          <td>{{nObiectiv.denumire}}</td>
          <td>{{nObiectiv.post}}</td>
          <td>{{nObiectiv.compartiment}}</td>
          <td>{{nObiectiv.firma}}</td>
          <td>{{nObiectiv.valMin}}</td>
          <td>{{nObiectiv.bonusMin}}</td>
          <td>{{nObiectiv.valTarget}}</td>
          <td>{{nObiectiv.bonusTarget}}</td>
          <td>{{nObiectiv.valMax}}</td>
          <td>{{nObiectiv.bonusMax}}</td>
          <td>{{nObiectiv.frecventa | idToValue: frecventeSelection}}</td>
          <td>{{nObiectiv.tip}}</td>
          <td>
            <div class="text-center">
              <div class="text-center">
                <table-edit-button [routerLink]="['edit', nObiectiv.id]"></table-edit-button>
              </div>
            </div>
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>