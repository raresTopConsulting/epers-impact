import{a as be}from"./chunk-GP76AYW4.js";import{h as V,j as z,k as T}from"./chunk-7HPXOHU7.js";import{a as ue,b as ni}from"./chunk-NC7IXFJV.js";import{$a as U,E as He,Eb as ei,F as d,Ga as xe,Hb as ti,I as g,Ia as N,J as I,Ja as me,K as qe,Ka as O,L as _,La as oe,Na as St,Nb as ii,O as c,Oa as D,Q as X,Qa as ce,Ra as Je,S as r,T as n,U as x,Ua as Yt,X as P,Ya as Pe,Z as S,Za as Y,_ as m,_a as W,a as Qt,ab as R,b as Xt,bb as j,cb as H,d as Ct,da as w,db as we,ea as s,eb as q,f as ae,fa as b,fb as J,g as E,ga as B,gb as G,ha as Fe,hb as ee,ia as h,ja as v,ka as C,la as ke,m as se,ma as le,na as k,o as he,oa as L,p as Re,r as ve,ra as A,sa as F,ta as $,tb as Zt,ub as $t,v as p,w as u,wb as Z,xa as Ce,xb as K,ya as Se,yb as pe,zb as ye}from"./chunk-5G5VBFYZ.js";var Ie=(()=>{class l{constructor(t){this.httpClient=t,this.baseUrl=xe.baseUrl,this.tableFiltersSubject=new ae({filter:"",filterFirma:null,currentPage:1,itemsPerPage:10}),this.locatiiDisplayModelSubject=new ae(null),this.tableFiltersObs$=this.tableFiltersSubject.asObservable(),this.locatiiDisplayModelObs$=this.locatiiDisplayModelSubject.asObservable()}getAllPaginated(t,a,e,i){let y=JSON.parse(localStorage.getItem("user"))?.idFirma,M=JSON.parse(localStorage.getItem("user"))?.idRol,f=new Ce;f=f.append("currentPage",t),f=f.append("itemsPerPage",a),f=f.append("idRol",M||""),f=f.append("idFirmaLoggedInUser",y||""),f=f.append("filter",e||""),f=f.append("filterFirma",i||""),this.tableFiltersSubject.next({filter:e,filterFirma:i,currentPage:t,itemsPerPage:a}),this.httpClient.get(this.baseUrl+"/Locatii/paginated",{params:f}).pipe(se(Me=>{this.locatiiDisplayModelSubject.next(Me)})).subscribe()}getLocatiiData(){return this.httpClient.get(this.baseUrl+"/Locatii")}get(t){return this.httpClient.get(this.baseUrl+"/Locatii/"+t)}update(t){return this.httpClient.put(this.baseUrl+"/Locatii",t)}add(t){return this.httpClient.post(this.baseUrl+"/Locatii",t)}delete(t){return this.httpClient.delete(this.baseUrl+"/Locatii/"+t)}static{this.\u0275fac=function(a){return new(a||l)(ve(Se))}}static{this.\u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var ai=l=>["edit",l];function li(l,o){if(l&1){let t=P();r(0,"table-header",9),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))})("serachIdDDFilter",function(e){p(t);let i=m();return u(i.filterFirma(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire, Adresa, Localitate, Tara")("ddFilterList",t.ddFirme)("ddFilterVisible",!0)}}function di(l,o){if(l&1){let t=P();r(0,"table-header",10),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire, Adresa, Localitate, Tara")}}function si(l,o){if(l&1&&(r(0,"td"),s(1),n()),l&2){let t=o.$implicit;d(),b(t)}}function mi(l,o){l&1&&x(0,"mat-icon",18)}function ci(l,o){l&1&&x(0,"mat-icon",19)}function pi(l,o){if(l&1&&(r(0,"span")(1,"strong"),s(2),n()()),l&2){let t=m().$implicit;d(2),b(t.firma)}}function ui(l,o){if(l&1&&(r(0,"span"),s(1),n()),l&2){let t=m().$implicit;d(),B(" ",t.firma," ")}}function gi(l,o){if(l&1){let t=P();r(0,"tr")(1,"td"),s(2),n(),r(3,"td"),s(4),n(),r(5,"td"),s(6),n(),r(7,"td"),s(8),n(),r(9,"td"),s(10),n(),r(11,"td",11),_(12,mi,1,0,"mat-icon",12)(13,ci,1,0,"mat-icon",13),n(),r(14,"td"),_(15,pi,3,1,"span",14)(16,ui,2,1,"span",14),n(),r(17,"td")(18,"div",15),x(19,"table-edit-button",16),n()(),r(20,"td")(21,"div",15)(22,"table-delete-button",17),S("click",function(){let e=p(t).$implicit,i=m();return u(i.deleteLocatie(e.id))}),n()()()()}if(l&2){let t=o.$implicit;d(2),b(t.denumire),d(2),b(t.adresa),d(2),b(t.localitate),d(2),b(t.judet),d(2),b(t.tara),d(2),c("ngIf",t.activ),d(),c("ngIf",!t.activ),d(2),c("ngIf",t.isSediuPrincipalFirma),d(),c("ngIf",!t.isSediuPrincipalFirma),d(3),c("routerLink",le(10,ai,t.id))}}var Ge=class xt{constructor(o,t,a,e,i){this.locatiiService=o,this.router=t,this.activatedRoute=a,this.firmeService=e,this.toastr=i,this.locatii=[],this.headers=[],this.pages=0,this.currentPage=1,this.itemsPerPage=10,this.filtru="",this.filtruIdFirma=null,this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.getDDFirme()}ngOnInit(){this.headers=["Denumire","Adresa","Localitate","Judet","Tara","Stare","Firma (Sediu principal firm\u0103)","Modifica\u021Bi","\u0218terge\u021Bi"],this.tableFiltersSub=this.locatiiService.tableFiltersObs$.subscribe(o=>{this.filtru=o?.filter,this.currentPage=o?.currentPage,this.itemsPerPage=o?.itemsPerPage}),this.getLocatii(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}deleteLocatie(o){this.locatiiService.delete(o).subscribe({next:()=>{setTimeout(()=>{window.location.reload()},1e3),this.toastr.success("Locatia a fost \u0219ters\u0103 cu succes!","Succes!")},error:t=>{this.toastr.error(`Locatia nu a putut fi \u0219ters\u0103!, ${t.message}`,"Eroare!")}})}navToAdd(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}nextPage(o){this.getLocatii(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getLocatii(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getLocatii(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getLocatii(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getLocatii(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getLocatii(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getLocatii(o,t,a,e){this.locatiiService.getAllPaginated(o,t,a,e),this.locatiiSub=this.locatiiService.locatiiDisplayModelObs$.subscribe(i=>{this.locatii=i?.locatii,this.pages=i?.pages,this.currentPage=i?.currentPage})}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}static{this.\u0275fac=function(t){return new(t||xt)(g(Ie),g(O),g(N),g(T),g(V))}}static{this.\u0275cmp=I({type:xt,selectors:[["nomenclatoare-locatii"]],standalone:!1,decls:14,vars:4,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-2","border-rounded"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],["ddFilterCriteria","Firma",3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible"],[3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria"],[2,"text-align","center"],["color","primary","fontIcon","check",4,"ngIf"],["color","warn","fontIcon","close",4,"ngIf"],[4,"ngIf"],[1,"text-center"],[3,"routerLink"],[3,"click"],["color","primary","fontIcon","check"],["color","warn","fontIcon","close"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Nomenclator Loca\u021Bii"),n()()(),r(4,"div",2),x(5,"router-outlet"),_(6,li,1,7,"table-header",3)(7,di,1,5,"table-header",4),r(8,"table",5)(9,"thead",6)(10,"tr",7),_(11,si,2,1,"td",8),n()(),r(12,"tbody"),_(13,gi,23,12,"tr",8),n()()()),t&2&&(d(6),c("ngIf",!a.idFirmaLoggedInUser),d(),c("ngIf",a.idFirmaLoggedInUser),d(4),c("ngForOf",a.headers),d(2),c("ngForOf",a.locatii))},dependencies:[ue,A,F,ce,pe,ye,me,oe],encapsulation:2})}};Ge=E([D({checkProperties:!0})],Ge);function _i(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Loca\u021Bie"),n())}function fi(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Loca\u021Bie"),n())}function hi(l,o){l&1&&(r(0,"span",50),s(1,"C\xE2mpul este obligatoriu!"),n())}function vi(l,o){if(l&1&&(r(0,"option",42),s(1),n()),l&2){let t=o.$implicit;c("value",t.Valoare),d(),b(t.Valoare)}}function Ci(l,o){if(l&1&&(r(0,"option",42),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function Si(l,o){if(l&1&&(r(0,"p",51),s(1),n()),l&2){let t=m(2);d(),Fe("Aten\u021Bie, firma poate avea un singur sediu! Noul sediu va fi ",t.locatie.denumire,", ",t.locatie.adresa,".")}}function xi(l,o){if(l&1){let t=P();r(0,"div",11)(1,"div",12)(2,"div",13),_(3,_i,2,0,"h3",14)(4,fi,2,0,"h3",14),n(),r(5,"form",15,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",16),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.id,e)||(i.locatie.id=e),u(e)}),n(),r(8,"div",11)(9,"div",17)(10,"div",18)(11,"div",19)(12,"label",20),s(13,"Denumire"),n(),r(14,"input",21,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.denumire,e)||(i.locatie.denumire=e),u(e)}),n(),_(16,hi,2,0,"span",22),n()(),r(17,"div",18)(18,"div",19)(19,"label",23),s(20,"Adresa"),n(),r(21,"input",24,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.adresa,e)||(i.locatie.adresa=e),u(e)}),n()()(),r(23,"div",18)(24,"div",19)(25,"label",25),s(26,"Localitate"),n(),r(27,"input",26,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.localitate,e)||(i.locatie.localitate=e),u(e)}),n()()()(),r(29,"div",27)(30,"div",18)(31,"div",28)(32,"label",29),s(33,"Jude\u021B"),n(),r(34,"select",30,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.judet,e)||(i.locatie.judet=e),u(e)}),_(36,vi,2,2,"option",31),n()(),r(37,"div",32)(38,"label",33),s(39,"\u021Aara"),n(),r(40,"input",34,5),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.tara,e)||(i.locatie.tara=e),u(e)}),n()()(),r(42,"div",18)(43,"div",35)(44,"label",36),s(45,"Data \xCEnceput"),n(),r(46,"input",37,6),k(48,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.locatie.dataIn=e)}),n()(),r(49,"div",35)(50,"label",38),s(51,"Data Sf\u0103r\u0219it"),n(),r(52,"input",39,7),k(54,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.locatie.dataSf=e)}),n()()(),r(55,"div",18)(56,"div",35)(57,"label",40),s(58,"Firma"),n(),r(59,"select",41),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.idFirma,e)||(i.locatie.idFirma=e),u(e)}),r(60,"option",42),s(61,"Selecta\u021Bi firma"),n(),_(62,Ci,2,2,"option",31),n()(),r(63,"div",35)(64,"div",11)(65,"label",38),s(66,"Sediu Principal Firm\u0103"),n()(),r(67,"div",11)(68,"div",19)(69,"input",43,8),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.isSediuPrincipalFirma,e)||(i.locatie.isSediuPrincipalFirma=e),u(e)}),S("ngModelChange",function(e){p(t);let i=m();return u(i.schimbareSediuFirma(e))}),n()()()()()(),r(71,"div",44)(72,"div",19),_(73,Si,2,2,"p",45),n()()(),r(74,"div",46)(75,"div",47)(76,"cancel-button",48),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(77,"div",47),x(78,"save-button",49),n()()()()()}if(l&2){let t=w(6),a=w(15),e=m();d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(3),h("ngModel",e.locatie.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.locatie.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.locatie.adresa),d(6),h("ngModel",e.locatie.localitate),d(7),h("ngModel",e.locatie.judet),d(2),c("ngForOf",e.judete),d(4),h("ngModel",e.locatie.tara),d(6),c("ngModel",L(48,21,e.locatie.dataIn,"yyyy-MM-dd")),d(6),c("ngModel",L(54,24,e.locatie.dataSf,"yyyy-MM-dd")),d(7),h("ngModel",e.locatie.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(7),h("ngModel",e.locatie.isSediuPrincipalFirma),d(4),c("ngIf",e.seSchimbaSediuFirma),d(5),c("disabled",!t.valid)}}var Ke=class bt{constructor(o,t,a,e,i,y,M){this.locatieService=o,this.toastr=t,this.selectionBoxStateService=a,this.router=e,this.ddStateService=i,this.route=y,this.firmeService=M,this.isEditMode=!1,this.seSchimbaSediuFirma=!1,this.loggedInUserHasFirma=!1}ngOnInit(){this.locatie={id:0,denumire:"",adresa:"",localitate:"",judet:"",tara:"",dataIn:null,dataSf:null,activ:!1,isSediuPrincipalFirma:!1,idFirma:0,firma:""},this.judeteSub=this.selectionBoxStateService.selections$.subscribe(o=>{this.judete=o?.JudeteSelection}),this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirmeSelectionList=o}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(o=>{o&&(this.loggedInUserHasFirma=!0,this.locatie.firma=o.Text,this.locatie.idFirma=o.IdFirma)})}save(){this.locatieService.add(this.locatie).subscribe({next:()=>{this.selectionBoxStateService.upsertSelections(),this.firmeService.upsertDDFirme(),this.ddStateService.upsertDropdowns(),this.toastr.success("Locatia a fost adaugata cu succes!","Succes!"),setTimeout(()=>{this.goToLocatii()},500)},error:o=>{this.toastr.error(`Locatia nu a putut fi adaugata!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToLocatii()}goToLocatii(){this.router.navigate(["/locatii"],{relativeTo:this.route})}schimbareSediuFirma(o){o==!0&&o!=this.locatie.isSediuPrincipalFirma?this.seSchimbaSediuFirma=!0:this.seSchimbaSediuFirma=!1}static{this.\u0275fac=function(t){return new(t||bt)(g(Ie),g(V),g(be),g(O),g(z),g(N),g(T))}}static{this.\u0275cmp=I({type:bt,selectors:[["locatie-add"]],standalone:!1,decls:2,vars:1,consts:[["locatieForm","ngForm"],["denumire","ngModel"],["adresa","ngModel"],["localitate","ngModel"],["judet","ngModel"],["tara","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],["isSediuFirma","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","loc-denumire",1,"required-label","mb-1"],["type","text","id","loc-denumire","name","denumire","ngModel","","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","loc-adresa",1,"mb-1"],["type","text","id","loc-adresa","name","adresa","ngModel","",1,"form-control",3,"ngModelChange","ngModel"],["for","loc-localitate",1,"mb-1"],["type","text","id","loc-localitate","name","localitate",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],[1,"col-md-4"],["for","loc-judet",1,"mb-1"],["id","loc-judet","name","judet",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-8"],["for","loc-tara",1,"mb-1"],["id","loc-tara","type","text","name","tara","ngModel","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["for","loc-dataIn",1,"mb-1"],["id","loc-dataIn","data-provide","datepicker","type","date","name","dataIn","ngModel","",1,"form-control","date",3,"ngModelChange","ngModel"],["for","loc-dataSf",1,"mb-1"],["id","loc-dataSf","data-provide","datepicker","type","date","name","dataSf","ngModel","",1,"form-control","date",3,"ngModelChange","ngModel"],["for","loc-firma",1,"mb-1"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],["type","checkbox","name","loc-isSediuFirma",1,"form-check-input","big-checkbox",3,"ngModelChange","ngModel"],[1,"col-12"],["class","warning",4,"ngIf"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"],[1,"warning"]],template:function(t,a){t&1&&(r(0,"div",9),_(1,xi,79,27,"div",10),n()),t&2&&(d(),c("ngIf",a.locatie))},dependencies:[A,F,H,J,G,Y,Pe,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};Ke=E([D({checkProperties:!0})],Ke);function bi(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Loca\u021Bie"),n())}function Pi(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Loca\u021Bie"),n())}function yi(l,o){l&1&&(r(0,"span",50),s(1,"C\xE2mpul este obligatoriu!"),n())}function Mi(l,o){if(l&1&&(r(0,"option",42),s(1),n()),l&2){let t=o.$implicit;c("value",t.Valoare),d(),b(t.Valoare)}}function wi(l,o){if(l&1&&(r(0,"option",42),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function Ii(l,o){if(l&1&&(r(0,"p",51),s(1),n()),l&2){let t=m(2);d(),Fe("Aten\u021Bie, firma poate avea un singur sediu! Noul sediu va fi ",t.locatie.denumire,", ",t.locatie.adresa,".")}}function Fi(l,o){if(l&1){let t=P();r(0,"div",11)(1,"div",12)(2,"div",13),_(3,bi,2,0,"h3",14)(4,Pi,2,0,"h3",14),n(),r(5,"form",15,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",16),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.id,e)||(i.locatie.id=e),u(e)}),n(),r(8,"div",11)(9,"div",17)(10,"div",18)(11,"div",19)(12,"label",20),s(13,"Denumire"),n(),r(14,"input",21,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.denumire,e)||(i.locatie.denumire=e),u(e)}),n(),_(16,yi,2,0,"span",22),n()(),r(17,"div",18)(18,"div",19)(19,"label",23),s(20,"Adresa"),n(),r(21,"input",24,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.adresa,e)||(i.locatie.adresa=e),u(e)}),n()()(),r(23,"div",18)(24,"div",19)(25,"label",25),s(26,"Localitate"),n(),r(27,"input",26,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.localitate,e)||(i.locatie.localitate=e),u(e)}),n()()()(),r(29,"div",27)(30,"div",18)(31,"div",28)(32,"label",29),s(33,"Jude\u021B"),n(),r(34,"select",30,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.judet,e)||(i.locatie.judet=e),u(e)}),_(36,Mi,2,2,"option",31),n()(),r(37,"div",32)(38,"label",33),s(39,"\u021Aara"),n(),r(40,"input",34,5),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.tara,e)||(i.locatie.tara=e),u(e)}),n()()(),r(42,"div",18)(43,"div",35)(44,"label",36),s(45,"Data \xCEnceput"),n(),r(46,"input",37,6),k(48,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.locatie.dataIn=e)}),n()(),r(49,"div",35)(50,"label",38),s(51,"Data Sf\u0103r\u0219it"),n(),r(52,"input",39,7),k(54,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.locatie.dataSf=e)}),n()()(),r(55,"div",18)(56,"div",35)(57,"label",40),s(58,"Firma"),n(),r(59,"select",41),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.idFirma,e)||(i.locatie.idFirma=e),u(e)}),r(60,"option",42),s(61,"Selecta\u021Bi firma"),n(),_(62,wi,2,2,"option",31),n()(),r(63,"div",35)(64,"div",11)(65,"label",38),s(66,"Sediu Principal Firm\u0103"),n()(),r(67,"div",11)(68,"div",19)(69,"input",43,8),C("ngModelChange",function(e){p(t);let i=m();return v(i.locatie.isSediuPrincipalFirma,e)||(i.locatie.isSediuPrincipalFirma=e),u(e)}),S("ngModelChange",function(e){p(t);let i=m();return u(i.schimbareSediuFirma(e))}),n()()()()()(),r(71,"div",44)(72,"div",19),_(73,Ii,2,2,"p",45),n()()(),r(74,"div",46)(75,"div",47)(76,"cancel-button",48),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(77,"div",47),x(78,"save-button",49),n()()()()()}if(l&2){let t=w(6),a=w(15),e=m();d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(3),h("ngModel",e.locatie.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.locatie.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.locatie.adresa),d(6),h("ngModel",e.locatie.localitate),d(7),h("ngModel",e.locatie.judet),d(2),c("ngForOf",e.judete),d(4),h("ngModel",e.locatie.tara),d(6),c("ngModel",L(48,21,e.locatie.dataIn,"yyyy-MM-dd")),d(6),c("ngModel",L(54,24,e.locatie.dataSf,"yyyy-MM-dd")),d(7),h("ngModel",e.locatie.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(7),h("ngModel",e.locatie.isSediuPrincipalFirma),d(4),c("ngIf",e.seSchimbaSediuFirma),d(5),c("disabled",!t.valid)}}var Qe=class Pt{constructor(o,t,a,e,i,y,M){this.firmeService=o,this.locatieService=t,this.toastr=a,this.router=e,this.ddStateService=i,this.route=y,this.selectionBoxStateService=M,this.isEditMode=!0,this.seSchimbaSediuFirma=!1,this.wasSetAsSediuPrincipalFirma=!1,this.loggedInUserHasFirma=!1,this.judeteSub=this.selectionBoxStateService.selections$.subscribe(f=>{this.judete=f?.JudeteSelection}),this.firmeSub=this.firmeService.firmeSelections$.subscribe(f=>{this.ddFirmeSelectionList=f}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(f=>{f&&(this.loggedInUserHasFirma=!0)})}ngOnInit(){this.route.params.subscribe(o=>{this.id=+o.id,this.locatieSub=this.locatieService.get(this.id).subscribe(t=>{this.locatie=t,this.wasSetAsSediuPrincipalFirma=t?.isSediuPrincipalFirma?t.isSediuPrincipalFirma:!1})})}save(){this.locatieService.update(this.locatie).subscribe({next:()=>{this.firmeService.upsertDDFirme(),this.ddStateService.upsertDropdowns(),this.toastr.success("Loca\u021Bia a fost modificat\u0103 cu succes!","Succes!"),setTimeout(()=>{this.goToLocatii()},1e3)},error:o=>{this.toastr.error(`Loca\u021Bia nu a putut fi modificat\u0103!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToLocatii()}schimbareSediuFirma(o){this.locatie.isSediuPrincipalFirma=o,o&&!this.wasSetAsSediuPrincipalFirma?this.seSchimbaSediuFirma=!0:this.seSchimbaSediuFirma=!1}goToLocatii(){this.router.navigate(["/locatii"])}static{this.\u0275fac=function(t){return new(t||Pt)(g(T),g(Ie),g(V),g(O),g(z),g(N),g(be))}}static{this.\u0275cmp=I({type:Pt,selectors:[["locatie-edit"]],standalone:!1,decls:2,vars:1,consts:[["locatieForm","ngForm"],["denumire","ngModel"],["adresa","ngModel"],["localitate","ngModel"],["judet","ngModel"],["tara","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],["isSediuFirma","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","loc-denumire",1,"required-label","mb-1"],["type","text","id","loc-denumire","name","denumire","ngModel","","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","loc-adresa",1,"mb-1"],["type","text","id","loc-adresa","name","adresa","ngModel","",1,"form-control",3,"ngModelChange","ngModel"],["for","loc-localitate",1,"mb-1"],["type","text","id","loc-localitate","name","localitate",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],[1,"col-md-4"],["for","loc-judet",1,"mb-1"],["id","loc-judet","name","judet",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-8"],["for","loc-tara",1,"mb-1"],["id","loc-tara","type","text","name","tara","ngModel","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["for","loc-dataIn",1,"mb-1"],["id","loc-dataIn","data-provide","datepicker","type","date","name","dataIn","ngModel","",1,"form-control","date",3,"ngModelChange","ngModel"],["for","loc-dataSf",1,"mb-1"],["id","loc-dataSf","data-provide","datepicker","type","date","name","dataSf","ngModel","",1,"form-control","date",3,"ngModelChange","ngModel"],["for","loc-firma",1,"mb-1"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],["type","checkbox","name","loc-isSediuFirma",1,"form-check-input","big-checkbox",3,"ngModelChange","ngModel"],[1,"col-12"],["class","warning",4,"ngIf"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"],[1,"warning"]],template:function(t,a){t&1&&(r(0,"div",9),_(1,Fi,79,27,"div",10),n()),t&2&&(d(),c("ngIf",a.locatie))},dependencies:[A,F,H,J,G,Y,Pe,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};Qe=E([D({checkProperties:!0})],Qe);var We=(()=>{class l{constructor(t){this.httpClient=t,this.baseUrl=xe.baseUrl,this.tableFiltersSubject=new ae({filter:"",filterFirma:null,currentPage:1,itemsPerPage:10}),this.compartimenteDisplayModelSubject=new ae(null),this.tableFiltersObs$=this.tableFiltersSubject.asObservable(),this.compartimenteDisplayModelObs$=this.compartimenteDisplayModelSubject.asObservable()}getCompartimente(){return this.httpClient.get(this.baseUrl+"/Compartimente")}getAllPaginated(t,a,e,i){let y=JSON.parse(localStorage.getItem("user"))?.idFirma,M=JSON.parse(localStorage.getItem("user"))?.idRol,f=new Ce;f=f.append("currentPage",t),f=f.append("itemsPerPage",a),f=f.append("idRol",M||""),f=f.append("idFirmaLoggedInUser",y||""),f=f.append("filter",e||""),f=f.append("filterFirma",i||""),this.tableFiltersSubject.next({filter:e,filterFirma:i,currentPage:t,itemsPerPage:a}),this.httpClient.get(this.baseUrl+"/Compartimente",{params:f}).pipe(se(Me=>{this.compartimenteDisplayModelSubject.next(Me)})).subscribe()}get(t){return this.httpClient.get(this.baseUrl+"/Compartimente/"+t)}update(t){return this.httpClient.put(this.baseUrl+"/Compartimente/",t)}add(t){return this.httpClient.post(this.baseUrl+"/Compartimente",t)}delete(t){return this.httpClient.delete(this.baseUrl+"/Compartimente/"+t)}static{this.\u0275fac=function(a){return new(a||l)(ve(Se))}}static{this.\u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function Ei(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Compartiment"),n())}function Vi(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Compartiment"),n())}function Ti(l,o){l&1&&(r(0,"span",40),s(1,"C\xE2mpul este obligatoriu!"),n())}function Oi(l,o){if(l&1&&(r(0,"option",22),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function Di(l,o){if(l&1&&(r(0,"option",22),s(1),n()),l&2){let t=o.$implicit;c("value",t.Id),d(),b(t.Text)}}function ki(l,o){if(l&1&&(r(0,"option",22),s(1),n()),l&2){let t=o.$implicit;c("value",t.id),d(),Fe("",t.judet," - ",t.denumire,"")}}function Li(l,o){if(l&1){let t=P();r(0,"div",8)(1,"div",9)(2,"div",10),_(3,Ei,2,0,"h3",11)(4,Vi,2,0,"h3",11),n(),r(5,"form",12,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",13),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.id,e)||(i.compartiment.id=e),u(e)}),n(),r(8,"div",8)(9,"div",14)(10,"div",15)(11,"div",16)(12,"label",17),s(13,"Denumire"),n(),r(14,"input",18,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.denumire,e)||(i.compartiment.denumire=e),u(e)}),n(),_(16,Ti,2,0,"span",19),n()(),r(17,"div",15)(18,"div",16)(19,"label",20),s(20,"Firma"),n(),r(21,"select",21),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.idFirma,e)||(i.compartiment.idFirma=e),u(e)}),S("ngModelChange",function(e){p(t);let i=m();return u(i.firmaChanged(e))}),r(22,"option",22),s(23,"Selecta\u021Bi firma"),n(),_(24,Oi,2,2,"option",23),n()()()(),r(25,"div",24)(26,"div",15)(27,"div",25)(28,"label",26),s(29,"Data \xCEnceput"),n(),r(30,"input",27,2),k(32,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.compartiment.data_in=e)}),n(),x(33,"span",28),n(),r(34,"div",25)(35,"label",29),s(36,"Data Sf\u0103r\u0219it"),n(),r(37,"input",30,3),k(39,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.compartiment.data_sf=e)}),n()()(),r(40,"div",15)(41,"div",25)(42,"label",31),s(43,"Compartiment Superior"),n(),r(44,"select",32,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.sus,e)||(i.compartiment.sus=e),u(e)}),r(46,"option",33),s(47,"Selecta\u021Bi compartimentul"),n(),_(48,Di,2,2,"option",23),n()(),r(49,"div",25)(50,"label",34),s(51,"Loca\u021Bie"),n(),r(52,"select",35,5),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.id_Locatie,e)||(i.compartiment.id_Locatie=e),u(e)}),_(54,ki,2,3,"option",23),n()()()()(),r(55,"div",36)(56,"div",37)(57,"cancel-button",38),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(58,"div",37),x(59,"save-button",39),n()()()()()}if(l&2){let t=w(6),a=w(15),e=m();d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(3),h("ngModel",e.compartiment.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.compartiment.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.compartiment.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(6),c("ngModel",L(32,18,e.compartiment.data_in,"yyyy-MM-dd")),d(7),c("ngModel",L(39,21,e.compartiment.data_sf,"yyyy-MM-dd")),d(7),h("ngModel",e.compartiment.sus),d(4),c("ngForOf",e.compartimenteSelection),d(4),h("ngModel",e.compartiment.id_Locatie),d(2),c("ngForOf",e.locatii),d(5),c("disabled",!t.valid)}}var Xe=class Mt{constructor(o,t,a,e,i,y,M){this.firmeService=o,this.compartimenteService=t,this.ddStateService=a,this.locatieService=e,this.toastr=i,this.router=y,this.route=M,this.isEditMode=!0,this.loggedInUserHasFirma=!1}ngOnInit(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirmeSelectionList=o}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(o=>{o&&(this.loggedInUserHasFirma=!0)}),this.route.params.subscribe(o=>{this.id=+o.id,this.compartimentSub=this.compartimenteService.get(this.id).pipe(se(t=>{this.compartiment=t})).subscribe(()=>{this.getLocalitati(this.compartiment?.idFirma),this.getCompartimente(this.compartiment?.idFirma)})})}save(){this.compartimenteService.update(this.compartiment).subscribe({next:()=>{this.ddStateService.upsertDropdowns(),this.toastr.success("Compartimentul a fost modificat cu succes!","Succes!"),setTimeout(()=>{this.goToCompartimente()},1e3)},error:o=>{this.toastr.error(`Compartimentul nu a putut fi modificat!, ${o.message}`,"Eroare!")}})}firmaChanged(o){this.getLocalitati(o),this.getCompartimente(o)}getLocalitati(o){this.locSelectionSub=this.locatieService.getLocatiiData().subscribe(t=>{o?this.locatii=t.filter(a=>a.idFirma===+o):this.locatii=t})}getCompartimente(o){this.compSelectionSub=this.ddStateService.appDropdownsSubject$.subscribe(t=>{if(o){let a=this.compartiment.id,e=t?.DdCompartimente.filter(i=>i.IdFirma===+o&&i?.Id!==a);this.compartimenteSelection=e}else this.compartimenteSelection=t?.DdCompartimente})}onCancel(){this.goToCompartimente()}goToCompartimente(){this.router.navigate(["/compartimente"])}static{this.\u0275fac=function(t){return new(t||Mt)(g(T),g(We),g(z),g(Ie),g(V),g(O),g(N))}}static{this.\u0275cmp=I({type:Mt,selectors:[["compartiment-edit"]],standalone:!1,decls:2,vars:1,consts:[["compartimentForm","ngForm"],["denumire","ngModel"],["data_in","ngModel"],["data_sf","ngModel"],["sus","ngModel"],["locatie","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","comp-denumire",1,"required-label"],["type","text","id","comp-denumire","name","denumire","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","compartiment-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","comp-data_in"],["data-provide","datepicker","type","date","name","data_in","id","comp-data_in",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","comp-data_sf"],["data-provide","datepicker","type","date","name","data_sf","id","comp-data_sf",1,"form-control","date",3,"ngModelChange","ngModel"],["for","comp-sus"],["id","comp-sus","name","sus",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["for","comp-locatie"],["id","comp-locatie","name","locatie",1,"form-select",3,"ngModelChange","ngModel"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"]],template:function(t,a){t&1&&(r(0,"div",6),_(1,Li,60,24,"div",7),n()),t&2&&(d(),c("ngIf",a.compartiment))},dependencies:[A,F,H,J,G,Y,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};Xe=E([D({checkProperties:!0})],Xe);var Ai=l=>["edit",l];function Ni(l,o){if(l&1){let t=P();r(0,"table-header",9),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))})("serachIdDDFilter",function(e){p(t);let i=m();return u(i.filterFirma(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire")("ddFilterList",t.ddFirme)("ddFilterVisible",!0)}}function Bi(l,o){if(l&1){let t=P();r(0,"table-header",10),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire")}}function Wi(l,o){if(l&1&&(r(0,"td"),s(1),n()),l&2){let t=o.$implicit;d(),b(t)}}function ji(l,o){l&1&&x(0,"mat-icon",17)}function zi(l,o){l&1&&x(0,"mat-icon",18)}function Ui(l,o){if(l&1){let t=P();r(0,"tr")(1,"td"),s(2),n(),r(3,"td"),s(4),n(),r(5,"td"),s(6),n(),r(7,"td",11),_(8,ji,1,0,"mat-icon",12)(9,zi,1,0,"mat-icon",13),n(),r(10,"td"),s(11),n(),r(12,"td")(13,"div",14)(14,"div",14),x(15,"table-edit-button",15),n()()(),r(16,"td")(17,"div",14)(18,"table-delete-button",16),S("click",function(){let e=p(t).$implicit,i=m();return u(i.deleteCompartiment(e.id))}),n()()()()}if(l&2){let t=o.$implicit;d(2),b(t.denumire),d(2),b(t.locatie),d(2),b(t.subCompartiment),d(2),c("ngIf",t.activ),d(),c("ngIf",!t.activ),d(2),B(" ",t.firma," "),d(4),c("routerLink",le(7,Ai,t.id))}}var Ye=class wt{constructor(o,t,a,e,i,y){this.firmeService=o,this.compartimenteService=t,this.locatieService=a,this.router=e,this.activatedRoute=i,this.toastr=y,this.compartimente=[],this.headers=[],this.pages=0,this.currentPage=1,this.itemsPerPage=10,this.filtru="",this.filtruIdFirma=null,this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.getDDFirme()}ngOnInit(){this.headers=["Denumire","Locatie","Subcompartiment","Stare","Firma","Modifica\u021Bi","\u0218terge\u021Bi"],this.tableFiltersSub=this.compartimenteService.tableFiltersObs$.subscribe(o=>{this.filtru=o?.filter,this.filtruIdFirma=o?.filterFirma,this.currentPage=o?.currentPage,this.itemsPerPage=o?.itemsPerPage}),this.getCompartimente(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}deleteCompartiment(o){this.compartimenteService.delete(o).subscribe({next:()=>{setTimeout(()=>{window.location.reload()},1e3),this.toastr.success("Compartimentul a fost \u0219ters cu succes!","Succes!")},error:t=>{this.toastr.error(`Compartimentul nu a putut fi \u0219ters!, ${t.message}`,"Eroare!")}})}navToAdd(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}nextPage(o){this.getCompartimente(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getCompartimente(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getCompartimente(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getCompartimente(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getCompartimente(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getCompartimente(o,t,a,e){this.compartimenteService.getAllPaginated(o,t,a,e),this.compartimentSub=this.compartimenteService.compartimenteDisplayModelObs$.subscribe(i=>{this.locatieSub=this.locatieService.getLocatiiData().subscribe(y=>{this.compartimente=i?.compartimente.map(M=>Xt(Qt({},M),{locatie:y?.find(f=>f.id===M.id_Locatie)?.denumire||""}))}),this.pages=i?.pages,this.currentPage=i?.currentPage})}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getCompartimente(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}static{this.\u0275fac=function(t){return new(t||wt)(g(T),g(We),g(Ie),g(O),g(N),g(V))}}static{this.\u0275cmp=I({type:wt,selectors:[["app-compartimente"]],standalone:!1,decls:14,vars:4,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-2","border-rounded"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],["ddFilterCriteria","Firma",3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible"],[3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria"],[2,"text-align","center"],["color","primary","fontIcon","check",4,"ngIf"],["color","warn","fontIcon","close",4,"ngIf"],[1,"text-center"],[3,"routerLink"],[3,"click"],["color","primary","fontIcon","check"],["color","warn","fontIcon","close"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Nomenclator Compartimente"),n()()(),r(4,"div",2),x(5,"router-outlet"),_(6,Ni,1,7,"table-header",3)(7,Bi,1,5,"table-header",4),r(8,"table",5)(9,"thead",6)(10,"tr",7),_(11,Wi,2,1,"td",8),n()(),r(12,"tbody"),_(13,Ui,19,9,"tr",8),n()()()),t&2&&(d(6),c("ngIf",!a.idFirmaLoggedInUser),d(),c("ngIf",a.idFirmaLoggedInUser),d(4),c("ngForOf",a.headers),d(2),c("ngForOf",a.compartimente))},dependencies:[ue,A,F,ce,pe,ye,me,oe],encapsulation:2})}};Ye=E([D({checkProperties:!0})],Ye);var je=(()=>{class l{constructor(t){this.httpClient=t,this.baseUrl=xe.baseUrl,this.tableFiltersSubject=new ae({filter:"",filterFirma:null,currentPage:1,itemsPerPage:10}),this.diviziiDisplayModelSubject=new ae(null),this.tableFiltersDiviziiObs$=this.tableFiltersSubject.asObservable(),this.diviziiDisplayModelObs$=this.diviziiDisplayModelSubject.asObservable()}getAllPaginated(t,a,e,i){let y=JSON.parse(localStorage.getItem("user"))?.idFirma,M=JSON.parse(localStorage.getItem("user"))?.idRol,f=new Ce;f=f.append("currentPage",t),f=f.append("itemsPerPage",a),f=f.append("idRol",M||""),f=f.append("idFirmaLoggedInUser",y||""),f=f.append("filter",e||""),f=f.append("filterFirma",i||""),this.tableFiltersSubject.next({filter:e,filterFirma:i,currentPage:t,itemsPerPage:a}),this.httpClient.get(this.baseUrl+"/Divizii",{params:f}).pipe(se(Me=>{this.diviziiDisplayModelSubject.next(Me)})).subscribe()}get(t){return this.httpClient.get(this.baseUrl+"/Divizii/"+t)}update(t){return this.httpClient.put(this.baseUrl+"/Divizii",t)}add(t){return this.httpClient.post(this.baseUrl+"/Divizii",t)}delete(t){return this.httpClient.delete(this.baseUrl+"/Divizii/"+t)}static{this.\u0275fac=function(a){return new(a||l)(ve(Se))}}static{this.\u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function Ri(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Linie de Business"),n())}function Hi(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Linie de Business"),n())}function qi(l,o){if(l&1&&(r(0,"option",20),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function Ji(l,o){if(l&1){let t=P();r(0,"div",7)(1,"div",8)(2,"div",9),_(3,Ri,2,0,"h3",10)(4,Hi,2,0,"h3",10),n(),r(5,"form",11,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",12),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.id,e)||(i.divizie.id=e),u(e)}),n(),r(8,"div",7)(9,"div",13)(10,"div",14)(11,"div",15)(12,"label",16),s(13,"Denumire"),n(),r(14,"input",17,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.denumire,e)||(i.divizie.denumire=e),u(e)}),n()()(),r(16,"div",14)(17,"div",15)(18,"label",18),s(19,"Frima"),n(),r(20,"select",19),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.idFirma,e)||(i.divizie.idFirma=e),u(e)}),r(21,"option",20),s(22,"Selecta\u021Bi firma"),n(),_(23,qi,2,2,"option",21),n()()()(),r(24,"div",22)(25,"div",14)(26,"div",23)(27,"label",24),s(28,"Data \xCEnceput"),n(),r(29,"input",25,2),k(31,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.divizie.dataIn=e)}),n(),x(32,"span",26),n(),r(33,"div",23)(34,"label",27),s(35,"Data Sf\u0103r\u0219it"),n(),r(36,"input",28,3),k(38,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.divizie.dataSf=e)}),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.dataSf,e)||(i.divizie.dataSf=e),u(e)}),n()()()(),r(39,"div",29)(40,"div",14)(41,"div",30)(42,"label",31),s(43,"Descriere"),n(),r(44,"textarea",32,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.descriere,e)||(i.divizie.descriere=e),u(e)}),n()()()()(),r(46,"div",33)(47,"div",34)(48,"cancel-button",35),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(49,"div",34),x(50,"save-button",36),n()()()()()}if(l&2){let t=w(6),a=m();d(3),c("ngIf",a.isEditMode),d(),c("ngIf",!a.isEditMode),d(3),h("ngModel",a.divizie.id),d(7),h("ngModel",a.divizie.denumire),d(6),h("ngModel",a.divizie.idFirma),c("disabled",a.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",a.ddFirmeSelectionList),d(6),c("ngModel",L(31,13,a.divizie.dataIn,"yyyy-MM-dd")),d(7),c("ngModel",L(38,16,a.divizie.dataSf,"yyyy-MM-dd")),h("ngModel",a.divizie.dataSf),d(8),h("ngModel",a.divizie.descriere),d(6),c("disabled",!t.valid)}}var Ze=class Ft{constructor(o,t,a,e,i,y){this.firmeService=o,this.divizieService=t,this.toastr=a,this.ddStateService=e,this.router=i,this.route=y,this.isEditMode=!1,this.loggedInUserHasFirma=!1,this.divizie={id:0,denumire:"",descriere:"",dataIn:null,dataSf:null,activ:!1,updateDate:null,updateId:"",firma:"",idFirma:null},this.firmeSub=this.firmeService.firmeSelections$.subscribe(M=>{this.ddFirmeSelectionList=M}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(M=>{M&&(this.loggedInUserHasFirma=!0,this.divizie.firma=M.Text,this.divizie.idFirma=M.IdFirma)})}save(){this.divizieService.add(this.divizie).subscribe({next:()=>{this.ddStateService.upsertDropdowns(),this.toastr.success("Divizia a fost adaugata cu succes!","Succes!"),setTimeout(()=>{this.goToDivizii()},500)},error:o=>{this.toastr.error(`Divizia nu a putut fi adaugata!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToDivizii()}goToDivizii(){this.router.navigate(["/divizii"],{relativeTo:this.route})}static{this.\u0275fac=function(t){return new(t||Ft)(g(T),g(je),g(V),g(z),g(O),g(N))}}static{this.\u0275cmp=I({type:Ft,selectors:[["divizie-add"]],standalone:!1,decls:2,vars:1,consts:[["divizieForm","ngForm"],["denumire","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],["descriere","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-12"],["for","divizie-denumire"],["type","text","id","divizie-denumire","name","denumire",1,"form-control",3,"ngModelChange","ngModel"],["for","divizie-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","divizie-dataIn"],["for","dataIn","data-provide","datepicker","type","date","name","dataIn","id","divizie-dataIn",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","divizie-dataSf"],["data-provide","datepicker","type","date","name","dataSf","id","divizie-dataSf",1,"form-control","date",3,"ngModelChange","ngModel","ngModel"],[1,"col-12","pt-4"],[1,"col-md-12"],["for","divizie-descriere"],["type","text","id","divizie-descriere","name","descriere","rows","2",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","pt-1"],[1,"col-6"],[3,"click"],[3,"disabled"]],template:function(t,a){t&1&&(r(0,"div",5),_(1,Ji,51,19,"div",6),n()),t&2&&(d(),c("ngIf",a.divizie))},dependencies:[A,F,H,J,G,Y,q,W,U,j,R,Z,K,$],encapsulation:2})}};Ze=E([D({checkProperties:!0})],Ze);function Gi(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Linie de Business"),n())}function Ki(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Linie de Business"),n())}function Qi(l,o){if(l&1&&(r(0,"option",20),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function Xi(l,o){if(l&1){let t=P();r(0,"div",7)(1,"div",8)(2,"div",9),_(3,Gi,2,0,"h3",10)(4,Ki,2,0,"h3",10),n(),r(5,"form",11,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",12),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.id,e)||(i.divizie.id=e),u(e)}),n(),r(8,"div",7)(9,"div",13)(10,"div",14)(11,"div",15)(12,"label",16),s(13,"Denumire"),n(),r(14,"input",17,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.denumire,e)||(i.divizie.denumire=e),u(e)}),n()()(),r(16,"div",14)(17,"div",15)(18,"label",18),s(19,"Frima"),n(),r(20,"select",19),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.idFirma,e)||(i.divizie.idFirma=e),u(e)}),r(21,"option",20),s(22,"Selecta\u021Bi firma"),n(),_(23,Qi,2,2,"option",21),n()()()(),r(24,"div",22)(25,"div",14)(26,"div",23)(27,"label",24),s(28,"Data \xCEnceput"),n(),r(29,"input",25,2),k(31,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.divizie.dataIn=e)}),n(),x(32,"span",26),n(),r(33,"div",23)(34,"label",27),s(35,"Data Sf\u0103r\u0219it"),n(),r(36,"input",28,3),k(38,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.divizie.dataSf=e)}),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.dataSf,e)||(i.divizie.dataSf=e),u(e)}),n()()()(),r(39,"div",29)(40,"div",14)(41,"div",30)(42,"label",31),s(43,"Descriere"),n(),r(44,"textarea",32,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.divizie.descriere,e)||(i.divizie.descriere=e),u(e)}),n()()()()(),r(46,"div",33)(47,"div",34)(48,"cancel-button",35),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(49,"div",34),x(50,"save-button",36),n()()()()()}if(l&2){let t=w(6),a=m();d(3),c("ngIf",a.isEditMode),d(),c("ngIf",!a.isEditMode),d(3),h("ngModel",a.divizie.id),d(7),h("ngModel",a.divizie.denumire),d(6),h("ngModel",a.divizie.idFirma),c("disabled",a.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",a.ddFirmeSelectionList),d(6),c("ngModel",L(31,13,a.divizie.dataIn,"yyyy-MM-dd")),d(7),c("ngModel",L(38,16,a.divizie.dataSf,"yyyy-MM-dd")),h("ngModel",a.divizie.dataSf),d(8),h("ngModel",a.divizie.descriere),d(6),c("disabled",!t.valid)}}var $e=class Et{constructor(o,t,a,e,i,y){this.firmeService=o,this.diviziiService=t,this.ddStateService=a,this.toastr=e,this.router=i,this.route=y,this.divizie={},this.isEditMode=!0,this.loggedInUserHasFirma=!1,this.firmeSub=this.firmeService.firmeSelections$.subscribe(M=>{this.ddFirmeSelectionList=M})}ngOnInit(){this.route.params.subscribe(o=>{this.id=+o.id,this.diviziiSub=this.diviziiService.get(this.id).subscribe(t=>{this.divizie=t})}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(o=>{o&&(this.loggedInUserHasFirma=!0)})}save(){this.diviziiService.update(this.divizie).subscribe({next:()=>{this.ddStateService.upsertDropdowns(),this.toastr.success("Divizia a fost modificat\u0103 cu succes!","Succes!"),setTimeout(()=>{this.goToDivizii()},1e3)},error:o=>{this.toastr.error(`Divizia nu a putut fi modificat\u0103!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToDivizii()}goToDivizii(){this.router.navigate(["/divizii"])}static{this.\u0275fac=function(t){return new(t||Et)(g(T),g(je),g(z),g(V),g(O),g(N))}}static{this.\u0275cmp=I({type:Et,selectors:[["app-divizie-edit"]],standalone:!1,decls:2,vars:1,consts:[["divizieForm","ngForm"],["denumire","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],["descriere","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-12"],["for","divizie-denumire"],["type","text","id","divizie-denumire","name","denumire",1,"form-control",3,"ngModelChange","ngModel"],["for","divizie-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","divizie-dataIn"],["for","dataIn","data-provide","datepicker","type","date","name","dataIn","id","divizie-dataIn",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","divizie-dataSf"],["data-provide","datepicker","type","date","name","dataSf","id","divizie-dataSf",1,"form-control","date",3,"ngModelChange","ngModel","ngModel"],[1,"col-12","pt-4"],[1,"col-md-12"],["for","divizie-descriere"],["type","text","id","divizie-descriere","name","descriere","rows","2",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","pt-1"],[1,"col-6"],[3,"click"],[3,"disabled"]],template:function(t,a){t&1&&(r(0,"div",5),_(1,Xi,51,19,"div",6),n()),t&2&&(d(),c("ngIf",a.divizie))},dependencies:[A,F,H,J,G,Y,q,W,U,j,R,Z,K,$],encapsulation:2})}};$e=E([D({checkProperties:!0})],$e);var Yi=l=>["edit",l];function Zi(l,o){if(l&1){let t=P();r(0,"table-header",9),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))})("serachIdDDFilter",function(e){p(t);let i=m();return u(i.filterFirma(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire, Descriere")("ddFilterList",t.ddFirme)("ddFilterVisible",!0)}}function $i(l,o){if(l&1){let t=P();r(0,"table-header",10),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire, Descriere")}}function en(l,o){if(l&1&&(r(0,"td"),s(1),n()),l&2){let t=o.$implicit;d(),b(t)}}function tn(l,o){l&1&&x(0,"mat-icon",17)}function nn(l,o){l&1&&x(0,"mat-icon",18)}function rn(l,o){if(l&1){let t=P();r(0,"tr")(1,"td"),s(2),n(),r(3,"td"),s(4),n(),r(5,"td",11),_(6,tn,1,0,"mat-icon",12)(7,nn,1,0,"mat-icon",13),n(),r(8,"td"),s(9),n(),r(10,"td")(11,"div",14),x(12,"table-edit-button",15),n()(),r(13,"td")(14,"div",14)(15,"table-delete-button",16),S("click",function(){let e=p(t).$implicit,i=m();return u(i.deleteDvizie(e.id))}),n()()()()}if(l&2){let t=o.$implicit;d(2),b(t.denumire),d(2),b(t.descriere),d(2),c("ngIf",t.activ),d(),c("ngIf",!t.activ),d(2),b(t.firma),d(3),c("routerLink",le(6,Yi,t.id))}}var et=class Vt{constructor(o,t,a,e,i){this.firmeService=o,this.diviziiService=t,this.router=a,this.activatedRoute=e,this.toastr=i,this.divizii=[],this.headers=[],this.pages=0,this.filtru="",this.currentPage=1,this.itemsPerPage=10,this.filtruIdFirma=null,this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.getDDFirme()}ngOnInit(){this.headers=["Denumire","Descriere","Stare activ\u0103 / inactiv\u0103","Firma","Modifica\u021Bi","\u0218terge\u021Bi"],this.tableFiltersSub=this.diviziiService.tableFiltersDiviziiObs$.subscribe(o=>{this.filtru=o?.filter,this.filtruIdFirma=o?.filterFirma,this.currentPage=o?.currentPage,this.itemsPerPage=o?.itemsPerPage}),this.getDivizii(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}deleteDvizie(o){this.diviziiService.delete(o).subscribe({next:()=>{setTimeout(()=>{window.location.reload()},1e3),this.toastr.success("Divizia a fost \u0219ters\u0103 cu succes!","Succes!")},error:t=>{this.toastr.error(`Divizia nu a putut fi \u0219ters\u0103!, ${t.message}`,"Eroare!")}})}navToAdd(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}nextPage(o){this.getDivizii(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getDivizii(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getDivizii(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getDivizii(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getDivizii(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getDivizii(o,t,a,e){this.diviziiService.getAllPaginated(o,t,a,e),this.diviziiSub=this.diviziiService.diviziiDisplayModelObs$.subscribe({next:i=>{this.divizii=i?.divizii,this.pages=i?.pages,this.currentPage=i?.currentPage},error:i=>{this.toastr.error(i.error.message)}})}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getDivizii(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}static{this.\u0275fac=function(t){return new(t||Vt)(g(T),g(je),g(O),g(N),g(V))}}static{this.\u0275cmp=I({type:Vt,selectors:[["divizii"]],standalone:!1,decls:14,vars:4,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-2","border-rounded"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],["ddFilterCriteria","Firma",3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible"],[3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria"],[2,"text-align","center"],["color","primary","fontIcon","check",4,"ngIf"],["color","warn","fontIcon","close",4,"ngIf"],[1,"text-center"],[3,"routerLink"],[3,"click"],["color","primary","fontIcon","check"],["color","warn","fontIcon","close"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Nomenclator Linii de Business"),n()()(),x(4,"router-outlet"),r(5,"div",2),_(6,Zi,1,7,"table-header",3)(7,$i,1,5,"table-header",4),r(8,"table",5)(9,"thead",6)(10,"tr",7),_(11,en,2,1,"td",8),n()(),r(12,"tbody"),_(13,rn,16,8,"tr",8),n()()()),t&2&&(d(6),c("ngIf",!a.idFirmaLoggedInUser),d(),c("ngIf",a.idFirmaLoggedInUser),d(4),c("ngForOf",a.headers),d(2),c("ngForOf",a.divizii))},dependencies:[ue,A,F,ce,pe,ye,me,oe],encapsulation:2})}};et=E([D({checkProperties:!0})],et);var Ee=(()=>{class l{constructor(t){this.httpClient=t,this.baseUrl=xe.baseUrl,this.tableFiltersSubject=new ae({filter:"",filterFirma:null,currentPage:1,itemsPerPage:10}),this.posturiDisplayModelSubject=new ae(null),this.tableFiltersObs$=this.tableFiltersSubject.asObservable(),this.posturiDisplayModelObs$=this.posturiDisplayModelSubject.asObservable()}getAllPaginated(t,a,e,i){let y=JSON.parse(localStorage.getItem("user"))?.idFirma,M=JSON.parse(localStorage.getItem("user"))?.idRol,f=new Ce;f=f.append("currentPage",t||1),f=f.append("itemsPerPage",a||10),f=f.append("idRol",M||""),f=f.append("idFirmaLoggedInUser",y||""),f=f.append("filter",e||""),f=f.append("filterFirma",i||""),this.tableFiltersSubject.next({filter:e,filterFirma:i,currentPage:t,itemsPerPage:a}),this.httpClient.get(this.baseUrl+"/Posturi",{params:f}).pipe(se(Me=>{this.posturiDisplayModelSubject.next(Me)})).subscribe()}get(t){return this.httpClient.get(this.baseUrl+"/Posturi/"+t)}update(t){return this.httpClient.put(this.baseUrl+"/Posturi",t)}addProfilPost(t){return this.httpClient.post(this.baseUrl+"/Posturi/addProfilPost",t)}updateProfilPost(t){return this.httpClient.put(this.baseUrl+"/Posturi/updateProfilPost",t)}deleteProfiliPost(t){return this.httpClient.delete(this.baseUrl+"/Posturi/deleteProfiliPost/"+t)}getProfilPost(t){return this.httpClient.get(this.baseUrl+"/Posturi/getProfilPost/"+t)}add(t){return this.httpClient.post(this.baseUrl+"/Posturi",t)}delete(t){return this.httpClient.delete(this.baseUrl+"/Posturi/"+t)}static{this.\u0275fac=function(a){return new(a||l)(ve(Se))}}static{this.\u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function on(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Post"),n())}function an(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Post"),n())}function ln(l,o){l&1&&(r(0,"span",45),s(1,"C\xE2mpul este obligatoriu!"),n())}function dn(l,o){if(l&1&&(r(0,"option",39),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function sn(l,o){if(l&1){let t=P();r(0,"form",14,0),S("ngSubmit",function(){p(t);let e=m();return u(e.onSubmit())}),r(2,"input",15),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.id,e)||(i.post.id=e),u(e)}),n(),r(3,"div",9)(4,"div",16)(5,"div",17)(6,"div",18)(7,"label",19),s(8,"Denumire"),n(),r(9,"input",20,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.nume,e)||(i.post.nume=e),u(e)}),n(),_(11,ln,2,0,"span",21),n()(),r(12,"div",17)(13,"div",18)(14,"label",22),s(15,"COR"),n(),r(16,"input",23,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.cor,e)||(i.post.cor=e),u(e)}),n()()()(),r(18,"div",24)(19,"div",17)(20,"div",25)(21,"label",26),s(22,"Data \xCEnceput"),n(),r(23,"input",27,3),k(25,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.post.dataIn=e)}),n(),x(26,"span",28),n(),r(27,"div",25)(28,"label",29),s(29,"Data Sf\u0103r\u0219it"),n(),r(30,"input",30,4),k(32,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.post.dataSf=e)}),n()()(),r(33,"div",17)(34,"div",25)(35,"label",31),s(36,"Nivel post"),n(),r(37,"input",32,5),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.nivelPost,e)||(i.post.nivelPost=e),u(e)}),n()(),r(39,"div",25)(40,"label",33),s(41,"Denumire func\u021Bie"),n(),r(42,"input",34,6),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.denFunctie,e)||(i.post.denFunctie=e),u(e)}),n()()(),r(44,"div",17)(45,"div",25)(46,"label",35),s(47,"Punctaj"),n(),r(48,"input",36,7),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.punctaj,e)||(i.post.punctaj=e),u(e)}),n()(),r(50,"div",25)(51,"label",37),s(52,"Firma"),n(),r(53,"select",38),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.idFirma,e)||(i.post.idFirma=e),u(e)}),r(54,"option",39),s(55,"Selecta\u021Bi firma"),n(),_(56,dn,2,2,"option",40),n()()()(),r(57,"div",41)(58,"div",42)(59,"cancel-button",43),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(60,"div",42),x(61,"save-button",44),n()()()()}if(l&2){let t=w(1),a=w(10),e=m();d(2),h("ngModel",e.post.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.post.nume),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.post.cor),d(7),c("ngModel",L(25,16,e.post.dataIn,"yyyy-MM-dd")),d(7),c("ngModel",L(32,19,e.post.dataSf,"yyyy-MM-dd")),d(7),h("ngModel",e.post.nivelPost),d(5),h("ngModel",e.post.denFunctie),d(6),h("ngModel",e.post.punctaj),d(5),h("ngModel",e.post.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(5),c("disabled",!t.valid)}}var it=class Tt{constructor(o,t,a,e,i,y){this.firmeService=o,this.posturiService=t,this.ddStateService=a,this.toastr=e,this.router=i,this.route=y,this.isEditMode=!1,this.loggedInUserHasFirma=!1,this.post={id:0,nume:"",dataIn:null,dataSf:null,profilCompetente:"",cor:"",denFunctie:"",nivelPost:"",punctaj:0,activ:!1,idFirma:null,firma:""}}ngOnInit(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirmeSelectionList=o}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(o=>{o&&(this.loggedInUserHasFirma=!0,this.post.firma=o.Text,this.post.idFirma=o.IdFirma)})}onSubmit(){this.posturiService.add(this.post).subscribe({next:()=>{this.ddStateService.upsertDropdowns(),this.toastr.success("Postul a fost adaug\u0103t cu succes!","Succes!"),setTimeout(()=>{this.goToPosturi()},500)},error:o=>{this.toastr.error(`Postul nu a putut fi adaug\u0103t!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToPosturi()}goToPosturi(){this.router.navigate(["/posturi"],{relativeTo:this.route})}static{this.\u0275fac=function(t){return new(t||Tt)(g(T),g(Ee),g(z),g(V),g(O),g(N))}}static{this.\u0275cmp=I({type:Tt,selectors:[["post-add"]],standalone:!1,decls:7,vars:3,consts:[["postForm","ngForm"],["nume","ngModel"],["cor","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],["nivelPost","ngModel"],["denFunctie","ngModel"],["punctaj","ngModel"],[1,"container"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","post-nume",1,"required-label"],["type","text","id","post-nume","name","nume","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","post-cor"],["type","text","id","post-cor","name","cor",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","post-dataIn"],["data-provide","datepicker","type","date","name","dataIn","id","post-dataIn",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","post-dataSf"],["data-provide","datepicker","type","date","name","dataSf","id","post-dataSf","name","dataSf",1,"form-control","date",3,"ngModelChange","ngModel"],["for","post-nivelPost"],["type","text","id","post-nivelPost","name","nivelPost",1,"form-control",3,"ngModelChange","ngModel"],["for","post-denFunctie"],["type","text","id","post-denFunctie","name","denFunctie",1,"form-control",3,"ngModelChange","ngModel"],["for","post-punctaj"],["type","number","id","post-punctaj","name","punctaj",1,"form-control",3,"ngModelChange","ngModel"],["for","post-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"]],template:function(t,a){t&1&&(r(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),_(4,on,2,0,"h3",12)(5,an,2,0,"h3",12),n(),_(6,sn,62,22,"form",13),n()()()),t&2&&(d(4),c("ngIf",!a.isEditMode),d(),c("ngIf",a.isEditMode),d(),c("ngIf",a.post))},dependencies:[A,F,H,J,G,Y,we,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};it=E([D({checkProperties:!0})],it);function mn(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Post"),n())}function cn(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Post"),n())}function pn(l,o){l&1&&(r(0,"span",45),s(1,"C\xE2mpul este obligatoriu!"),n())}function un(l,o){if(l&1&&(r(0,"option",39),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function gn(l,o){if(l&1){let t=P();r(0,"form",14,0),S("ngSubmit",function(){p(t);let e=m();return u(e.onSubmit())}),r(2,"input",15),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.id,e)||(i.post.id=e),u(e)}),n(),r(3,"div",9)(4,"div",16)(5,"div",17)(6,"div",18)(7,"label",19),s(8,"Denumire"),n(),r(9,"input",20,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.nume,e)||(i.post.nume=e),u(e)}),n(),_(11,pn,2,0,"span",21),n()(),r(12,"div",17)(13,"div",18)(14,"label",22),s(15,"COR"),n(),r(16,"input",23,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.cor,e)||(i.post.cor=e),u(e)}),n()()()(),r(18,"div",24)(19,"div",17)(20,"div",25)(21,"label",26),s(22,"Data \xCEnceput"),n(),r(23,"input",27,3),k(25,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.post.dataIn=e)}),n(),x(26,"span",28),n(),r(27,"div",25)(28,"label",29),s(29,"Data Sf\u0103r\u0219it"),n(),r(30,"input",30,4),k(32,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.post.dataSf=e)}),n()()(),r(33,"div",17)(34,"div",25)(35,"label",31),s(36,"Nivel post"),n(),r(37,"input",32,5),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.nivelPost,e)||(i.post.nivelPost=e),u(e)}),n()(),r(39,"div",25)(40,"label",33),s(41,"Denumire func\u021Bie"),n(),r(42,"input",34,6),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.denFunctie,e)||(i.post.denFunctie=e),u(e)}),n()()(),r(44,"div",17)(45,"div",25)(46,"label",35),s(47,"Punctaj"),n(),r(48,"input",36,7),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.punctaj,e)||(i.post.punctaj=e),u(e)}),n()(),r(50,"div",25)(51,"label",37),s(52,"Firma"),n(),r(53,"select",38),C("ngModelChange",function(e){p(t);let i=m();return v(i.post.idFirma,e)||(i.post.idFirma=e),u(e)}),r(54,"option",39),s(55,"Selecta\u021Bi firma"),n(),_(56,un,2,2,"option",40),n()()()(),r(57,"div",41)(58,"div",42)(59,"cancel-button",43),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(60,"div",42),x(61,"save-button",44),n()()()()}if(l&2){let t=w(1),a=w(10),e=m();d(2),h("ngModel",e.post.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.post.nume),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.post.cor),d(7),c("ngModel",L(25,16,e.post.dataIn,"yyyy-MM-dd")),d(7),c("ngModel",L(32,19,e.post.dataSf,"yyyy-MM-dd")),d(7),h("ngModel",e.post.nivelPost),d(5),h("ngModel",e.post.denFunctie),d(6),h("ngModel",e.post.punctaj),d(5),h("ngModel",e.post.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(5),c("disabled",!t.valid)}}var nt=class Ot{constructor(o,t,a,e,i,y){this.firmeService=o,this.posturiService=t,this.toastr=a,this.ddService=e,this.router=i,this.route=y,this.isEditMode=!0,this.loggedInUserHasFirma=!1,this.loggedInUserIdFirma=JSON.parse(localStorage.getItem("user"))?.idFirma,this.firmeSub=this.firmeService.firmeSelections$.subscribe(M=>{this.ddFirmeSelectionList=M}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(M=>{M&&(this.loggedInUserHasFirma=!0)})}ngOnInit(){this.route.params.subscribe(o=>{this.id=+o.id,this.postSub=this.posturiService.get(this.id).subscribe(t=>{this.post=t})})}onSubmit(){this.posturiService.update(this.post).subscribe({next:()=>{this.ddService.upsertDropdowns(),this.toastr.success("Postul a fost modificat cu succes!","Succes!"),setTimeout(()=>{this.goToPosturi()},1e3)},error:o=>{this.toastr.error(`Postul nu a putut fi modificat!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToPosturi()}goToPosturi(){this.router.navigate(["/posturi"])}static{this.\u0275fac=function(t){return new(t||Ot)(g(T),g(Ee),g(V),g(z),g(O),g(N))}}static{this.\u0275cmp=I({type:Ot,selectors:[["post-edit"]],standalone:!1,decls:7,vars:3,consts:[["postForm","ngForm"],["nume","ngModel"],["cor","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],["nivelPost","ngModel"],["denFunctie","ngModel"],["punctaj","ngModel"],[1,"container"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","post-nume",1,"required-label"],["type","text","id","post-nume","name","nume","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","post-cor"],["type","text","id","post-cor","name","cor",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","post-dataIn"],["data-provide","datepicker","type","date","name","dataIn","id","post-dataIn",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","post-dataSf"],["data-provide","datepicker","type","date","name","dataSf","id","post-dataSf","name","dataSf",1,"form-control","date",3,"ngModelChange","ngModel"],["for","post-nivelPost"],["type","text","id","post-nivelPost","name","nivelPost",1,"form-control",3,"ngModelChange","ngModel"],["for","post-denFunctie"],["type","text","id","post-denFunctie","name","denFunctie",1,"form-control",3,"ngModelChange","ngModel"],["for","post-punctaj"],["type","number","id","post-punctaj","name","punctaj",1,"form-control",3,"ngModelChange","ngModel"],["for","post-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"]],template:function(t,a){t&1&&(r(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),_(4,mn,2,0,"h3",12)(5,cn,2,0,"h3",12),n(),_(6,gn,62,22,"form",13),n()()()),t&2&&(d(4),c("ngIf",!a.isEditMode),d(),c("ngIf",a.isEditMode),d(),c("ngIf",a.post))},dependencies:[A,F,H,J,G,Y,we,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};nt=E([D({checkProperties:!0})],nt);var fn=l=>["edit",l],hn=l=>["profilPost",l];function vn(l,o){if(l&1){let t=P();r(0,"table-header",9),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))})("serachIdDDFilter",function(e){p(t);let i=m();return u(i.filterFirma(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire, Func\u021Bie")("ddFilterList",t.ddFirme)("ddFilterVisible",!0)}}function Cn(l,o){if(l&1){let t=P();r(0,"table-header",10),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire, Func\u021Bie")}}function Sn(l,o){if(l&1&&(r(0,"td"),s(1),n()),l&2){let t=o.$implicit;d(),b(t)}}function xn(l,o){l&1&&x(0,"mat-icon",18)}function bn(l,o){l&1&&x(0,"mat-icon",19)}function Pn(l,o){if(l&1){let t=P();r(0,"tr")(1,"td"),s(2),n(),r(3,"td"),s(4),n(),r(5,"td"),s(6),n(),r(7,"td"),s(8),n(),r(9,"td",11),_(10,xn,1,0,"mat-icon",12)(11,bn,1,0,"mat-icon",13),n(),r(12,"td"),s(13),n(),r(14,"td")(15,"div",14),x(16,"table-edit-button",15),n()(),r(17,"td")(18,"div",14)(19,"table-delete-button",16),S("click",function(){let e=p(t).$implicit,i=m();return u(i.deletePost(e.id))}),n()()(),r(20,"td")(21,"div",14)(22,"button",17),s(23," Profilul Postului "),n()()()()}if(l&2){let t=o.$implicit;d(2),b(t.nume),d(2),b(t.cor),d(2),b(t.denFunctie),d(2),b(t.nivelPost),d(2),c("ngIf",t.activ),d(),c("ngIf",!t.activ),d(2),B(" ",t.firma," "),d(3),c("routerLink",le(9,fn,t.id)),d(6),c("routerLink",le(11,hn,t.id))}}var rt=class Dt{constructor(o,t,a,e,i){this.posturiService=o,this.router=t,this.firmeService=a,this.activatedRoute=e,this.toastr=i,this.posturi=[],this.headers=[],this.filtruIdFirma=null,this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.getDDFirme()}ngOnInit(){this.headers=["Denumire","COR","Denumire func\u021Bie","Nivel post","Stare","Firma","Modifica\u021Bi","\u0218terge\u021Bi","Seta\u021Bi profilul postului"],this.tableFiltersSub=this.posturiService.tableFiltersObs$.subscribe(o=>{this.filtru=o?.filter,this.filtruIdFirma=o?.filterFirma,this.currentPage=o?.currentPage,this.itemsPerPage=o?.itemsPerPage}),this.getPosturi(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}deletePost(o){this.posturiService.delete(o).subscribe({next:()=>{setTimeout(()=>{window.location.reload()},1e3),this.toastr.success("Postul a fost \u0219ters cu succes!","Succes!")},error:t=>{this.toastr.error(`Postul nu a putut fi \u0219ters!, ${t.message}`,"Eroare!")}})}navToAdd(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}nextPage(o){this.getPosturi(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getPosturi(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getPosturi(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getPosturi(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getPosturi(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getPosturi(o,t,a,e){this.posturiService.getAllPaginated(o,t,a,e),this.posturiSub=this.posturiService.posturiDisplayModelObs$.subscribe(i=>{this.posturi=i?.posturi,this.pages=i?.pages,this.currentPage=i?.currentPage})}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getPosturi(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}static{this.\u0275fac=function(t){return new(t||Dt)(g(Ee),g(O),g(T),g(N),g(V))}}static{this.\u0275cmp=I({type:Dt,selectors:[["app-posturi"]],standalone:!1,decls:14,vars:4,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-2","border-rounded"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],["ddFilterCriteria","Firma",3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible"],[3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria"],[2,"text-align","center"],["color","primary","fontIcon","check",4,"ngIf"],["color","warn","fontIcon","close",4,"ngIf"],[1,"text-center"],[3,"routerLink"],[3,"click"],["type","button","mat-raised-button","","color","primary",3,"routerLink"],["color","primary","fontIcon","check"],["color","warn","fontIcon","close"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Nomenclator Posturi"),n()()(),r(4,"div",2),x(5,"router-outlet"),_(6,vn,1,7,"table-header",3)(7,Cn,1,5,"table-header",4),r(8,"table",5)(9,"thead",6)(10,"tr",7),_(11,Sn,2,1,"td",8),n()(),r(12,"tbody"),_(13,Pn,24,13,"tr",8),n()()()),t&2&&(d(6),c("ngIf",!a.idFirmaLoggedInUser),d(),c("ngIf",a.idFirmaLoggedInUser),d(4),c("ngForOf",a.headers),d(2),c("ngForOf",a.posturi))},dependencies:[ue,A,F,ce,Je,pe,ye,me,oe],encapsulation:2})}};rt=E([D({checkProperties:!0})],rt);var ze=(()=>{class l{constructor(t){this.httpClient=t,this.baseUrl=xe.baseUrl,this.tableFiltersSubject=new ae({filter:"",filterFirma:null,currentPage:1,itemsPerPage:10}),this.skillsDisplayModelSubject=new ae(null),this.tableFiltersObs$=this.tableFiltersSubject.asObservable(),this.skillsDisplayModelObs$=this.skillsDisplayModelSubject.asObservable()}getAllPaginated(t,a,e,i){let y=JSON.parse(localStorage.getItem("user"))?.idFirma,M=JSON.parse(localStorage.getItem("user"))?.idRol,f=new Ce;f=f.append("currentPage",t),f=f.append("itemsPerPage",a),f=f.append("idRol",M||""),f=f.append("idFirmaLoggedInUser",y||""),f=f.append("filter",e||""),f=f.append("filterFirma",i||""),this.tableFiltersSubject.next({filter:e,filterFirma:i,currentPage:t,itemsPerPage:a}),this.httpClient.get(this.baseUrl+"/Skills",{params:f}).pipe(se(Me=>{this.skillsDisplayModelSubject.next(Me)})).subscribe()}get(t){return this.httpClient.get(this.baseUrl+"/Skills/"+t)}update(t,a){return this.httpClient.put(this.baseUrl+"/Skills",a)}add(t){return this.httpClient.post(this.baseUrl+"/Skills",t)}delete(t){return this.httpClient.delete(this.baseUrl+"/Skills/"+t)}static{this.\u0275fac=function(a){return new(a||l)(ve(Se))}}static{this.\u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function yn(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Competen\u021B\u0103"),n())}function Mn(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Competen\u021B\u0103"),n())}function wn(l,o){l&1&&(r(0,"span",44),s(1,"C\xE2mpul este obligatoriu!"),n())}function In(l,o){l&1&&(r(0,"span",44),s(1,"C\xE2mpul este obligatoriu!"),n())}function Fn(l,o){if(l&1&&(r(0,"option",31),s(1),n()),l&2){let t=o.$implicit;c("value",t.Valoare),d(),b(t.Valoare)}}function En(l,o){if(l&1&&(r(0,"option",31),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function Vn(l,o){if(l&1){let t=P();r(0,"div",9)(1,"div",10)(2,"div",11),_(3,yn,2,0,"h3",12)(4,Mn,2,0,"h3",12),n(),r(5,"form",13,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",14),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.id,e)||(i.skill.id=e),u(e)}),n(),r(8,"div",9)(9,"div",15)(10,"div",16)(11,"div",17)(12,"label",18),s(13,"Denumire"),n(),r(14,"input",19,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.denumire,e)||(i.skill.denumire=e),u(e)}),n(),_(16,wn,2,0,"span",20),n()(),r(17,"div",16)(18,"div",17)(19,"label",21),s(20,"Descriere"),n(),r(21,"input",22,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.descriere,e)||(i.skill.descriere=e),u(e)}),n(),_(23,In,2,0,"span",20),n()()(),r(24,"div",23)(25,"div",16)(26,"div",24)(27,"label",25),s(28,"Tip"),n(),r(29,"select",26,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.tip,e)||(i.skill.tip=e),u(e)}),r(31,"option",27),s(32,"Selecta\u021Bi tipul"),n(),_(33,Fn,2,2,"option",28),n()(),r(34,"div",24)(35,"label",29),s(36,"Firma"),n(),r(37,"select",30),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.idFirma,e)||(i.skill.idFirma=e),u(e)}),r(38,"option",31),s(39,"Selecta\u021Bi firma"),n(),_(40,En,2,2,"option",28),n()()(),r(41,"div",16)(42,"div",24)(43,"label",32),s(44,"Data \xCEnceput"),n(),r(45,"input",33,4),k(47,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.skill.dataIn=e)}),n(),x(48,"span",34),n(),r(49,"div",24)(50,"label",35),s(51,"Data Sf\xE2r\u0219it"),n(),r(52,"input",36,5),k(54,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.skill.dataSf=e)}),n()()()(),r(55,"div",37)(56,"div",16)(57,"div",17)(58,"label",38),s(59,"Detalii"),n(),r(60,"input",39,6),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.detalii,e)||(i.skill.detalii=e),u(e)}),n()()()()(),r(62,"div",40)(63,"div",41)(64,"cancel-button",42),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(65,"div",41),x(66,"save-button",43),n()()()()()}if(l&2){let t=w(6),a=w(15),e=w(22),i=m();d(3),c("ngIf",!i.isEditMode),d(),c("ngIf",i.isEditMode),d(3),h("ngModel",i.skill.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",i.skill.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),X("invalid",e.touched&&e.invalid),h("ngModel",i.skill.descriere),d(2),c("ngIf",!e.valid&&e.touched),d(6),h("ngModel",i.skill.tip),d(4),c("ngForOf",i.tipComp),d(4),h("ngModel",i.skill.idFirma),c("disabled",i.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",i.ddFirmeSelectionList),d(5),c("ngModel",L(47,21,i.skill.dataIn,"yyyy-MM-dd")),d(7),c("ngModel",L(54,24,i.skill.dataSf,"yyyy-MM-dd")),d(8),h("ngModel",i.skill.detalii),d(6),c("disabled",!t.valid)}}var ot=class Lt{constructor(o,t,a,e,i,y,M){this.firmeService=o,this.skillService=t,this.toastr=a,this.selectionBoxService=e,this.router=i,this.ddService=y,this.route=M,this.isEditMode=!1,this.loggedInUserHasFirma=!1,this.skill={id:0,denumire:"",descriere:"",dataIn:null,dataSf:null,tip:null,detalii:null,activ:!1,firma:"",idFirma:null},this.tipCompSub=this.selectionBoxService.selections$.subscribe(f=>{this.tipComp=f?.TipCompetenteSelection}),this.firmeSub=this.firmeService.firmeSelections$.subscribe(f=>{this.ddFirmeSelectionList=f}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(f=>{f&&(this.loggedInUserHasFirma=!0,this.skill.firma=f.Text,this.skill.idFirma=f.IdFirma)})}save(){this.skillService.add(this.skill).subscribe({next:()=>{this.selectionBoxService.upsertSelections(),this.ddService.upsertDropdowns(),this.toastr.success("Competen\u021Ba a fost adaugat\u0103 cu succes!","Succes!"),setTimeout(()=>{this.goToLocatii()},500)},error:o=>{this.toastr.error(`Competen\u021Ba nu a putut fi adaugat\u0103!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToLocatii()}goToLocatii(){this.router.navigate(["/skills"],{relativeTo:this.route})}static{this.\u0275fac=function(t){return new(t||Lt)(g(T),g(ze),g(V),g(be),g(O),g(z),g(N))}}static{this.\u0275cmp=I({type:Lt,selectors:[["skill-add"]],standalone:!1,decls:2,vars:1,consts:[["skillForm","ngForm"],["denumire","ngModel"],["descriere","ngModel"],["tip","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],["detalii","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","skill-denumire",1,"required-label"],["type","text","id","skill-denumire","name","denumire","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","skill-descriere",1,"required-label"],["type","text","id","skill-descriere","name","descriere","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","skill-tip"],["id","skill-tip","name","tip",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","skill-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],["for","skill-dataIn"],["type","date","name","dataIn","id","skill-dataIn",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","skill-dataSf"],["type","date","name","dataSf","id","skill-dataSf",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"col-12"],["for","skill-detalii"],["type","text","id","skill-detalii","name","detalii",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"]],template:function(t,a){t&1&&(r(0,"div",7),_(1,Vn,67,27,"div",8),n()),t&2&&(d(),c("ngIf",a.skill))},dependencies:[A,F,H,J,G,Y,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};ot=E([D({checkProperties:!0})],ot);function Tn(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Competen\u021B\u0103"),n())}function On(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Competen\u021B\u0103"),n())}function Dn(l,o){l&1&&(r(0,"span",44),s(1,"C\xE2mpul este obligatoriu!"),n())}function kn(l,o){l&1&&(r(0,"span",44),s(1,"C\xE2mpul este obligatoriu!"),n())}function Ln(l,o){if(l&1&&(r(0,"option",31),s(1),n()),l&2){let t=o.$implicit;c("value",t.Valoare),d(),b(t.Valoare)}}function An(l,o){if(l&1&&(r(0,"option",31),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function Nn(l,o){if(l&1){let t=P();r(0,"div",9)(1,"div",10)(2,"div",11),_(3,Tn,2,0,"h3",12)(4,On,2,0,"h3",12),n(),r(5,"form",13,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",14),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.id,e)||(i.skill.id=e),u(e)}),n(),r(8,"div",9)(9,"div",15)(10,"div",16)(11,"div",17)(12,"label",18),s(13,"Denumire"),n(),r(14,"input",19,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.denumire,e)||(i.skill.denumire=e),u(e)}),n(),_(16,Dn,2,0,"span",20),n()(),r(17,"div",16)(18,"div",17)(19,"label",21),s(20,"Descriere"),n(),r(21,"input",22,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.descriere,e)||(i.skill.descriere=e),u(e)}),n(),_(23,kn,2,0,"span",20),n()()(),r(24,"div",23)(25,"div",16)(26,"div",24)(27,"label",25),s(28,"Tip"),n(),r(29,"select",26,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.tip,e)||(i.skill.tip=e),u(e)}),r(31,"option",27),s(32,"Selecta\u021Bi tipul"),n(),_(33,Ln,2,2,"option",28),n()(),r(34,"div",24)(35,"label",29),s(36,"Firma"),n(),r(37,"select",30),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.idFirma,e)||(i.skill.idFirma=e),u(e)}),r(38,"option",31),s(39,"Selecta\u021Bi firma"),n(),_(40,An,2,2,"option",28),n()()(),r(41,"div",16)(42,"div",24)(43,"label",32),s(44,"Data \xCEnceput"),n(),r(45,"input",33,4),k(47,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.skill.dataIn=e)}),n(),x(48,"span",34),n(),r(49,"div",24)(50,"label",35),s(51,"Data Sf\xE2r\u0219it"),n(),r(52,"input",36,5),k(54,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.skill.dataSf=e)}),n()()()(),r(55,"div",37)(56,"div",16)(57,"div",17)(58,"label",38),s(59,"Detalii"),n(),r(60,"input",39,6),C("ngModelChange",function(e){p(t);let i=m();return v(i.skill.detalii,e)||(i.skill.detalii=e),u(e)}),n()()()()(),r(62,"div",40)(63,"div",41)(64,"cancel-button",42),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(65,"div",41),x(66,"save-button",43),n()()()()()}if(l&2){let t=w(6),a=w(15),e=w(22),i=m();d(3),c("ngIf",!i.isEditMode),d(),c("ngIf",i.isEditMode),d(3),h("ngModel",i.skill.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",i.skill.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),X("invalid",e.touched&&e.invalid),h("ngModel",i.skill.descriere),d(2),c("ngIf",!e.valid&&e.touched),d(6),h("ngModel",i.skill.tip),d(4),c("ngForOf",i.tipComp),d(4),h("ngModel",i.skill.idFirma),c("disabled",i.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",i.ddFirmeSelectionList),d(5),c("ngModel",L(47,21,i.skill.dataIn,"yyyy-MM-dd")),d(7),c("ngModel",L(54,24,i.skill.dataSf,"yyyy-MM-dd")),d(8),h("ngModel",i.skill.detalii),d(6),c("disabled",!t.valid)}}var at=class At{constructor(o,t,a,e,i,y,M){this.firmeService=o,this.skillsService=t,this.ddService=a,this.selectionBoxService=e,this.toastr=i,this.router=y,this.route=M,this.isEditMode=!0,this.loggedInUserHasFirma=!1}ngOnInit(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirmeSelectionList=o}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(o=>{o&&(this.loggedInUserHasFirma=!0)}),this.tipListSub=this.selectionBoxService.selections$.subscribe(o=>{this.tipComp=o?.TipCompetenteSelection}),this.route.params.subscribe(o=>{this.id=+o.id,this.skillSub=this.skillsService.get(this.id).subscribe(t=>{this.skill=t})})}save(){this.skillsService.update(this.id,this.skill).subscribe({next:()=>{this.ddService.upsertDropdowns(),this.selectionBoxService.upsertSelections(),this.toastr.success("Competen\u021Ba a fost modificat\u0103 cu succes!","Succes!"),setTimeout(()=>{this.goToCompetente()},1e3)},error:o=>{this.toastr.error(`Competen\u021Ba nu a putut fi modificat\u0103!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToCompetente()}goToCompetente(){this.router.navigate(["/skills"])}static{this.\u0275fac=function(t){return new(t||At)(g(T),g(ze),g(z),g(be),g(V),g(O),g(N))}}static{this.\u0275cmp=I({type:At,selectors:[["skill-edit"]],standalone:!1,decls:2,vars:1,consts:[["skillForm","ngForm"],["denumire","ngModel"],["descriere","ngModel"],["tip","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],["detalii","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","skill-denumire",1,"required-label"],["type","text","id","skill-denumire","name","denumire","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","skill-descriere",1,"required-label"],["type","text","id","skill-descriere","name","descriere","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","skill-tip"],["id","skill-tip","name","tip",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","skill-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],["for","skill-dataIn"],["type","date","name","dataIn","id","skill-dataIn",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","skill-dataSf"],["type","date","name","dataSf","id","skill-dataSf",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"col-12"],["for","skill-detalii"],["type","text","id","skill-detalii","name","detalii",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"]],template:function(t,a){t&1&&(r(0,"div",7),_(1,Nn,67,27,"div",8),n()),t&2&&(d(),c("ngIf",a.skill))},dependencies:[A,F,H,J,G,Y,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};at=E([D({checkProperties:!0})],at);var Bn=l=>["edit",l];function Wn(l,o){if(l&1){let t=P();r(0,"table-header",9),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))})("serachIdDDFilter",function(e){p(t);let i=m();return u(i.filterFirma(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire, Descriere")("ddFilterList",t.ddFirme)("ddFilterVisible",!0)}}function jn(l,o){if(l&1){let t=P();r(0,"table-header",10),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire, Descriere")}}function zn(l,o){if(l&1&&(r(0,"td"),s(1),n()),l&2){let t=o.$implicit;d(),b(t)}}function Un(l,o){l&1&&x(0,"mat-icon",17)}function Rn(l,o){l&1&&x(0,"mat-icon",18)}function Hn(l,o){if(l&1){let t=P();r(0,"tr")(1,"td"),s(2),n(),r(3,"td"),s(4),n(),r(5,"td"),s(6),n(),r(7,"td",11),_(8,Un,1,0,"mat-icon",12)(9,Rn,1,0,"mat-icon",13),n(),r(10,"td"),s(11),n(),r(12,"td")(13,"div",14),x(14,"table-edit-button",15),n()(),r(15,"td")(16,"div",14)(17,"table-delete-button",16),S("click",function(){let e=p(t).$implicit,i=m();return u(i.deleteSkill(e.id))}),n()()()()}if(l&2){let t=o.$implicit;d(2),b(t.denumire),d(2),b(t.descriere),d(2),b(t.tip),d(2),c("ngIf",t.activ),d(),c("ngIf",!t.activ),d(2),b(t.firma),d(3),c("routerLink",le(7,Bn,t.id))}}var lt=class Nt{constructor(o,t,a,e,i){this.firmeService=o,this.skillsService=t,this.router=a,this.activatedRoute=e,this.toastr=i,this.skills=[],this.headers=[],this.pages=0,this.currentPage=1,this.itemsPerPage=10,this.filtru="",this.filtruIdFirma=null,this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.getDDFirme()}ngOnInit(){this.headers=["Denumire","Descriere","Tip","Stare","Firma","Modifica\u021Bi","\u0218terge\u021Bi"],this.tableFiltersSub=this.skillsService.tableFiltersObs$.subscribe(o=>{this.filtru=o?.filter,this.filtruIdFirma=o?.filterFirma,this.currentPage=o?.currentPage,this.itemsPerPage=o?.itemsPerPage}),this.getCompetente(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}deleteSkill(o){this.skillsService.delete(o).subscribe({next:()=>{setTimeout(()=>{window.location.reload()},1e3),this.toastr.success("Competen\u021Ba a fost \u0219ters\u0103 cu succes!","Succes!")},error:t=>{this.toastr.error(`Competen\u021Ba nu a putut fi \u0219ters\u0103!, ${t.message}`,"Eroare!")}})}navToAdd(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}nextPage(o){this.getCompetente(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getCompetente(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getCompetente(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getCompetente(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getCompetente(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getCompetente(o,t,a,e){this.skillsService.getAllPaginated(o,t,a,e),this.skillsSub=this.skillsService.skillsDisplayModelObs$.subscribe(i=>{this.skills=i?.skills,this.pages=i?.pages,this.currentPage=i?.currentPage})}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getCompetente(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}static{this.\u0275fac=function(t){return new(t||Nt)(g(T),g(ze),g(O),g(N),g(V))}}static{this.\u0275cmp=I({type:Nt,selectors:[["skills"]],standalone:!1,decls:14,vars:4,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-2","border-rounded"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],["ddFilterCriteria","Firma",3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible"],[3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria"],[2,"text-align","center"],["color","primary","fontIcon","check",4,"ngIf"],["color","warn","fontIcon","close",4,"ngIf"],[1,"text-center"],[3,"routerLink"],[3,"click"],["color","primary","fontIcon","check"],["color","warn","fontIcon","close"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Nomenclator Competen\u021Be"),n()()(),r(4,"div",2),x(5,"router-outlet"),_(6,Wn,1,7,"table-header",3)(7,jn,1,5,"table-header",4),r(8,"table",5)(9,"thead",6)(10,"tr",7),_(11,zn,2,1,"td",8),n()(),r(12,"tbody"),_(13,Hn,18,9,"tr",8),n()()()),t&2&&(d(6),c("ngIf",!a.idFirmaLoggedInUser),d(),c("ngIf",a.idFirmaLoggedInUser),d(4),c("ngForOf",a.headers),d(2),c("ngForOf",a.skills))},dependencies:[ue,A,F,ce,pe,ye,me,oe],encapsulation:2})}};lt=E([D({checkProperties:!0})],lt);function qn(l,o){l&1&&(r(0,"h3"),s(1,"Modifica\u021Bi Profilul Postului"),n())}function Jn(l,o){l&1&&(r(0,"h3"),s(1,"Crea\u021Bi Profilul Postului"),n())}function Gn(l,o){if(l&1){let t=P();r(0,"tr")(1,"td",32)(2,"input",33),C("ngModelChange",function(e){let i=p(t).$implicit;return v(i.selected,e)||(i.selected=e),u(e)}),S("ngModelChange",function(){let e=p(t).$implicit,i=m();return u(i.selectProfilPost(e))}),n()(),r(3,"td"),s(4),n(),r(5,"td"),s(6),n(),r(7,"td"),s(8),n(),r(9,"td",32)(10,"button",34),S("click",function(){let e=p(t).index,i=m();return u(i.removeProfilPost(e))}),x(11,"mat-icon",35),n()()()}if(l&2){let t=o.$implicit;d(2),h("ngModel",t.selected),d(2),b(t.denumireSkill),d(2),b(t.descriereSkill),d(2),b(t.setareProfil.ideal)}}function Kn(l,o){if(l&1&&(r(0,"option",21),s(1),n()),l&2){let t=o.$implicit;c("value",t.Id),d(),B("",t.Text," ")}}function Qn(l,o){l&1&&(r(0,"span",36),s(1,"C\xE2mpul este obligatoriu!"),n())}function Xn(l,o){if(l&1&&(r(0,"option",21),s(1),n()),l&2){let t=o.$implicit;c("value",t),d(),B("",t," ")}}function Yn(l,o){l&1&&(r(0,"span",36),s(1,"C\xE2mpul este obligatoriu!"),n())}function Zn(l,o){if(l&1){let t=P();r(0,"button",37),S("click",function(){p(t);let e=m();return u(e.addToProfil())}),x(1,"mat-icon",38),s(2," \xA0 Ad\u0103uga\u021Bi "),n()}if(l&2){m();let t=w(24);c("disabled",t.invalid)}}function $n(l,o){if(l&1){let t=P();r(0,"button",37),S("click",function(){p(t);let e=m();return u(e.updateProfilPost())}),x(1,"mat-icon",38),s(2," \xA0 Modifica\u021Bi "),n()}if(l&2){m();let t=w(24);c("disabled",t.invalid)}}var dt=class Bt{constructor(o,t,a,e){this.ddStateService=o,this.postService=t,this.route=a,this.toastr=e,this.tableSetareProfil=[],this.idealList=[1,2,3,4,5],this.showUpdateBtn=!1,this.saveAttempted=!1,this.listaProfileSetate=[],this.currentProfil={}}ngOnInit(){this.route.params.subscribe(o=>{this.idPost=+o.id,this.postSub=this.postService.get(this.idPost).subscribe(t=>{this.post=t,this.ddSub=this.ddStateService.appDropdownsSubject$.subscribe(a=>{this.ddCompetente=a?.DdCompetente.filter(e=>e?.IdFirma===t?.idFirma)})}),this.getProfilulPostului(this.idPost)})}addToProfil(){this.currentProfil.id_Post=this.idPost,this.saveAttempted=!0,this.currentProfil.id_Skill&&this.currentProfil.ideal&&this.postService.addProfilPost(this.currentProfil).subscribe(o=>{o?(this.resetDataAfterSave(),this.toastr.success("Profilul a fost ad\u0103ugat cu succes!")):this.toastr.error("A ap\u0103rut o eroare la ad\u0103ugare!")})}selectProfilPost(o){o.selected?(this.currentProfil=o.setareProfil,this.showUpdateBtn=!0):(this.currentProfil={},this.tableSetareProfil.forEach(t=>t.selected=!1),this.showUpdateBtn=!1)}updateProfilPost(){this.saveAttempted=!0,this.postService.updateProfilPost(this.currentProfil).subscribe(o=>{o?(this.resetDataAfterSave(),this.toastr.success("Profilul a fost actualizat cu succes!")):this.toastr.error("A ap\u0103rut o eroare la actualizare!")})}removeProfilPost(o){let t=this.listaProfileSetate[o].id;t&&this.postService.deleteProfiliPost(t).subscribe(a=>{a&&(this.getProfilulPostului(this.idPost),this.toastr.success("Profilul a fost \u0219ters cu succes!","Succes!"))})}getProfilulPostului(o){this.profilPostSub=this.postService.getProfilPost(o).subscribe(t=>{this.tableSetareProfil=t,this.listaProfileSetate=t.map(a=>a.setareProfil)})}resetDataAfterSave(){this.tableSetareProfil.forEach(o=>o.selected=!1),this.currentProfil={},this.getProfilulPostului(this.idPost),this.saveAttempted=!1,this.showUpdateBtn=!1}static{this.\u0275fac=function(t){return new(t||Bt)(g(z),g(Ee),g(N),g(V))}}static{this.\u0275cmp=I({type:Bt,selectors:[["setare-profil"]],inputs:{denumirePost:"denumirePost"},standalone:!1,decls:67,vars:19,consts:[["profilPostForm","ngForm"],["id_Skill","ngModel"],["ideal","ngModel"],[1,"row","p-3","border",2,"font-size","small"],[1,"col-12","border-bottom","text-center"],[4,"ngIf"],[1,"row","pt-2"],[1,"col-4"],[1,"label-value-container"],[1,"label"],[1,"value"],[1,"row","pt-4"],[1,"table","p-3","table-striped","table-bordered"],[1,"thead-primar"],[1,"table-info"],[4,"ngFor","ngForOf"],[1,"col-12","pt-2"],[1,"row","mb-3"],[1,"col-md-10"],["for","setProf-id_Skill",1,"required-label"],["id","setProf-id_Skill","name","id_Skill","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","help-block help-block-danger",4,"ngIf"],[1,"col-md-2"],["for","setProf-ideal",1,"required-label"],["id","setProf-ideal","name","ideal","required","",1,"form-select",3,"ngModelChange","ngModel"],[1,"col-12","pt-4"],[1,"form-group","row"],[1,"col-6"],[3,"routerLink"],["type","button","mat-raised-button","","color","primary","class","form-control",3,"disabled","click",4,"ngIf"],[1,"table-cloumn-center"],["type","checkbox","name","selectedProfil",1,"form-check-input",3,"ngModelChange","ngModel"],["mat-icon-button","","type","button",3,"click"],["fontIcon","delete"],[1,"help-block","help-block-danger"],["type","button","mat-raised-button","","color","primary",1,"form-control",3,"click","disabled"],["color","basic","fontIcon","save"]],template:function(t,a){if(t&1){let e=P();r(0,"div",3)(1,"div",4),_(2,qn,2,0,"h3",5)(3,Jn,2,0,"h3",5),n(),r(4,"div",6)(5,"div",7)(6,"div",8)(7,"span",9),s(8,"Denumire Post:"),n(),r(9,"span",10),s(10),n()()(),r(11,"div",7)(12,"div",8)(13,"span",9),s(14,"COR:"),n(),r(15,"span",10),s(16),n()()(),r(17,"div",7)(18,"div",8)(19,"span",9),s(20,"Denumire Func\u021Bie:"),n(),r(21,"span",10),s(22),n()()()(),r(23,"form",null,0)(25,"div",11)(26,"table",12)(27,"thead",13)(28,"tr",14)(29,"td"),s(30,"Competen\u021Ba (denumire)"),n(),r(31,"td"),s(32,"Competen\u021Ba (detalii)"),n(),r(33,"td"),s(34,"Ideal"),n(),r(35,"td"),s(36,"Modifica\u021Bi"),n(),r(37,"td"),s(38,"\u0218terge\u021Bi"),n()()(),r(39,"tbody"),_(40,Gn,12,4,"tr",15),n()()(),r(41,"div",11)(42,"div",16)(43,"div",17)(44,"div",18)(45,"label",19),s(46,"Competen\u021Ba"),n(),r(47,"select",20,1),C("ngModelChange",function(y){return p(e),v(a.currentProfil.id_Skill,y)||(a.currentProfil.id_Skill=y),u(y)}),r(49,"option",21),s(50,"Selecta\u021Bi Competen\u021Ba"),n(),_(51,Kn,2,2,"option",22),n(),_(52,Qn,2,0,"span",23),n(),r(53,"div",24)(54,"label",25),s(55,"Ideal"),n(),r(56,"select",26,2),C("ngModelChange",function(y){return p(e),v(a.currentProfil.ideal,y)||(a.currentProfil.ideal=y),u(y)}),_(58,Xn,2,2,"option",22),n(),_(59,Yn,2,0,"span",23),n()()()(),r(60,"div",27)(61,"div",28)(62,"div",29),x(63,"cancel-button",30),n(),r(64,"div",29),_(65,Zn,3,1,"button",31)(66,$n,3,1,"button",31),n()()()()()}if(t&2){let e=w(48),i=w(57);d(2),c("ngIf",a.isEdit),d(),c("ngIf",!a.isEdit),d(7),b(a.post==null?null:a.post.nume),d(6),b(a.post==null?null:a.post.cor),d(6),b(a.post==null?null:a.post.denFunctie),d(18),c("ngForOf",a.tableSetareProfil),d(7),X("invalid",a.saveAttempted&&(e.touched||e.dirty)&&e.invalid),h("ngModel",a.currentProfil.id_Skill),d(4),c("ngForOf",a.ddCompetente),d(),c("ngIf",a.saveAttempted&&(e.touched||e.dirty)&&e.invalid),d(4),X("invalid",a.saveAttempted&&(i.touched||i.dirty)&&i.invalid),h("ngModel",a.currentProfil.ideal),d(2),c("ngForOf",a.idealList),d(),c("ngIf",a.saveAttempted&&(i.touched||i.dirty)&&i.invalid),d(4),c("routerLink","../../"),d(2),c("ngIf",!a.showUpdateBtn),d(),c("ngIf",a.showUpdateBtn)}},dependencies:[A,F,H,J,G,Pe,q,W,U,ee,j,R,ce,Je,Yt,K,oe],encapsulation:2})}};dt=E([D({checkProperties:!0})],dt);var Ue=(()=>{class l{constructor(t){this.httpClient=t,this.baseUrl=xe.baseUrl,this.tableFiltersSubject=new ae({filter:"",filterFirma:null,currentPage:1,itemsPerPage:10}),this.afisareNObDisplayModelSubject=new ae(null),this.tableFiltersObiect$=this.tableFiltersSubject.asObservable(),this.afisareNObDisplayModelObs$=this.afisareNObDisplayModelSubject.asObservable()}getAllPaginated(t,a,e,i){let y=JSON.parse(localStorage.getItem("user"))?.idFirma,M=JSON.parse(localStorage.getItem("user"))?.idRol,f=new Ce;f=f.append("currentPage",t),f=f.append("itemsPerPage",a),f=f.append("idRol",M||""),f=f.append("idFirmaLoggedInUser",y||""),f=f.append("filter",e||""),f=f.append("filterFirma",i||""),this.tableFiltersSubject.next({filter:e,filterFirma:i,currentPage:t,itemsPerPage:a}),this.httpClient.get(this.baseUrl+"/NObiective",{params:f}).pipe(se(Me=>{this.afisareNObDisplayModelSubject.next(Me)})).subscribe()}get(t){return this.httpClient.get(this.baseUrl+"/NObiective/"+t)}update(t){return this.httpClient.put(this.baseUrl+"/NObiective",t)}add(t){return this.httpClient.post(this.baseUrl+"/NObiective",t)}static{this.\u0275fac=function(a){return new(a||l)(ve(Se))}}static{this.\u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var er=l=>["edit",l];function tr(l,o){if(l&1){let t=P();r(0,"table-header",9),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))})("serachIdDDFilter",function(e){p(t);let i=m();return u(i.filterFirma(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire")("ddFilterList",t.ddFirme)("ddFilterVisible",!0)}}function ir(l,o){if(l&1){let t=P();r(0,"table-header",10),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire")}}function nr(l,o){if(l&1&&(r(0,"tr")(1,"td"),s(2),n(),r(3,"td"),s(4),n(),r(5,"td"),s(6),n(),r(7,"td"),s(8),n(),r(9,"td"),s(10),n(),r(11,"td"),s(12),n(),r(13,"td"),s(14),n(),r(15,"td"),s(16),n(),r(17,"td"),s(18),n(),r(19,"td"),s(20),n(),r(21,"td"),s(22),k(23,"idToValue"),n(),r(24,"td"),s(25),n(),r(26,"td")(27,"div",11)(28,"div",11),x(29,"table-edit-button",12),n()()()()),l&2){let t=o.$implicit,a=m();d(2),b(t.denumire),d(2),b(t.post),d(2),b(t.compartiment),d(2),b(t.firma),d(2),b(t.valMin),d(2),b(t.bonusMin),d(2),b(t.valTarget),d(2),b(t.bonusTarget),d(2),b(t.valMax),d(2),b(t.bonusMax),d(2),b(L(23,13,t.frecventa,a.frecventeSelection)),d(3),b(t.tip),d(4),c("routerLink",le(16,er,t.id))}}var st=class jt{constructor(o,t,a,e,i){this.nomObService=o,this.router=t,this.firmeService=a,this.activatedRoute=e,this.selectionBoxStateService=i,this.pages=0,this.currentPage=1,this.itemsPerPage=10,this.filtru="",this.frecventeSelection=[],this.filtruIdFirma=null,this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.getDDFirme(),this.getFrecventeObSelection(),this.tableFiltersSub=this.nomObService.tableFiltersObiect$.subscribe(y=>{this.filtru=y?.filter,this.filtruIdFirma=y?.filterFirma,this.currentPage=y?.currentPage,this.itemsPerPage=y?.itemsPerPage}),this.getNomObiective(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}navToAdd(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}nextPage(o){this.getNomObiective(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getNomObiective(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getNomObiective(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getNomObiective(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getNomObiective(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getNomObiective(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getNomObiective(o,t,a,e){this.nomObService.getAllPaginated(o,t,a,e),this.nomObiectiveSub=this.nomObService.afisareNObDisplayModelObs$.subscribe(i=>{this.nObiective=i?.afisNomObiectiveData,this.pages=i?.pages,this.currentPage=i?.currentPage})}getFrecventeObSelection(){this.frecventeSub=this.selectionBoxStateService.selections$.subscribe(o=>{o&&(this.frecventeSelection=o?.FrecventaObiectiveSelection)})}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}static{this.\u0275fac=function(t){return new(t||jt)(g(Ue),g(O),g(T),g(N),g(be))}}static{this.\u0275cmp=I({type:jt,selectors:[["nom-ob-list"]],standalone:!1,decls:39,vars:3,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-2","border-rounded"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],["ddFilterCriteria","Firma",3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible"],[3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria"],[1,"text-center"],[3,"routerLink"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Nomenclator Obiective"),n()()(),r(4,"div",2),x(5,"router-outlet"),_(6,tr,1,7,"table-header",3)(7,ir,1,5,"table-header",4),r(8,"table",5)(9,"thead",6)(10,"tr",7)(11,"th"),s(12,"Denumire"),n(),r(13,"th"),s(14,"Post"),n(),r(15,"th"),s(16,"Compartiment"),n(),r(17,"th"),s(18,"Firma"),n(),r(19,"th"),s(20,"Val. Min."),n(),r(21,"th"),s(22,"Bonus Min."),n(),r(23,"th"),s(24,"Val. Target"),n(),r(25,"th"),s(26,"Bonus Target"),n(),r(27,"th"),s(28,"Val. Max."),n(),r(29,"th"),s(30,"Bonus Max."),n(),r(31,"th"),s(32,"Frecven\u021Ba"),n(),r(33,"th"),s(34,"Tip"),n(),r(35,"th"),s(36,"Modifica\u021Bi"),n()()(),r(37,"tbody"),_(38,nr,30,18,"tr",8),n()()()),t&2&&(d(6),c("ngIf",!a.idFirmaLoggedInUser),d(),c("ngIf",a.idFirmaLoggedInUser),d(31),c("ngForOf",a.nObiective))},dependencies:[ue,A,F,pe,me,oe,ti],encapsulation:2})}};st=E([D({checkProperties:!0})],st);var rr=()=>["../"],or=()=>["../../"];function ar(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Obiectiv"),n())}function lr(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Obiectiv"),n())}function dr(l,o){l&1&&(r(0,"span",60),s(1,"C\xE2mpul este obligatoriu!"),n())}function sr(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function mr(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Id),d(),B("",t.Text," ")}}function cr(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Id),d(),B(" ",t.Text," ")}}function pr(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Id),d(),B("",t.Valoare," ")}}function ur(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Valoare),d(),B("",t.Valoare," ")}}function gr(l,o){l&1&&x(0,"cancel-button",61),l&2&&c("routerLink",ke(1,rr))}function _r(l,o){l&1&&x(0,"cancel-button",61),l&2&&c("routerLink",ke(1,or))}function fr(l,o){if(l&1){let t=P();r(0,"form",19,0),S("ngSubmit",function(){p(t);let e=m();return u(e.onSubmit())}),r(2,"div",20)(3,"div",21)(4,"label",22),s(5,"Denumire"),n(),r(6,"div",23)(7,"textarea",24,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.denumire,e)||(i.nObiectiv.denumire=e),u(e)}),n(),_(9,dr,2,0,"span",25),n(),r(10,"div",26)(11,"label",27),s(12,"Firma"),n(),r(13,"select",28),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.idFirma,e)||(i.nObiectiv.idFirma=e),u(e)}),S("ngModelChange",function(e){p(t);let i=m();return u(i.firmaChanged(e))}),r(14,"option",29),s(15,"Selecta\u021Bi firma"),n(),_(16,sr,2,2,"option",30),n()()(),r(17,"div",21)(18,"div",26)(19,"label",31),s(20,"Val. Min."),n(),r(21,"input",32,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.valMin,e)||(i.nObiectiv.valMin=e),u(e)}),n()(),r(23,"div",26)(24,"label",33),s(25,"Val. Target"),n(),r(26,"input",34,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.valTarget,e)||(i.nObiectiv.valTarget=e),u(e)}),n()(),r(28,"div",26)(29,"label",35),s(30,"Val. Max."),n(),r(31,"input",36,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.valMax,e)||(i.nObiectiv.valMax=e),u(e)}),n()(),r(33,"div",26)(34,"label",37),s(35,"Post"),n(),r(36,"select",38,5),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.idPost,e)||(i.nObiectiv.idPost=e),u(e)}),r(38,"option",39),s(39,"Alege\u021Bi un post"),n(),_(40,mr,2,2,"option",30),n()()(),r(41,"div",21)(42,"div",26)(43,"label",40),s(44,"Bonus. Min."),n(),r(45,"input",41,6),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.bonusMin,e)||(i.nObiectiv.bonusMin=e),u(e)}),n()(),r(47,"div",26)(48,"label",42),s(49,"Bonus Target"),n(),r(50,"input",43,7),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.bonusTarget,e)||(i.nObiectiv.bonusTarget=e),u(e)}),n()(),r(52,"div",26)(53,"label",44),s(54,"Bonus Max."),n(),r(55,"input",45,8),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.bonusMax,e)||(i.nObiectiv.bonusMax=e),u(e)}),n()(),r(57,"div",26)(58,"label",46),s(59,"Compartiment"),n(),r(60,"select",47,9),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.idCompartiment,e)||(i.nObiectiv.idCompartiment=e),u(e)}),r(62,"option",39),s(63,"Alege\u021Bi un compartiment"),n(),_(64,cr,2,2,"option",30),n()()(),r(65,"div",21)(66,"div",26)(67,"label",48),s(68,"Frecven\u021Ba"),n(),r(69,"select",49,10),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.frecventa,e)||(i.nObiectiv.frecventa=e),u(e)}),_(71,pr,2,2,"option",30),n()(),r(72,"div",26)(73,"div",14)(74,"label",50),s(75,"Obiectiv Calitativ"),n()(),r(76,"div",14)(77,"div",51)(78,"input",52,11),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.isFaraProcent,e)||(i.nObiectiv.isFaraProcent=e),u(e)}),n()()()(),x(80,"div",26),r(81,"div",26)(82,"label",53),s(83,"Tip"),n(),r(84,"select",54,12),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.tip,e)||(i.nObiectiv.tip=e),u(e)}),r(86,"option",55),s(87,"Selecta\u021Bi tipul"),n(),_(88,ur,2,2,"option",30),n()()()(),r(89,"div",56)(90,"div",57),_(91,gr,1,2,"cancel-button",58)(92,_r,1,2,"cancel-button",58),n(),r(93,"div",57),x(94,"save-button",59),n()()()}if(l&2){let t=w(1),a=w(8),e=m();d(7),X("invalid",(a.touched||a.dirty)&&a.invalid),h("ngModel",e.nObiectiv.denumire),d(2),c("ngIf",(a.touched||a.dirty)&&a.invalid),d(4),h("ngModel",e.nObiectiv.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(5),h("ngModel",e.nObiectiv.valMin),d(5),h("ngModel",e.nObiectiv.valTarget),d(5),h("ngModel",e.nObiectiv.valMax),d(5),h("ngModel",e.nObiectiv.idPost),d(2),c("ngValue",null),d(2),c("ngForOf",e.ddPosturi),d(5),h("ngModel",e.nObiectiv.bonusMin),d(5),h("ngModel",e.nObiectiv.bonusTarget),d(5),h("ngModel",e.nObiectiv.bonusMax),d(5),h("ngModel",e.nObiectiv.idCompartiment),d(2),c("ngValue",null),d(2),c("ngForOf",e.ddCompartimente),d(5),h("ngModel",e.nObiectiv.frecventa),d(2),c("ngForOf",e.frecventeSelection),d(7),h("ngModel",e.nObiectiv.isFaraProcent),d(6),h("ngModel",e.nObiectiv.tip),d(4),c("ngForOf",e.tipuriSelection),d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(2),c("disabled",!t.valid)}}var mt=class zt{constructor(o,t,a,e,i,y,M){this.ddStateService=o,this.selectionBoxStateService=t,this.nObiectiveService=a,this.toastr=e,this.router=i,this.firmeService=y,this.route=M,this.isEditMode=!1,this.nObiectiv={},this.ddPosturi=[],this.ddCompartimente=[],this.frecventeSelection=[],this.tipuriSelection=[],this.loggedInUserHasFirma=!1,this.nObiectiv={},this.selectionsSub=this.selectionBoxStateService.selections$.subscribe(f=>{f&&(this.frecventeSelection=f.FrecventaObiectiveSelection,this.tipuriSelection=f.TipObiectiveSelection)}),this.firmeSub=this.firmeService.firmeSelections$.subscribe(f=>{this.ddFirmeSelectionList=f}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(f=>{f&&(this.loggedInUserHasFirma=!0,this.nObiectiv.firma=f.Text,this.nObiectiv.idFirma=f.IdFirma)})}ngOnInit(){this.ddSub=this.ddStateService.appDropdownsSubject$.subscribe(o=>{this.ddPosturi=o?.DdPosturi,this.ddCompartimente=o?.DdCompartimente,this.allDdPosturi=o?.DdPosturi,this.allDdCompartimente=o?.DdCompartimente,this.filterDropdowns(this.nObiectiv.idFirma)})}onSubmit(){this.nObiectiv.updateId=JSON.parse(localStorage.getItem("user")).id.toString(),this.nObiectiveService.add(this.nObiectiv).subscribe({next:()=>{this.ddStateService.upsertDropdowns(),this.toastr.success("Obiectivul a fost adaug\u0103t cu succes!","Succes!"),setTimeout(()=>{this.goToNomObiective()},500)},error:o=>{this.toastr.error(`Obiectivul nu a putut fi adaug\u0103t!, ${o.message}`,"Eroare!")}})}goToNomObiective(){this.router.navigate(["/nomObiective"],{relativeTo:this.route})}filterDropdowns(o){o&&(this.ddCompartimente=this.allDdCompartimente.filter(t=>t.IdFirma===+o),this.ddPosturi=this.allDdPosturi.filter(t=>t.IdFirma===+o))}firmaChanged(o){this.filterDropdowns(o)}static{this.\u0275fac=function(t){return new(t||zt)(g(z),g(be),g(Ue),g(V),g(O),g(T),g(N))}}static{this.\u0275cmp=I({type:zt,selectors:[["nom-obiective-add"]],standalone:!1,decls:7,vars:3,consts:[["registerForm","ngForm"],["denumire","ngModel"],["valMin","ngModel"],["valTarget","ngModel"],["valMax","ngModel"],["idPost","ngModel"],["bonusMin","ngModel"],["bonusTarget","ngModel"],["bonusMax","ngModel"],["idCompartiment","ngModel"],["frecventa","ngModel"],["isFaraProcent","ngModel"],["tip","ngModel"],[1,"container"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","pt-4"],[1,"row","mb-2"],["for","nom-denumire",1,"required-label"],[1,"col-md-9"],["type","text","rows","2","id","nom-denumire","name","denumire","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],[1,"col-md-3"],["for","loc-firma"],["id","ddFilter","name","ddFilter",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","nom-valMin"],["type","number","id","nom-valMin","name","valMin",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-valTarget"],["type","number","id","nom-valTarget","name","valTarget",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-valMax"],["type","number","id","nom-valMax","name","valMax",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-idPost"],["id","nom-idPost","name","idPost",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],["for","nom-bonusMin"],["type","number","id","nom-bonusMin","name","bonusMin","placeholder","RON",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-bonusTarget"],["type","number","id","nom-bonusTarget","name","bonusTarget","placeholder","RON",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-bonusMax"],["type","number","id","nom-bonusMax","name","bonusMax","placeholder","RON",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-idCompartiment"],["id","nom-idCompartiment","name","idCompartiment",1,"form-select",3,"ngModelChange","ngModel"],["for","nom-frecventa"],["id","nom-frecventa","name","frecventa",1,"form-select",3,"ngModelChange","ngModel"],["for","nom-isFaraProcent"],[1,"col-md-12"],["type","checkbox","name","isFaraProcent","id","nom-isFaraProcent",1,"form-check-input","big-checkbox",3,"ngModelChange","ngModel"],["for","nom-tip"],["id","nom-tip","name","tip",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[1,"row","pt-3"],[1,"col-6"],[3,"routerLink",4,"ngIf"],[3,"disabled"],[1,"help-block","help-block-danger"],[3,"routerLink"]],template:function(t,a){t&1&&(r(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16),_(4,ar,2,0,"h3",17)(5,lr,2,0,"h3",17),n(),_(6,fr,95,28,"form",18),n()()()),t&2&&(d(4),c("ngIf",!a.isEditMode),d(),c("ngIf",a.isEditMode),d(),c("ngIf",a.nObiectiv))},dependencies:[A,F,H,J,G,Y,we,Pe,q,W,U,ee,j,R,Z,K,oe],encapsulation:2})}};mt=E([D({checkProperties:!0})],mt);var hr=()=>["../"],vr=()=>["../../"];function Cr(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Obiectiv"),n())}function Sr(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Obiectiv"),n())}function xr(l,o){l&1&&(r(0,"span",60),s(1,"C\xE2mpul este obligatoriu!"),n())}function br(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function Pr(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Id),d(),B("",t.Text," ")}}function yr(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Id),d(),B(" ",t.Text," ")}}function Mr(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Id),d(),B("",t.Valoare," ")}}function wr(l,o){if(l&1&&(r(0,"option",29),s(1),n()),l&2){let t=o.$implicit;c("value",t.Valoare),d(),B("",t.Valoare," ")}}function Ir(l,o){l&1&&x(0,"cancel-button",61),l&2&&c("routerLink",ke(1,hr))}function Fr(l,o){l&1&&x(0,"cancel-button",61),l&2&&c("routerLink",ke(1,vr))}function Er(l,o){if(l&1){let t=P();r(0,"form",19,0),S("ngSubmit",function(){p(t);let e=m();return u(e.onSubmit())}),r(2,"div",20)(3,"div",21)(4,"label",22),s(5,"Denumire"),n(),r(6,"div",23)(7,"textarea",24,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.denumire,e)||(i.nObiectiv.denumire=e),u(e)}),n(),_(9,xr,2,0,"span",25),n(),r(10,"div",26)(11,"label",27),s(12,"Firma"),n(),r(13,"select",28),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.idFirma,e)||(i.nObiectiv.idFirma=e),u(e)}),S("ngModelChange",function(e){p(t);let i=m();return u(i.firmaChanged(e))}),r(14,"option",29),s(15,"Selecta\u021Bi firma"),n(),_(16,br,2,2,"option",30),n()()(),r(17,"div",21)(18,"div",26)(19,"label",31),s(20,"Val. Min."),n(),r(21,"input",32,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.valMin,e)||(i.nObiectiv.valMin=e),u(e)}),n()(),r(23,"div",26)(24,"label",33),s(25,"Val. Target"),n(),r(26,"input",34,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.valTarget,e)||(i.nObiectiv.valTarget=e),u(e)}),n()(),r(28,"div",26)(29,"label",35),s(30,"Val. Max."),n(),r(31,"input",36,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.valMax,e)||(i.nObiectiv.valMax=e),u(e)}),n()(),r(33,"div",26)(34,"label",37),s(35,"Post"),n(),r(36,"select",38,5),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.idPost,e)||(i.nObiectiv.idPost=e),u(e)}),r(38,"option",39),s(39,"Alege\u021Bi un post"),n(),_(40,Pr,2,2,"option",30),n()()(),r(41,"div",21)(42,"div",26)(43,"label",40),s(44,"Bonus. Min."),n(),r(45,"input",41,6),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.bonusMin,e)||(i.nObiectiv.bonusMin=e),u(e)}),n()(),r(47,"div",26)(48,"label",42),s(49,"Bonus Target"),n(),r(50,"input",43,7),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.bonusTarget,e)||(i.nObiectiv.bonusTarget=e),u(e)}),n()(),r(52,"div",26)(53,"label",44),s(54,"Bonus Max."),n(),r(55,"input",45,8),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.bonusMax,e)||(i.nObiectiv.bonusMax=e),u(e)}),n()(),r(57,"div",26)(58,"label",46),s(59,"Compartiment"),n(),r(60,"select",47,9),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.idCompartiment,e)||(i.nObiectiv.idCompartiment=e),u(e)}),r(62,"option",39),s(63,"Alege\u021Bi un compartiment"),n(),_(64,yr,2,2,"option",30),n()()(),r(65,"div",21)(66,"div",26)(67,"label",48),s(68,"Frecven\u021Ba"),n(),r(69,"select",49,10),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.frecventa,e)||(i.nObiectiv.frecventa=e),u(e)}),_(71,Mr,2,2,"option",30),n()(),r(72,"div",26)(73,"div",14)(74,"label",50),s(75,"Obiectiv Calitativ"),n()(),r(76,"div",14)(77,"div",51)(78,"input",52,11),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.isFaraProcent,e)||(i.nObiectiv.isFaraProcent=e),u(e)}),n()()()(),x(80,"div",26),r(81,"div",26)(82,"label",53),s(83,"Tip"),n(),r(84,"select",54,12),C("ngModelChange",function(e){p(t);let i=m();return v(i.nObiectiv.tip,e)||(i.nObiectiv.tip=e),u(e)}),r(86,"option",55),s(87,"Selecta\u021Bi tipul"),n(),_(88,wr,2,2,"option",30),n()()()(),r(89,"div",56)(90,"div",57),_(91,Ir,1,2,"cancel-button",58)(92,Fr,1,2,"cancel-button",58),n(),r(93,"div",57),x(94,"save-button",59),n()()()}if(l&2){let t=w(1),a=w(8),e=m();d(7),X("invalid",(a.touched||a.dirty)&&a.invalid),h("ngModel",e.nObiectiv.denumire),d(2),c("ngIf",(a.touched||a.dirty)&&a.invalid),d(4),h("ngModel",e.nObiectiv.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(5),h("ngModel",e.nObiectiv.valMin),d(5),h("ngModel",e.nObiectiv.valTarget),d(5),h("ngModel",e.nObiectiv.valMax),d(5),h("ngModel",e.nObiectiv.idPost),d(2),c("ngValue",null),d(2),c("ngForOf",e.ddPosturi),d(5),h("ngModel",e.nObiectiv.bonusMin),d(5),h("ngModel",e.nObiectiv.bonusTarget),d(5),h("ngModel",e.nObiectiv.bonusMax),d(5),h("ngModel",e.nObiectiv.idCompartiment),d(2),c("ngValue",null),d(2),c("ngForOf",e.ddCompartimente),d(5),h("ngModel",e.nObiectiv.frecventa),d(2),c("ngForOf",e.frecventeSelection),d(7),h("ngModel",e.nObiectiv.isFaraProcent),d(6),h("ngModel",e.nObiectiv.tip),d(4),c("ngForOf",e.tipuriSelection),d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(2),c("disabled",!t.valid)}}var ct=class Ut{constructor(o,t,a,e,i,y,M){this.ddStateService=o,this.selectionBoxStateService=t,this.route=a,this.router=e,this.toastr=i,this.firmeService=y,this.nObiectiveService=M,this.isEditMode=!0,this.frecventeSelection=[],this.tipuriSelection=[],this.loggedInUserHasFirma=!1,this.selectionsSub=this.selectionBoxStateService.selections$.subscribe(f=>{f&&(this.frecventeSelection=f.FrecventaObiectiveSelection,this.tipuriSelection=f.TipObiectiveSelection)}),this.firmeSub=this.firmeService.firmeSelections$.subscribe(f=>{this.ddFirmeSelectionList=f}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(f=>{f&&(this.loggedInUserHasFirma=!0)}),this.ddSub=this.ddStateService.appDropdownsSubject$.subscribe(f=>{this.ddPosturi=f?.DdPosturi,this.ddCompartimente=f?.DdCompartimente,this.allDdPosturi=f?.DdPosturi,this.allDdCompartimente=f?.DdCompartimente})}ngOnInit(){this.route.params.subscribe(o=>{this.idObiectiv=+o.id,this.nObiectiveService.get(this.idObiectiv).subscribe(t=>{this.nObiectiv=t,this.filterDropdowns(t?.idFirma)})})}onSubmit(){this.nObiectiv.updateId=JSON.parse(localStorage.getItem("user")).id.toString(),this.nObiectiveService.update(this.nObiectiv).subscribe({next:()=>{this.ddStateService.upsertDropdowns(),this.toastr.success("Obiectivul a fost modificat cu succes!","Succes!"),setTimeout(()=>{this.goToNomObiective()},500)},error:o=>{this.toastr.error(`Obiectivul nu a putut fi modificat!, ${o.message}`,"Eroare!")}})}filterDropdowns(o){o&&(this.ddCompartimente=this.allDdCompartimente?.filter(t=>t.IdFirma===+o),this.ddPosturi=this.allDdPosturi?.filter(t=>t.IdFirma===+o))}goToNomObiective(){this.router.navigate(["/nomObiective"],{relativeTo:this.route})}firmaChanged(o){this.filterDropdowns(o)}static{this.\u0275fac=function(t){return new(t||Ut)(g(z),g(be),g(N),g(O),g(V),g(T),g(Ue))}}static{this.\u0275cmp=I({type:Ut,selectors:[["nom-obiective-edit"]],standalone:!1,decls:7,vars:3,consts:[["registerForm","ngForm"],["denumire","ngModel"],["valMin","ngModel"],["valTarget","ngModel"],["valMax","ngModel"],["idPost","ngModel"],["bonusMin","ngModel"],["bonusTarget","ngModel"],["bonusMax","ngModel"],["idCompartiment","ngModel"],["frecventa","ngModel"],["isFaraProcent","ngModel"],["tip","ngModel"],[1,"container"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","pt-4"],[1,"row","mb-2"],["for","nom-denumire",1,"required-label"],[1,"col-md-9"],["type","text","rows","2","id","nom-denumire","name","denumire","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],[1,"col-md-3"],["for","loc-firma"],["id","ddFilter","name","ddFilter",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","nom-valMin"],["type","number","id","nom-valMin","name","valMin",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-valTarget"],["type","number","id","nom-valTarget","name","valTarget",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-valMax"],["type","number","id","nom-valMax","name","valMax",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-idPost"],["id","nom-idPost","name","idPost",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],["for","nom-bonusMin"],["type","number","id","nom-bonusMin","name","bonusMin","placeholder","RON",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-bonusTarget"],["type","number","id","nom-bonusTarget","name","bonusTarget","placeholder","RON",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-bonusMax"],["type","number","id","nom-bonusMax","name","bonusMax","placeholder","RON",1,"form-control",3,"ngModelChange","ngModel"],["for","nom-idCompartiment"],["id","nom-idCompartiment","name","idCompartiment",1,"form-select",3,"ngModelChange","ngModel"],["for","nom-frecventa"],["id","nom-frecventa","name","frecventa",1,"form-select",3,"ngModelChange","ngModel"],["for","nom-isFaraProcent"],[1,"col-md-12"],["type","checkbox","name","isFaraProcent","id","nom-isFaraProcent",1,"form-check-input","big-checkbox",3,"ngModelChange","ngModel"],["for","nom-tip"],["id","nom-tip","name","tip",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[1,"row","pt-3"],[1,"col-6"],[3,"routerLink",4,"ngIf"],[3,"disabled"],[1,"help-block","help-block-danger"],[3,"routerLink"]],template:function(t,a){t&1&&(r(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16),_(4,Cr,2,0,"h3",17)(5,Sr,2,0,"h3",17),n(),_(6,Er,95,28,"form",18),n()()()),t&2&&(d(4),c("ngIf",!a.isEditMode),d(),c("ngIf",a.isEditMode),d(),c("ngIf",a.nObiectiv))},dependencies:[A,F,H,J,G,Y,we,Pe,q,W,U,ee,j,R,Z,K,oe],encapsulation:2})}};ct=E([D({checkProperties:!0})],ct);function Vr(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Compartiment"),n())}function Tr(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Compartiment"),n())}function Or(l,o){l&1&&(r(0,"span",40),s(1,"C\xE2mpul este obligatoriu!"),n())}function Dr(l,o){if(l&1&&(r(0,"option",22),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function kr(l,o){if(l&1&&(r(0,"option",22),s(1),n()),l&2){let t=o.$implicit;c("value",t.Id),d(),b(t.Text)}}function Lr(l,o){if(l&1&&(r(0,"option",22),s(1),n()),l&2){let t=o.$implicit;c("value",t.id),d(),Fe("",t.judet," - ",t.denumire,"")}}function Ar(l,o){if(l&1){let t=P();r(0,"div",8)(1,"div",9)(2,"div",10),_(3,Vr,2,0,"h3",11)(4,Tr,2,0,"h3",11),n(),r(5,"form",12,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",13),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.id,e)||(i.compartiment.id=e),u(e)}),n(),r(8,"div",8)(9,"div",14)(10,"div",15)(11,"div",16)(12,"label",17),s(13,"Denumire"),n(),r(14,"input",18,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.denumire,e)||(i.compartiment.denumire=e),u(e)}),n(),_(16,Or,2,0,"span",19),n()(),r(17,"div",15)(18,"div",16)(19,"label",20),s(20,"Firma"),n(),r(21,"select",21),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.idFirma,e)||(i.compartiment.idFirma=e),u(e)}),S("ngModelChange",function(e){p(t);let i=m();return u(i.firmaChanged(e))}),r(22,"option",22),s(23,"Selecta\u021Bi firma"),n(),_(24,Dr,2,2,"option",23),n()()()(),r(25,"div",24)(26,"div",15)(27,"div",25)(28,"label",26),s(29,"Data \xCEnceput"),n(),r(30,"input",27,2),k(32,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.compartiment.data_in=e)}),n(),x(33,"span",28),n(),r(34,"div",25)(35,"label",29),s(36,"Data Sf\u0103r\u0219it"),n(),r(37,"input",30,3),k(39,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.compartiment.data_sf=e)}),n()()(),r(40,"div",15)(41,"div",25)(42,"label",31),s(43,"Compartiment Superior"),n(),r(44,"select",32,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.sus,e)||(i.compartiment.sus=e),u(e)}),r(46,"option",33),s(47,"Selecta\u021Bi compartimentul"),n(),_(48,kr,2,2,"option",23),n()(),r(49,"div",25)(50,"label",34),s(51,"Loca\u021Bie"),n(),r(52,"select",35,5),C("ngModelChange",function(e){p(t);let i=m();return v(i.compartiment.id_Locatie,e)||(i.compartiment.id_Locatie=e),u(e)}),_(54,Lr,2,3,"option",23),n()()()()(),r(55,"div",36)(56,"div",37)(57,"cancel-button",38),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(58,"div",37),x(59,"save-button",39),n()()()()()}if(l&2){let t=w(6),a=w(15),e=m();d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(3),h("ngModel",e.compartiment.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.compartiment.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.compartiment.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(6),c("ngModel",L(32,18,e.compartiment.data_in,"yyyy-MM-dd")),d(7),c("ngModel",L(39,21,e.compartiment.data_sf,"yyyy-MM-dd")),d(7),h("ngModel",e.compartiment.sus),d(4),c("ngForOf",e.compartimenteSelection),d(4),h("ngModel",e.compartiment.id_Locatie),d(2),c("ngForOf",e.locatii),d(5),c("disabled",!t.valid)}}var pt=class Rt{constructor(o,t,a,e,i,y){this.firmeService=o,this.compartimenteService=t,this.ddStateService=a,this.locatieService=e,this.toastr=i,this.router=y,this.isEditMode=!1,this.loggedInUserHasFirma=!1,this.compartiment={}}ngOnInit(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirmeSelectionList=o}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(o=>{o&&(this.loggedInUserHasFirma=!0,this.compartiment.firma=o.Text,this.compartiment.idFirma=o.IdFirma)}),this.getLocalitati(this.compartiment.idFirma),this.getCompartimente(this.compartiment.idFirma)}save(){this.compartimenteService.add(this.compartiment).subscribe({next:()=>{this.ddStateService.upsertDropdowns(),this.toastr.success("Compartimentul a fost ad\u0103ugat cu succes!","Succes!"),setTimeout(()=>{this.goToCompartimente()},500)},error:o=>{this.toastr.error(`Compartimentul nu a putut fi ad\u0103ugat!, ${o.message}`,"Eroare!")}})}firmaChanged(o){this.getLocalitati(o),this.getCompartimente(o)}getLocalitati(o){this.locSelectionSub=this.locatieService.getLocatiiData().subscribe(t=>{o?this.locatii=t.filter(a=>a.idFirma===+o):this.locatii=t})}getCompartimente(o){this.compSelectionSub=this.ddStateService.appDropdownsSubject$.subscribe(t=>{o?this.compartimenteSelection=t?.DdCompartimente?.filter(a=>a.IdFirma===+o):this.compartimenteSelection=t?.DdCompartimente})}onCancel(){this.goToCompartimente()}goToCompartimente(){this.router.navigate(["/compartimente"])}static{this.\u0275fac=function(t){return new(t||Rt)(g(T),g(We),g(z),g(Ie),g(V),g(O))}}static{this.\u0275cmp=I({type:Rt,selectors:[["compartiment-add"]],standalone:!1,decls:2,vars:1,consts:[["compartimentForm","ngForm"],["denumire","ngModel"],["data_in","ngModel"],["data_sf","ngModel"],["sus","ngModel"],["locatie","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","comp-denumire",1,"required-label"],["type","text","id","comp-denumire","name","denumire","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","compartiment-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","comp-data_in"],["data-provide","datepicker","type","date","name","data_in","id","comp-data_in",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","comp-data_sf"],["data-provide","datepicker","type","date","name","data_sf","id","comp-data_sf",1,"form-control","date",3,"ngModelChange","ngModel"],["for","comp-sus"],["id","comp-sus","name","sus",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["for","comp-locatie"],["id","comp-locatie","name","locatie",1,"form-select",3,"ngModelChange","ngModel"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"]],template:function(t,a){t&1&&(r(0,"div",6),_(1,Ar,60,24,"div",7),n()),t&2&&(d(),c("ngIf",a.compartiment))},dependencies:[A,F,H,J,G,Y,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};pt=E([D({checkProperties:!0})],pt);var Ve=(()=>{class l{constructor(t){this.httpClient=t,this.baseUrl=xe.baseUrl,this.tableFiltersSubject=new ae({filter:"",filterFirma:null,currentPage:1,itemsPerPage:10}),this.cursuriDisplayModelSubject=new ae(null),this.tableFiltersObs$=this.tableFiltersSubject.asObservable(),this.cursuriDisplayModelObs$=this.cursuriDisplayModelSubject.asObservable()}getCursuri(){return this.httpClient.get(this.baseUrl+"/Cursuri")}getAll(t,a,e,i){let y=JSON.parse(localStorage.getItem("user"))?.idFirma,M=JSON.parse(localStorage.getItem("user"))?.idRol,f=new Ce;f=f.append("currentPage",t),f=f.append("itemsPerPage",a),f=f.append("idRol",M||""),f=f.append("idFirmaLoggedInUser",y||""),f=f.append("filter",e||""),f=f.append("filterFirma",i||""),this.tableFiltersSubject.next({filter:e,filterFirma:i,currentPage:t,itemsPerPage:a}),this.httpClient.get(this.baseUrl+"/Cursuri",{params:f}).pipe(se(Me=>{this.cursuriDisplayModelSubject.next(Me)})).subscribe()}get(t){return this.httpClient.get(this.baseUrl+"/Cursuri/"+t)}update(t){return this.httpClient.put(this.baseUrl+"/Cursuri",t)}add(t){return this.httpClient.post(this.baseUrl+"/Cursuri",t)}delete(t){return this.httpClient.delete(this.baseUrl+"/Cursuri/"+t)}static{this.\u0275fac=function(a){return new(a||l)(ve(Se))}}static{this.\u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var Nr=l=>["edit",l];function Br(l,o){if(l&1){let t=P();r(0,"table-header",9),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))})("serachIdDDFilter",function(e){p(t);let i=m();return u(i.filterFirma(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire")("ddFilterList",t.ddFirme)("ddFilterVisible",!0)}}function Wr(l,o){if(l&1){let t=P();r(0,"table-header",10),S("add",function(){p(t);let e=m();return u(e.navToAdd())})("nextPage",function(e){p(t);let i=m();return u(i.nextPage(e))})("previousPage",function(e){p(t);let i=m();return u(i.previousPage(e))})("lastPage",function(e){p(t);let i=m();return u(i.lastPage(e))})("selectItemsPerPage",function(e){p(t);let i=m();return u(i.changeItemsPerPage(e))})("serachFilter",function(e){p(t);let i=m();return u(i.filter(e))}),n()}if(l&2){let t=m();c("currentPage",t.currentPage)("pages",t.pages)("itemsPerPage",t.itemsPerPage)("displayAddButton",!0)("searchCriteria",t.filtru?t.filtru:"Denumire")}}function jr(l,o){if(l&1&&(r(0,"td"),s(1),n()),l&2){let t=o.$implicit;d(),b(t)}}function zr(l,o){l&1&&x(0,"mat-icon",18)}function Ur(l,o){l&1&&x(0,"mat-icon",19)}function Rr(l,o){l&1&&x(0,"mat-icon",18)}function Hr(l,o){l&1&&x(0,"mat-icon",19)}function qr(l,o){if(l&1&&(r(0,"td"),s(1),n()),l&2){let t=m().$implicit;d(),b(t.locatie)}}function Jr(l,o){if(l&1&&(r(0,"td")(1,"a",20),s(2),n()()),l&2){let t=m().$implicit;d(),c("href",t.link,He),d(),b(t.link)}}function Gr(l,o){if(l&1){let t=P();r(0,"tr")(1,"td"),s(2),n(),r(3,"td"),s(4),n(),r(5,"td",11),_(6,zr,1,0,"mat-icon",12)(7,Ur,1,0,"mat-icon",13),n(),r(8,"td",11),_(9,Rr,1,0,"mat-icon",12)(10,Hr,1,0,"mat-icon",13),n(),_(11,qr,2,1,"td",14)(12,Jr,3,2,"td",14),r(13,"td"),s(14),n(),r(15,"td")(16,"div",15)(17,"div",15),x(18,"table-edit-button",16),n()()(),r(19,"td")(20,"div",15)(21,"table-delete-button",17),S("click",function(){let e=p(t).$implicit,i=m();return u(i.deleteCurs(e.id))}),n()()()()}if(l&2){let t=o.$implicit;d(2),b(t.denumire),d(2),b(t.organizator),d(2),c("ngIf",t.activ),d(),c("ngIf",!t.activ),d(2),c("ngIf",t.isOnline),d(),c("ngIf",!t.isOnline),d(),c("ngIf",!t.isOnline),d(),c("ngIf",t.isOnline),d(2),b(t.firma),d(4),c("routerLink",le(10,Nr,t.id))}}var gt=class Ht{constructor(o,t,a,e,i){this.cursuriService=o,this.router=t,this.firmeService=a,this.activatedRoute=e,this.toastr=i,this.cursuri=[],this.headers=[],this.pages=0,this.currentPage=1,this.itemsPerPage=10,this.filtru="",this.filtruIdFirma=null,this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.getDDFirme()}ngOnInit(){this.headers=["Denumire","Organizator","Activ","Online","Loca\u021Bie/Link","Firma","Modifica\u021Bi","\u0218terge\u021Bi"],this.tableFiltersSub=this.cursuriService.tableFiltersObs$.subscribe(o=>{this.filtru=o?.filter,this.filtruIdFirma=o?.filterFirma,this.currentPage=o?.currentPage,this.itemsPerPage=o?.itemsPerPage}),this.getCursuri(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}deleteCurs(o){this.cursuriService.delete(o).subscribe({next:()=>{setTimeout(()=>{window.location.reload()},1e3),this.toastr.success("Cursul a fost \u0219ters cu succes!","Succes!")},error:t=>{this.toastr.error(`Cursul nu a putut fi \u0219ters!, ${t.message}`,"Eroare!")}})}navToAdd(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}nextPage(o){this.getCursuri(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getCursuri(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getCursuri(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getCursuri(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getCursuri(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getCursuri(o,t,a,e){this.cursuriService.getAll(o,t,a,e),this.cursuriSub=this.cursuriService.cursuriDisplayModelObs$.subscribe(i=>{this.cursuri=i?.cursuri,this.pages=i?.pages,this.currentPage=i?.currentPage})}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getCursuri(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}static{this.\u0275fac=function(t){return new(t||Ht)(g(Ve),g(O),g(T),g(N),g(V))}}static{this.\u0275cmp=I({type:Ht,selectors:[["cursuri"]],standalone:!1,decls:14,vars:4,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-2","border-rounded"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],["ddFilterCriteria","Firma",3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria","ddFilterList","ddFilterVisible"],[3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria"],[2,"text-align","center"],["color","primary","fontIcon","check",4,"ngIf"],["color","warn","fontIcon","close",4,"ngIf"],[4,"ngIf"],[1,"text-center"],[3,"routerLink"],[3,"click"],["color","primary","fontIcon","check"],["color","warn","fontIcon","close"],["target","_blank",3,"href"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Nomenclator Cursuri"),n()()(),r(4,"div",2),x(5,"router-outlet"),_(6,Br,1,7,"table-header",3)(7,Wr,1,5,"table-header",4),r(8,"table",5)(9,"thead",6)(10,"tr",7),_(11,jr,2,1,"td",8),n()(),r(12,"tbody"),_(13,Gr,22,12,"tr",8),n()()()),t&2&&(d(6),c("ngIf",!a.idFirmaLoggedInUser),d(),c("ngIf",a.idFirmaLoggedInUser),d(4),c("ngForOf",a.headers),d(2),c("ngForOf",a.cursuri))},dependencies:[ue,A,F,ce,pe,ye,me,oe],encapsulation:2})}};gt=E([D({checkProperties:!0})],gt);function Kr(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Curs"),n())}function Qr(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Curs"),n())}function Xr(l,o){l&1&&(r(0,"span",44),s(1,"C\xE2mpul este obligatoriu!"),n())}function Yr(l,o){if(l&1){let t=P();r(0,"div",28)(1,"label",45),s(2,"Link"),n(),r(3,"input",46,7),C("ngModelChange",function(e){p(t);let i=m(2);return v(i.curs.link,e)||(i.curs.link=e),u(e)}),n()()}if(l&2){let t=m(2);d(3),h("ngModel",t.curs.link)}}function Zr(l,o){if(l&1){let t=P();r(0,"div",28)(1,"label",45),s(2,"Loca\u021Bie"),n(),r(3,"input",47,8),C("ngModelChange",function(e){p(t);let i=m(2);return v(i.curs.locatie,e)||(i.curs.locatie=e),u(e)}),n()()}if(l&2){let t=m(2);d(3),h("ngModel",t.curs.locatie)}}function $r(l,o){if(l&1&&(r(0,"option",38),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function eo(l,o){if(l&1){let t=P();r(0,"div",11)(1,"div",12)(2,"div",13),_(3,Kr,2,0,"h3",14)(4,Qr,2,0,"h3",14),n(),r(5,"form",15,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",16),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.id,e)||(i.curs.id=e),u(e)}),n(),r(8,"div",11)(9,"div",17)(10,"div",18)(11,"div",19)(12,"label",20),s(13,"Denumire"),n(),r(14,"input",21,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.denumire,e)||(i.curs.denumire=e),u(e)}),n(),_(16,Xr,2,0,"span",22),n()(),r(17,"div",18)(18,"div",19)(19,"label",23),s(20,"Organizator"),n(),r(21,"input",24,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.organizator,e)||(i.curs.organizator=e),u(e)}),n()()(),r(23,"div",18)(24,"div",19)(25,"label",25),s(26,"Pre\u021B"),n(),r(27,"input",26,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.pret,e)||(i.curs.pret=e),u(e)}),n()()()(),r(29,"div",27)(30,"div",18)(31,"div",28)(32,"label",29),s(33,"Data \xCEnceput"),n(),r(34,"input",30,4),k(36,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.curs.dataInceput=e)}),n()(),r(37,"div",28)(38,"label",31),s(39,"Data Sf\u0103r\u0219it"),n(),r(40,"input",32,5),k(42,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.curs.dataSfarsit=e)}),n()()(),r(43,"div",18)(44,"div",28)(45,"div",11)(46,"label",33),s(47,"Cursul se desfasoara online"),n()(),r(48,"div",11)(49,"div",19)(50,"input",34,6),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.isOnline,e)||(i.curs.isOnline=e),u(e)}),n()()()(),_(52,Yr,5,1,"div",35)(53,Zr,5,1,"div",35),n(),r(54,"div",18)(55,"div",19)(56,"label",36),s(57,"Firma"),n(),r(58,"select",37),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.idFirma,e)||(i.curs.idFirma=e),u(e)}),r(59,"option",38),s(60,"Selecta\u021Bi firma"),n(),_(61,$r,2,2,"option",39),n()()()()(),r(62,"div",40)(63,"div",41)(64,"cancel-button",42),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(65,"div",41),x(66,"save-button",43),n()()()()()}if(l&2){let t=w(6),a=w(15),e=m();d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(3),h("ngModel",e.curs.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.curs.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.curs.organizator),d(6),h("ngModel",e.curs.pret),d(7),c("ngModel",L(36,19,e.curs.dataInceput,"yyyy-MM-dd")),d(6),c("ngModel",L(42,22,e.curs.dataSfarsit,"yyyy-MM-dd")),d(10),h("ngModel",e.curs.isOnline),d(2),c("ngIf",e.curs.isOnline),d(),c("ngIf",!e.curs.isOnline),d(5),h("ngModel",e.curs.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(5),c("disabled",!t.valid)}}var _t=class qt{constructor(o,t,a,e,i){this.cursuriService=o,this.ddStateService=t,this.firmeService=a,this.toastr=e,this.router=i,this.isEditMode=!1,this.loggedInUserHasFirma=!1,this.curs={},this.firmeSub=this.firmeService.firmeSelections$.subscribe(y=>{this.ddFirmeSelectionList=y}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(y=>{y&&(this.loggedInUserHasFirma=!0,this.curs.firma=y.Text,this.curs.idFirma=y.IdFirma)})}save(){this.cursuriService.add(this.curs).subscribe({next:()=>{this.ddStateService.upsertDropdowns(),this.toastr.success("Cursul a fost ad\u0103ugat cu succes!","Succes!"),setTimeout(()=>{this.goTocursuri()},500)},error:o=>{this.toastr.error(`cursul nu a putut fi ad\u0103ugat!, ${o.message}`,"Eroare!")}})}onCancel(){this.goTocursuri()}goTocursuri(){this.router.navigate(["/cursuri"])}static{this.\u0275fac=function(t){return new(t||qt)(g(Ve),g(z),g(T),g(V),g(O))}}static{this.\u0275cmp=I({type:qt,selectors:[["cursuri-add"]],standalone:!1,decls:2,vars:1,consts:[["cursartimentForm","ngForm"],["denumire","ngModel"],["organizator","ngModel"],["pret","ngModel"],["dataInceput","ngModel"],["dataSfarsit","ngModel"],["isOnline","ngModel"],["link","ngModel"],["locatie","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","curs-denumire",1,"required-label"],["type","text","id","curs-denumire","name","denumire","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","curs-organizator"],["type","text","id","curs-organizator","name","organizator",1,"form-control",3,"ngModelChange","ngModel"],["for","curs-pret"],["type","number","id","curs-pret","name","pret",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","curs-dataInceput"],["data-provide","datepicker","type","date","name","dataInceput","id","curs-dataInceput",1,"form-control","date",3,"ngModelChange","ngModel"],["for","curs-dataSfarsit"],["data-provide","datepicker","type","date","name","dataSfarsit","id","curs-dataSfarsit",1,"form-control","date",3,"ngModelChange","ngModel"],["for","curs-isOnline"],["type","checkbox","name","isOnline","id","curs-isOnline",1,"form-check-input","big-checkbox",3,"ngModelChange","ngModel"],["class","col-md-6",4,"ngIf"],["for","curs-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"],["for","curs-link"],["type","text","name","link","id","curs-link",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","locatie","id","curs-locatie",1,"form-control",3,"ngModelChange","ngModel"]],template:function(t,a){t&1&&(r(0,"div",9),_(1,eo,67,25,"div",10),n()),t&2&&(d(),c("ngIf",a.curs))},dependencies:[A,F,H,J,G,Y,we,Pe,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};_t=E([D({checkProperties:!0})],_t);function to(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Curs"),n())}function io(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Curs"),n())}function no(l,o){l&1&&(r(0,"span",44),s(1,"C\xE2mpul este obligatoriu!"),n())}function ro(l,o){if(l&1){let t=P();r(0,"div",28)(1,"label",45),s(2,"Link"),n(),r(3,"input",46,7),C("ngModelChange",function(e){p(t);let i=m(2);return v(i.curs.link,e)||(i.curs.link=e),u(e)}),n()()}if(l&2){let t=m(2);d(3),h("ngModel",t.curs.link)}}function oo(l,o){if(l&1){let t=P();r(0,"div",28)(1,"label",45),s(2,"Loca\u021Bie"),n(),r(3,"input",47,8),C("ngModelChange",function(e){p(t);let i=m(2);return v(i.curs.locatie,e)||(i.curs.locatie=e),u(e)}),n()()}if(l&2){let t=m(2);d(3),h("ngModel",t.curs.locatie)}}function ao(l,o){if(l&1&&(r(0,"option",38),s(1),n()),l&2){let t=o.$implicit;c("value",t.Value),d(),B("",t.Text," ")}}function lo(l,o){if(l&1){let t=P();r(0,"div",11)(1,"div",12)(2,"div",13),_(3,to,2,0,"h3",14)(4,io,2,0,"h3",14),n(),r(5,"form",15,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",16),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.id,e)||(i.curs.id=e),u(e)}),n(),r(8,"div",11)(9,"div",17)(10,"div",18)(11,"div",19)(12,"label",20),s(13,"Denumire"),n(),r(14,"input",21,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.denumire,e)||(i.curs.denumire=e),u(e)}),n(),_(16,no,2,0,"span",22),n()(),r(17,"div",18)(18,"div",19)(19,"label",23),s(20,"Organizator"),n(),r(21,"input",24,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.organizator,e)||(i.curs.organizator=e),u(e)}),n()()(),r(23,"div",18)(24,"div",19)(25,"label",25),s(26,"Pre\u021B"),n(),r(27,"input",26,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.pret,e)||(i.curs.pret=e),u(e)}),n()()()(),r(29,"div",27)(30,"div",18)(31,"div",28)(32,"label",29),s(33,"Data \xCEnceput"),n(),r(34,"input",30,4),k(36,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.curs.dataInceput=e)}),n()(),r(37,"div",28)(38,"label",31),s(39,"Data Sf\u0103r\u0219it"),n(),r(40,"input",32,5),k(42,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.curs.dataSfarsit=e)}),n()()(),r(43,"div",18)(44,"div",28)(45,"div",11)(46,"label",33),s(47,"Cursul se desfasoara online"),n()(),r(48,"div",11)(49,"div",19)(50,"input",34,6),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.isOnline,e)||(i.curs.isOnline=e),u(e)}),n()()()(),_(52,ro,5,1,"div",35)(53,oo,5,1,"div",35),n(),r(54,"div",18)(55,"div",19)(56,"label",36),s(57,"Firma"),n(),r(58,"select",37),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.idFirma,e)||(i.curs.idFirma=e),u(e)}),r(59,"option",38),s(60,"Selecta\u021Bi firma"),n(),_(61,ao,2,2,"option",39),n()()()()(),r(62,"div",40)(63,"div",41)(64,"cancel-button",42),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(65,"div",41),x(66,"save-button",43),n()()()()()}if(l&2){let t=w(6),a=w(15),e=m();d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(3),h("ngModel",e.curs.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.curs.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.curs.organizator),d(6),h("ngModel",e.curs.pret),d(7),c("ngModel",L(36,19,e.curs.dataInceput,"yyyy-MM-dd")),d(6),c("ngModel",L(42,22,e.curs.dataSfarsit,"yyyy-MM-dd")),d(10),h("ngModel",e.curs.isOnline),d(2),c("ngIf",e.curs.isOnline),d(),c("ngIf",!e.curs.isOnline),d(5),h("ngModel",e.curs.idFirma),c("disabled",e.loggedInUserHasFirma),d(),c("value",0),d(2),c("ngForOf",e.ddFirmeSelectionList),d(5),c("disabled",!t.valid)}}var ft=class Jt{constructor(o,t,a,e,i,y){this.cursuriService=o,this.toastr=t,this.ddStateService=a,this.firmeService=e,this.router=i,this.route=y,this.isEditMode=!0,this.loggedInUserHasFirma=!1,this.firmeSub=this.firmeService.firmeSelections$.subscribe(M=>{this.ddFirmeSelectionList=M}),this.firmaLoggedInUserSub=this.firmeService.firmaLoggedInUser$.subscribe(M=>{M&&(this.loggedInUserHasFirma=!0)})}ngOnInit(){this.route.params.subscribe(o=>{this.id=+o.id,this.cursuriSub=this.cursuriService.get(this.id).subscribe(t=>{this.curs=t})})}save(){this.cursuriService.update(this.curs).subscribe({next:()=>{this.ddStateService.upsertDropdowns(),this.toastr.success("Cursul a fost modificat cu succes!","Succes!"),setTimeout(()=>{this.goToCursuri()},1e3)},error:o=>{this.toastr.error(`Cursul nu a putut fi modificat!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToCursuri()}goToCursuri(){this.router.navigate(["/cursuri"])}static{this.\u0275fac=function(t){return new(t||Jt)(g(Ve),g(V),g(z),g(T),g(O),g(N))}}static{this.\u0275cmp=I({type:Jt,selectors:[["cursuri-edit"]],standalone:!1,decls:2,vars:1,consts:[["cursartimentForm","ngForm"],["denumire","ngModel"],["organizator","ngModel"],["pret","ngModel"],["dataInceput","ngModel"],["dataSfarsit","ngModel"],["isOnline","ngModel"],["link","ngModel"],["locatie","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","curs-denumire",1,"required-label"],["type","text","id","curs-denumire","name","denumire","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","curs-organizator"],["type","text","id","curs-organizator","name","organizator",1,"form-control",3,"ngModelChange","ngModel"],["for","curs-pret"],["type","number","id","curs-pret","name","pret",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],[1,"col-md-6"],["for","curs-dataInceput"],["data-provide","datepicker","type","date","name","dataInceput","id","curs-dataInceput",1,"form-control","date",3,"ngModelChange","ngModel"],["for","curs-dataSfarsit"],["data-provide","datepicker","type","date","name","dataSfarsit","id","curs-dataSfarsit",1,"form-control","date",3,"ngModelChange","ngModel"],["for","curs-isOnline"],["type","checkbox","name","isOnline","id","curs-isOnline",1,"form-check-input","big-checkbox",3,"ngModelChange","ngModel"],["class","col-md-6",4,"ngIf"],["for","curs-firma"],["id","idFirma","name","idFirma",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-block","help-block-danger"],["for","curs-link"],["type","text","name","link","id","curs-link",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","locatie","id","curs-locatie",1,"form-control",3,"ngModelChange","ngModel"]],template:function(t,a){t&1&&(r(0,"div",9),_(1,lo,67,25,"div",10),n()),t&2&&(d(),c("ngIf",a.curs))},dependencies:[A,F,H,J,G,Y,we,Pe,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};ft=E([D({checkProperties:!0})],ft);var so=l=>["edit",l];function mo(l,o){if(l&1&&(r(0,"td"),s(1),n()),l&2){let t=o.$implicit;d(),b(t)}}function co(l,o){l&1&&x(0,"mat-icon",14)}function po(l,o){l&1&&x(0,"mat-icon",15)}function uo(l,o){if(l&1){let t=P();r(0,"tr")(1,"td"),s(2),n(),r(3,"td"),s(4),n(),r(5,"td"),s(6),n(),r(7,"td",8),_(8,co,1,0,"mat-icon",9)(9,po,1,0,"mat-icon",10),n(),r(10,"td")(11,"div",11),x(12,"table-edit-button",12),n()(),r(13,"td")(14,"div",11)(15,"table-delete-button",13),S("click",function(){let e=p(t).$implicit,i=m();return u(i.deleteFirma(e.id))}),n()()()()}if(l&2){let t=o.$implicit;d(2),b(t.denumire),d(2),Fe("",t.atributFiscal," ",t.codFiscal,""),d(2),b(t.tipIntreprindere),d(2),c("ngIf",t.activ),d(),c("ngIf",!t.activ),d(3),c("routerLink",le(7,so,t.id))}}var ht=class Gt{constructor(o,t,a,e){this.firmeService=o,this.router=t,this.activatedRoute=a,this.toastr=e,this.firme=[],this.headers=[],this.pages=0,this.currentPage=1,this.itemsPerPage=10,this.filtru="",this.firmeSub=new Ct,this.tableFiltersSub=new Ct}ngOnInit(){this.headers=["Denumire","Cod Fiscal","Tip \xCEntreprindere","Stare","Modifica\u021Bi","\u0218terge\u021Bi"],this.tableFiltersSub=this.firmeService.tableFiltersObs$.subscribe(o=>{this.filtru=o?.filter,this.currentPage=o?.currentPage,this.itemsPerPage=o?.itemsPerPage}),this.getFirme(this.currentPage,this.itemsPerPage,this.filtru)}deleteFirma(o){this.firmeService.delete(o).subscribe({next:()=>{setTimeout(()=>{window.location.reload()},1e3),this.toastr.success("Firma a fost \u0219ters\u0103 cu succes!","Succes!")},error:t=>{this.toastr.error(`Firma nu a putut fi \u0219ters\u0103!, ${t.message}`,"Eroare!")}})}navToAdd(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}nextPage(o){this.getFirme(o,this.itemsPerPage,this.filtru)}previousPage(o){this.getFirme(o,this.itemsPerPage,this.filtru)}lastPage(o){this.getFirme(o,this.itemsPerPage,this.filtru)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getFirme(this.currentPage,this.itemsPerPage,this.filtru)}filter(o){this.filtru=o,this.currentPage=1,this.getFirme(this.currentPage,this.itemsPerPage,this.filtru)}getFirme(o,t,a){this.firmeService.getAll(o,t,a),this.firmeSub=this.firmeService.firmeDisplayModelObs$.subscribe(e=>{e&&(this.firme=e.firme,this.pages=e.pages,this.currentPage=e.currentPage)})}static{this.\u0275fac=function(t){return new(t||Gt)(g(T),g(O),g(N),g(V))}}static{this.\u0275cmp=I({type:Gt,selectors:[["firme"]],standalone:!1,decls:13,vars:7,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-2","border-rounded"],[3,"add","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","displayAddButton","searchCriteria"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],[2,"text-align","center"],["color","primary","fontIcon","check",4,"ngIf"],["color","warn","fontIcon","close",4,"ngIf"],[1,"text-center"],[3,"routerLink"],[3,"click"],["color","primary","fontIcon","check"],["color","warn","fontIcon","close"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Nomenclator Firme"),n()()(),r(4,"div",2),x(5,"router-outlet"),r(6,"table-header",3),S("add",function(){return a.navToAdd()})("nextPage",function(i){return a.nextPage(i)})("previousPage",function(i){return a.previousPage(i)})("lastPage",function(i){return a.lastPage(i)})("selectItemsPerPage",function(i){return a.changeItemsPerPage(i)})("serachFilter",function(i){return a.filter(i)}),n(),r(7,"table",4)(8,"thead",5)(9,"tr",6),_(10,mo,2,1,"td",7),n()(),r(11,"tbody"),_(12,uo,16,9,"tr",7),n()()()),t&2&&(d(6),c("currentPage",a.currentPage)("pages",a.pages)("itemsPerPage",a.itemsPerPage)("displayAddButton",!0)("searchCriteria","Denumire, Cod Fiscal "),d(4),c("ngForOf",a.headers),d(2),c("ngForOf",a.firme))},dependencies:[ue,A,F,ce,pe,ye,me,oe],encapsulation:2})}};ht=E([D({checkProperties:!0})],ht);function go(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Firm\u0103"),n())}function _o(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Firm\u0103"),n())}function fo(l,o){l&1&&(r(0,"span",49),s(1,"C\xE2mpul este obligatoriu!"),n())}function ho(l,o){if(l&1&&(r(0,"div",17)(1,"label",50),s(2,"Adresa"),n(),r(3,"span",51),s(4),n()()),l&2){let t=m(2);d(4),b(t.firma.adresa)}}function vo(l,o){if(l&1){let t=P();r(0,"div",9)(1,"div",10)(2,"div",11),_(3,go,2,0,"h3",12)(4,_o,2,0,"h3",12),n(),r(5,"form",13,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",14),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.id,e)||(i.firma.id=e),u(e)}),n(),r(8,"div",9)(9,"div",15)(10,"div",16)(11,"div",17)(12,"label",18),s(13,"Denumire"),n(),r(14,"input",19,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.denumire,e)||(i.firma.denumire=e),u(e)}),n(),_(16,fo,2,0,"span",20),n()(),r(17,"div",16)(18,"div",21)(19,"label",22),s(20,"Atribut Fiscal"),n(),r(21,"select",23,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.atributFiscal,e)||(i.firma.atributFiscal=e),u(e)}),x(23,"option",24),r(24,"option",25),s(25,"RO"),n()()(),r(26,"div",26)(27,"label",27),s(28,"Cod Fiscal"),n(),r(29,"input",28,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.codFiscal,e)||(i.firma.codFiscal=e),u(e)}),n()()()(),r(31,"div",29)(32,"div",16)(33,"div",17)(34,"label",30),s(35,"Tip \xCEntreprindere"),n(),r(36,"select",31,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.tipIntreprindere,e)||(i.firma.tipIntreprindere=e),u(e)}),x(38,"option",24),r(39,"option",32),s(40,"II - \xCEntreprindere individual\u0103"),n(),r(41,"option",33),s(42,"PFA - Persoana Fizic\u0103 Autorizat\u0103"),n(),r(43,"option",34),s(44,"SRL - SOCIETATE CU R\u0102SPUNDERE LIMITAT\u0102"),n(),r(45,"option",35),s(46,"SNC - SOCIETATE \xCEN NUME COLECTIV"),n(),r(47,"option",36),s(48,"SCS - SOCIETATE \xCEN COMANDIT\u0102 SIMPL\u0102"),n(),r(49,"option",37),s(50,"SA - SOCIETATE PE AC\u0162IUNI"),n(),r(51,"option",38),s(52,"SCA - SOCIETATE \xCEN COMANDIT\u0102 PE AC\u0162IUNI"),n()()()(),r(53,"div",16)(54,"div",39)(55,"label",40),s(56,"Data \xCEnceput"),n(),r(57,"input",41,5),k(59,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.firma.dataIn=e)}),n()(),r(60,"div",39)(61,"label",42),s(62,"Data Sf\u0103r\u0219it"),n(),r(63,"input",43,6),k(65,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.firma.dataSf=e)}),n()()(),r(66,"div",16),_(67,ho,5,1,"div",44),n()(),r(68,"div",45)(69,"div",46)(70,"cancel-button",47),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(71,"div",46),x(72,"save-button",48),n()()()()()()}if(l&2){let t=w(6),a=w(15),e=m();d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(3),h("ngModel",e.firma.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.firma.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.firma.atributFiscal),d(8),h("ngModel",e.firma.codFiscal),d(7),h("ngModel",e.firma.tipIntreprindere),d(21),c("ngModel",L(59,14,e.firma.dataIn,"yyyy-MM-dd")),d(6),c("ngModel",L(65,17,e.firma.dataSf,"yyyy-MM-dd")),d(4),c("ngIf",e.firma.adresa),d(5),c("disabled",!t.valid)}}var ri=(()=>{class l{constructor(t,a,e,i,y){this.firmeService=t,this.toastr=a,this.router=e,this.ddStateService=i,this.route=y,this.isEditMode=!1}ngOnInit(){this.firma={}}save(){this.firmeService.add(this.firma).subscribe({next:()=>{this.firmeService.upsertDDFirme(),this.ddStateService.upsertDropdowns(),this.toastr.success("Firma a fost adaugata cu succes!","Succes!"),setTimeout(()=>{this.goToFirme(),this.firmeService.upsertDDFirme()},500)},error:t=>{this.toastr.error(`Firma nu a putut fi adaugata!, ${t.message}`,"Eroare!")}})}onCancel(){this.goToFirme()}goToFirme(){this.router.navigate(["/firme"],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||l)(g(T),g(V),g(O),g(z),g(N))}}static{this.\u0275cmp=I({type:l,selectors:[["firma-add"]],standalone:!1,decls:2,vars:1,consts:[["firmaForm","ngForm"],["denumire","ngModel"],["atributFiscal","ngModel"],["codFiscal","ngModel"],["tipIntreprindere","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","firma-denumire",1,"mb-1","required-label"],["type","text","id","firma-denumire","name","denumire","ngModel","","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-bfirmak help-bfirmak-danger",4,"ngIf"],[1,"col-md-4"],["for","firma-atributFiscal",1,"mb-1"],["name","firma-atributFiscal",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","RO"],[1,"col-md-8"],["for","firma-codFiscal",1,"mb-1"],["type","text","id","firma-codFiscal","name","codFiscal","ngModel","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],["for","firma-tipIntreprindere",1,"mb-1"],["name","firma-tipIntreprindere",1,"form-select",3,"ngModelChange","ngModel"],["value","II"],["value","PFA"],["value","SRL"],["value","SNC"],["value","SCS"],["value","SA"],["value","SCA"],[1,"col-md-6"],["for","firma-dataIn",1,"mb-1"],["id","firma-dataIn","data-provide","datepicker","type","date","name","dataIn","ngModel","",1,"form-control","date",3,"ngModelChange","ngModel"],["for","firma-dataSf",1,"mb-1"],["id","firma-dataSf","data-provide","datepicker","type","date","name","dataSf","ngModel","",1,"form-control","date",3,"ngModelChange","ngModel"],["class","col-md-12",4,"ngIf"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-bfirmak","help-bfirmak-danger"],["for","firma-adresa",1,"mb-1"],[1,"form-control"]],template:function(a,e){a&1&&(r(0,"div",7),_(1,vo,73,20,"div",8),n()),a&2&&(d(),c("ngIf",e.firma))},dependencies:[F,H,J,G,Y,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}}return l})();function Co(l,o){l&1&&(r(0,"h3"),s(1,"Ad\u0103ugare Firm\u0103"),n())}function So(l,o){l&1&&(r(0,"h3"),s(1,"Modificare Firm\u0103"),n())}function xo(l,o){l&1&&(r(0,"span",49),s(1,"C\xE2mpul este obligatoriu!"),n())}function bo(l,o){if(l&1&&(r(0,"div",17)(1,"label",50),s(2,"Adresa"),n(),r(3,"span",51),s(4),n()()),l&2){let t=m(2);d(4),b(t.firma.adresa)}}function Po(l,o){if(l&1){let t=P();r(0,"div",9)(1,"div",10)(2,"div",11),_(3,Co,2,0,"h3",12)(4,So,2,0,"h3",12),n(),r(5,"form",13,0),S("ngSubmit",function(){p(t);let e=m();return u(e.save())}),r(7,"input",14),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.id,e)||(i.firma.id=e),u(e)}),n(),r(8,"div",9)(9,"div",15)(10,"div",16)(11,"div",17)(12,"label",18),s(13,"Denumire"),n(),r(14,"input",19,1),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.denumire,e)||(i.firma.denumire=e),u(e)}),n(),_(16,xo,2,0,"span",20),n()(),r(17,"div",16)(18,"div",21)(19,"label",22),s(20,"Atribut Fiscal"),n(),r(21,"select",23,2),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.atributFiscal,e)||(i.firma.atributFiscal=e),u(e)}),x(23,"option",24),r(24,"option",25),s(25,"RO"),n()()(),r(26,"div",26)(27,"label",27),s(28,"Cod Fiscal"),n(),r(29,"input",28,3),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.codFiscal,e)||(i.firma.codFiscal=e),u(e)}),n()()()(),r(31,"div",29)(32,"div",16)(33,"div",17)(34,"label",30),s(35,"Tip \xCEntreprindere"),n(),r(36,"select",31,4),C("ngModelChange",function(e){p(t);let i=m();return v(i.firma.tipIntreprindere,e)||(i.firma.tipIntreprindere=e),u(e)}),x(38,"option",24),r(39,"option",32),s(40,"II - \xCEntreprindere individual\u0103"),n(),r(41,"option",33),s(42,"PFA - Persoana Fizic\u0103 Autorizat\u0103"),n(),r(43,"option",34),s(44,"SRL - SOCIETATE CU R\u0102SPUNDERE LIMITAT\u0102"),n(),r(45,"option",35),s(46,"SNC - SOCIETATE \xCEN NUME COLECTIV"),n(),r(47,"option",36),s(48,"SCS - SOCIETATE \xCEN COMANDIT\u0102 SIMPL\u0102"),n(),r(49,"option",37),s(50,"SA - SOCIETATE PE AC\u0162IUNI"),n(),r(51,"option",38),s(52,"SCA - SOCIETATE \xCEN COMANDIT\u0102 PE AC\u0162IUNI"),n()()()(),r(53,"div",16)(54,"div",39)(55,"label",40),s(56,"Data \xCEnceput"),n(),r(57,"input",41,5),k(59,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.firma.dataIn=e)}),n()(),r(60,"div",39)(61,"label",42),s(62,"Data Sf\u0103r\u0219it"),n(),r(63,"input",43,6),k(65,"date"),S("ngModelChange",function(e){p(t);let i=m();return u(i.firma.dataSf=e)}),n()()(),r(66,"div",16),_(67,bo,5,1,"div",44),n()(),r(68,"div",45)(69,"div",46)(70,"cancel-button",47),S("click",function(){p(t);let e=m();return u(e.onCancel())}),n()(),r(71,"div",46),x(72,"save-button",48),n()()()()()()}if(l&2){let t=w(6),a=w(15),e=m();d(3),c("ngIf",!e.isEditMode),d(),c("ngIf",e.isEditMode),d(3),h("ngModel",e.firma.id),d(7),X("invalid",a.touched&&a.invalid),h("ngModel",e.firma.denumire),d(2),c("ngIf",!a.valid&&a.touched),d(5),h("ngModel",e.firma.atributFiscal),d(8),h("ngModel",e.firma.codFiscal),d(7),h("ngModel",e.firma.tipIntreprindere),d(21),c("ngModel",L(59,14,e.firma.dataIn,"yyyy-MM-dd")),d(6),c("ngModel",L(65,17,e.firma.dataSf,"yyyy-MM-dd")),d(4),c("ngIf",e.firma.adresa),d(5),c("disabled",!t.valid)}}var vt=class Kt{constructor(o,t,a,e,i){this.firmeService=o,this.toastr=t,this.ddStateService=a,this.router=e,this.route=i,this.isEditMode=!1}ngOnInit(){this.route.params.subscribe(o=>{this.id=+o.id,this.firmaSub=this.firmeService.get(this.id).subscribe(t=>{this.firma=t})})}save(){this.firmeService.update(this.firma).subscribe({next:()=>{this.firmeService.upsertDDFirme(),this.ddStateService.upsertDropdowns(),this.toastr.success("Firma a fost modificat\u0103 cu succes!","Succes!"),setTimeout(()=>{this.goToFirme()},1e3)},error:o=>{this.toastr.error(`Firma nu a putut fi modificat\u0103!, ${o.message}`,"Eroare!")}})}onCancel(){this.goToFirme()}goToFirme(){this.router.navigate(["/firme"])}static{this.\u0275fac=function(t){return new(t||Kt)(g(T),g(V),g(z),g(O),g(N))}}static{this.\u0275cmp=I({type:Kt,selectors:[["firma-edit"]],standalone:!1,decls:2,vars:1,consts:[["firmaForm","ngForm"],["denumire","ngModel"],["atributFiscal","ngModel"],["codFiscal","ngModel"],["tipIntreprindere","ngModel"],["dataIn","ngModel"],["dataSf","ngModel"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"row","p-3","border"],[1,"col-12","text-center","p-4","border-bottom"],[4,"ngIf"],[3,"ngSubmit"],["name","id","type","hidden",3,"ngModelChange","ngModel"],[1,"col-5","pt-4"],[1,"row","mb-3"],[1,"col-md-12"],["for","firma-denumire",1,"mb-1","required-label"],["type","text","id","firma-denumire","name","denumire","ngModel","","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-bfirmak help-bfirmak-danger",4,"ngIf"],[1,"col-md-4"],["for","firma-atributFiscal",1,"mb-1"],["name","firma-atributFiscal",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","RO"],[1,"col-md-8"],["for","firma-codFiscal",1,"mb-1"],["type","text","id","firma-codFiscal","name","codFiscal","ngModel","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-7","pt-4"],["for","firma-tipIntreprindere",1,"mb-1"],["name","firma-tipIntreprindere",1,"form-select",3,"ngModelChange","ngModel"],["value","II"],["value","PFA"],["value","SRL"],["value","SNC"],["value","SCS"],["value","SA"],["value","SCA"],[1,"col-md-6"],["for","firma-dataIn",1,"mb-1"],["id","firma-dataIn","data-provide","datepicker","type","date","name","dataIn","ngModel","",1,"form-control","date",3,"ngModelChange","ngModel"],["for","firma-dataSf",1,"mb-1"],["id","firma-dataSf","data-provide","datepicker","type","date","name","dataSf","ngModel","",1,"form-control","date",3,"ngModelChange","ngModel"],["class","col-md-12",4,"ngIf"],[1,"row","pt-3"],[1,"col-6"],[3,"click"],[3,"disabled"],[1,"help-bfirmak","help-bfirmak-danger"],["for","firma-adresa",1,"mb-1"],[1,"form-control"]],template:function(t,a){t&1&&(r(0,"div",7),_(1,Po,73,20,"div",8),n()),t&2&&(d(),c("ngIf",a.firma))},dependencies:[F,H,J,G,Y,q,W,U,ee,j,R,Z,K,$],encapsulation:2})}};vt=E([D({checkProperties:!0})],vt);var yo=[{path:"locatii",component:Ge},{path:"locatii",children:[{path:"add",component:Ke},{path:"edit/:id",component:Qe}]},{path:"divizii",component:et},{path:"divizii",children:[{path:"add",component:Ze},{path:"edit/:id",component:$e}]},{path:"skills",component:lt},{path:"skills",children:[{path:"add",component:ot},{path:"edit/:id",component:at}]},{path:"compartimente",component:Ye},{path:"compartimente",children:[{path:"add",component:pt},{path:"edit/:id",component:Xe}]},{path:"posturi",component:rt},{path:"posturi",children:[{path:"add",component:it},{path:"edit/:id",component:nt},{path:"profilPost/:id",component:dt}]},{path:"nomObiective",component:st},{path:"nomObiective",children:[{path:"add",component:mt},{path:"edit/:id",component:ct}]},{path:"cursuri",component:gt},{path:"cursuri",children:[{path:"add",component:_t},{path:"edit/:id",component:ft}]},{path:"firme",component:ht},{path:"firme",children:[{path:"add",component:ri},{path:"edit/:id",component:vt}]}],oi=(()=>{class l{static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275mod=qe({type:l})}static{this.\u0275inj=Re({imports:[St.forChild(yo),St]})}}return l})();function Mo(l,o){l&1&&(r(0,"h3",3),s(1,"Detalii Curs"),n())}function wo(l,o){if(l&1&&(r(0,"div",8)(1,"strong"),s(2,"Organizator:"),n(),r(3,"p"),s(4),n()()),l&2){let t=m(2);d(4),b(t.curs.organizator)}}function Io(l,o){if(l&1&&(r(0,"div",8)(1,"strong"),s(2,"Pre\u021B:"),n(),r(3,"p"),s(4),n()()),l&2){let t=m(2);d(4),b(t.curs.pret)}}function Fo(l,o){if(l&1&&(r(0,"div",16)(1,"strong"),s(2,"Data Sf\u0103r\u0219it:"),n(),r(3,"p"),s(4),k(5,"date"),n()()),l&2){let t=m(3);d(4),b(L(5,1,t.curs.dataSfarsit,"dd/MM/yyyy"))}}function Eo(l,o){if(l&1&&(r(0,"div",12)(1,"div",16)(2,"strong"),s(3,"Data \xCEnceput:"),n(),r(4,"p"),s(5),k(6,"date"),n()(),_(7,Fo,6,4,"div",17),n()),l&2){let t=m(2);d(5),b(L(6,2,t.curs.dataInceput,"dd/MM/yyyy")),d(2),c("ngIf",t.curs.dataSfarsit)}}function Vo(l,o){if(l&1&&(r(0,"div",12)(1,"div",18)(2,"strong"),s(3,"Link:"),n(),r(4,"a",19),s(5),n()()()),l&2){let t=m(2);d(4),c("href",t.curs.link,He),d(),b(t.curs.link)}}function To(l,o){if(l&1&&(r(0,"div",12)(1,"div",18)(2,"strong"),s(3,"Loca\u021Bie:"),n(),r(4,"p"),s(5),n()()()),l&2){let t=m(2);d(5),b(t.curs.locatie)}}function Oo(l,o){if(l&1){let t=P();r(0,"div",4)(1,"div",5)(2,"mat-card",6)(3,"mat-card-content")(4,"h4",7),s(5,"Informa\u021Bii Generale"),n(),r(6,"div",8)(7,"strong"),s(8,"Denumire Curs:"),n(),r(9,"p"),s(10),n()(),_(11,wo,5,1,"div",9)(12,Io,5,1,"div",9),n()()(),r(13,"div",10)(14,"mat-card",6)(15,"mat-card-content")(16,"h4",7),s(17,"Detalii Curs"),n(),_(18,Eo,8,5,"div",11),r(19,"div",12)(20,"div",13)(21,"strong",14),s(22,"Cursul se desf\u0103\u0219oar\u0103 online:"),n(),r(23,"mat-checkbox",15),C("ngModelChange",function(e){p(t);let i=m();return v(i.curs.isOnline,e)||(i.curs.isOnline=e),u(e)}),n()()(),_(24,Vo,6,2,"div",11)(25,To,6,1,"div",11),n()()()()}if(l&2){let t=m();d(10),b(t.curs.denumire),d(),c("ngIf",t.curs.organizator),d(),c("ngIf",t.curs.pret),d(6),c("ngIf",t.curs.dataInceput),d(5),h("ngModel",t.curs.isOnline),d(),c("ngIf",t.curs.isOnline&&t.curs.link),d(),c("ngIf",!t.curs.isOnline&&t.curs.locatie)}}var Zl=(()=>{class l{constructor(t){this.cursuriService=t,this.isEditMode=!1}ngOnInit(){this.cursSub=this.cursuriService.get(this.idCurs).subscribe(t=>{this.curs=t})}ngOnDestroy(){this.cursSub?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||l)(g(Ve))}}static{this.\u0275cmp=I({type:l,selectors:[["curs-recomandat-details"]],inputs:{idCurs:"idCurs"},standalone:!1,decls:3,vars:2,consts:[[1,"col-12","text-center","p-3","border-bottom","bg-light"],["class","text-primary",4,"ngIf"],["class","row py-3",4,"ngIf"],[1,"text-primary"],[1,"row","py-3"],[1,"col-lg-5","col-md-6","col-12"],[1,"mb-3"],[1,"text-secondary","mb-3"],[1,"mb-2"],["class","mb-2",4,"ngIf"],[1,"col-lg-7","col-md-6","col-12"],["class","row mb-2",4,"ngIf"],[1,"row","mb-2"],[1,"col-12","d-flex","align-items-center"],[1,"me-2"],["disabled","",3,"ngModelChange","ngModel"],[1,"col-6"],["class","col-6",4,"ngIf"],[1,"col-12"],["target","_blank",3,"href"]],template:function(a,e){a&1&&(r(0,"div",0),_(1,Mo,2,0,"h3",1),n(),_(2,Oo,26,7,"div",2)),a&2&&(d(),c("ngIf",e.isEditMode),d(),c("ngIf",e.curs))},dependencies:[F,W,j,Zt,$t,ei,$],encapsulation:2})}}return l})();var ts=(()=>{class l{static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275mod=qe({type:l})}static{this.\u0275inj=Re({imports:[ni,ii,oi]})}}return l})();export{Zl as a,ts as b};
