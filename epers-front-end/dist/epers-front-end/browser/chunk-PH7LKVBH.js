import{a as I,b as Ce}from"./chunk-H7PKRSXN.js";import{b as $e}from"./chunk-LFCJVXSX.js";import{a as se}from"./chunk-ZLYAADV6.js";import{h as j,k as Y}from"./chunk-7HPXOHU7.js";import{a as oe,b as Ze}from"./chunk-NC7IXFJV.js";import{$a as Q,F as p,Ga as qe,I as P,Ib as Ge,J as E,Ja as q,Jb as Qe,K as ve,Ka as Je,Kb as Ke,L as v,Na as Ae,Nb as Xe,O as g,Oa as w,Q as N,Qa as F,Ra as A,S as i,T as t,U as _,Ua as J,V as he,W as be,X as h,Z as f,Za as G,_ as d,_a as L,aa as Re,ab as K,ba as Ue,bb as V,ca as He,cb as X,da as B,db as Se,ea as n,eb as Z,fa as u,fb as $,g as M,ga as O,gb as ee,hb as xe,ia as b,ja as S,jb as k,ka as x,kb as te,lb as ie,mb as ae,na as C,nb as ne,o as Ne,oa as y,ob as re,p as Pe,pb as le,r as Oe,ra as R,sa as D,sb as T,ta as U,ua as H,v as m,w as c,ya as Ye}from"./chunk-5G5VBFYZ.js";var pe=(()=>{class s{constructor(e){this.httpClient=e,this.baseUrl=qe.baseUrl}sendEmailCalificatPipToHRandAngajat(e,l){this.httpClient.get(this.baseUrl+"/EmailPip/calificat?idAngajat="+e+"&idFrima="+l).subscribe()}sendEmailPipAprobatToAgajatAngManager(e){this.httpClient.get(this.baseUrl+"/EmailPip/aprobat?idAngajat="+e).subscribe()}sendEmailPipRespinsToAngajatAndManager(e){this.httpClient.get(this.baseUrl+"/EmailPip/respins?idAngajat="+e).subscribe()}sendEmaiPipStatusUpdate(e,l){this.httpClient.get(this.baseUrl+"/EmailPip/statusUpdate?idAngajat="+e+"&idFrima="+l).subscribe()}sendEmaiPipIncheiat(e,l){this.httpClient.get(this.baseUrl+"/EmailPip/incheiat?idAngajat="+e+"&idFrima="+l).subscribe()}static{this.\u0275fac=function(l){return new(l||s)(Oe(Ye))}}static{this.\u0275prov=Ne({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var rt=["stepper"];function lt(s,o){s&1&&n(0,"Vizualizare propunere PIP")}function ot(s,o){if(s&1&&(i(0,"div",8)(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"mat-label",21),n(6,"Nume \u0219i Prenume Salariat:"),t()(),i(7,"div",20)(8,"span"),n(9),t()()(),i(10,"div",19)(11,"div",20)(12,"mat-label",21),n(13,"Post ocupat:"),t()(),i(14,"div",20)(15,"span"),n(16),t()()(),i(17,"div",19)(18,"div",20)(19,"mat-label",21),n(20,"Califiactivul ob\u021Binut \xEEn urma evalu\u0103rii profesionale:"),t()(),i(21,"div",20)(22,"span"),n(23),C(24,"number"),t()()(),i(25,"div",19)(26,"mat-label",21),n(27,"Observa\u021Bii HR:"),t(),i(28,"span"),n(29),t()()(),i(30,"div",18)(31,"div",19)(32,"div",20)(33,"mat-label",21),n(34,"Nume \u0219i Prenume Manager direct:"),t()(),i(35,"div",20)(36,"span"),n(37),t()()(),i(38,"div",19)(39,"div",20)(40,"mat-label",21),n(41,"Post ocupat:"),t()(),i(42,"div",20)(43,"span"),n(44),t()()(),i(45,"div",19)(46,"div",22)(47,"mat-label",21),n(48,"Perioada de desf\u0103\u0219urare a evalu\u0103rii profesionale:"),t()(),i(49,"div",22)(50,"span"),n(51),C(52,"date"),t(),n(53," - "),i(54,"span"),n(55),C(56,"date"),t()()()()(),_(57,"hr"),i(58,"p"),n(59,"Date Propunere PIP"),t(),i(60,"div",17)(61,"div",18)(62,"div",19)(63,"div",23)(64,"mat-label",21),n(65,"Data start PIP:"),t()(),i(66,"div",24)(67,"span"),n(68),C(69,"date"),t()()()(),i(70,"div",18)(71,"div",19)(72,"div",23)(73,"mat-label",21),n(74,"Data finalizare PIP:"),t()(),i(75,"div",24)(76,"span"),n(77),C(78,"date"),t()()()(),i(79,"div",25)(80,"div",19)(81,"div",23)(82,"mat-label",21),n(83,"Calificativ minim a\u0219teptat dup\u0103 finalizarea PIP:"),t()(),i(84,"div",24)(85,"span"),n(86),t()()(),i(87,"div",19)(88,"div",23)(89,"mat-label",21),n(90,"Obiectivele de dezvoltare ale salariatului pentru \xEEmbun\u0103t\u0103\u021Birea performan\u021Bei:"),t()(),i(91,"div",24)(92,"div",26)(93,"span"),n(94),t()()()(),i(95,"div",19)(96,"div",23)(97,"mat-label",21),n(98,"Ac\u021Biunile specifice pentru atingerea obiectivelor de dezvoltare:"),t()(),i(99,"div",24)(100,"div",26)(101,"span"),n(102),t()()()(),i(103,"div",19)(104,"div",23)(105,"mat-label",21),n(106,"Suportul oferit de Managerul direct:"),t()(),i(107,"div",24)(108,"div",26)(109,"span"),n(110),t()()()(),i(111,"div",19)(112,"div",23)(113,"mat-label",21),n(114,"Alte tipuri de suport oferit de Societate pentru dezvoltarea salariatului:"),t()(),i(115,"div",24)(116,"div",26)(117,"span"),n(118),t()()()()()()()),s&2){let e=d();p(9),u(e.pipDisplay.numePrenumeAngajat),p(7),u(e.pipDisplay.postAngajat),p(7),u(y(24,15,e.pipDisplay.calificativEvaluare,"1.2-2")),p(6),u(e.pipDisplay.observatiiHr),p(8),u(e.pipDisplay.numePrenumeSuperior),p(7),u(e.pipDisplay.postSuperior),p(7),u(y(52,18,e.pipDisplay.dataInceputEvaluare,"dd/MM/yyyy")),p(4),u(y(56,21,e.pipDisplay.dataSfarsitEvaluare,"dd/MM/yyyy")),p(13),u(y(69,24,e.pipDisplay.dataInceputPip,"dd/MM/yyyy")),p(9),u(y(78,27,e.pipDisplay.dataSfarsitPip,"dd/MM/yyyy")),p(9),u(e.pipDisplay.calificativMinimPip),p(8),u(e.pipDisplay.obiectiveDezvoltare),p(8),u(e.pipDisplay.actiuniSalariat),p(8),u(e.pipDisplay.suportManager),p(8),u(e.pipDisplay.altSuport)}}function pt(s,o){s&1&&n(0,"Ad\u0103ugare Observa\u021Bii")}function st(s,o){if(s&1){let e=h();i(0,"div",27)(1,"div",28)(2,"mat-label",21),n(3,"Observa\u021Bii legate de PIP:"),t(),i(4,"textarea",29),x("ngModelChange",function(a){m(e);let r=d();return S(r.pipDisplay.observatiiHr,a)||(r.pipDisplay.observatiiHr=a),c(a)}),t()()()}if(s&2){let e=d();p(4),b("ngModel",e.pipDisplay.observatiiHr),g("rows",3)}}function dt(s,o){s&1&&n(0,"Finalizare")}function mt(s,o){if(s&1&&(i(0,"div",17)(1,"h5"),n(2),t()()),s&2){let e=d();p(2),u(e.aprobarePipMessage)}}function ct(s,o){if(s&1){let e=h();he(0),i(1,"div",30)(2,"button",31),f("click",function(){m(e);let a=d();return c(a.close())}),_(3,"mat-icon",32),n(4," \xA0 \xCEnchide\u021Bi"),t()(),i(5,"div",30)(6,"button",33),f("click",function(){m(e),d();let a=B(11);return c(a.next())}),_(7,"mat-icon",34),n(8,"\xA0 Pasul urm\u0103tor"),t()(),be()}}function ut(s,o){if(s&1){let e=h();i(0,"div",35)(1,"button",37),f("click",function(){m(e);let a=d(2),r=B(11);return a.respingerePipProcess(),c(r.next())}),_(2,"mat-icon",38),n(3," \xA0 Respinge\u021Bi PIP"),t()()}}function gt(s,o){if(s&1){let e=h();i(0,"div",35)(1,"button",39),f("click",function(){m(e);let a=d(2),r=B(11);return a.aprobarePipProccess(),c(r.next())}),_(2,"mat-icon",40),n(3," \xA0 Aproba\u021Bi PIP"),t()()}}function _t(s,o){if(s&1){let e=h();he(0),i(1,"div",35)(2,"button",31),f("click",function(){m(e);let a=d();return c(a.close())}),_(3,"mat-icon",32),n(4," \xA0 Renun\u021Ba\u021Bi"),t()(),v(5,ut,4,0,"div",36)(6,gt,4,0,"div",36),be()}if(s&2){let e=d();p(5),g("ngIf",e.currentStep==1),p(),g("ngIf",e.currentStep==1)}}function ft(s,o){if(s&1){let e=h();he(0),i(1,"button",31),f("click",function(){m(e);let a=d();return c(a.close())}),_(2,"mat-icon",32),n(3," \xA0 \xCEnchide\u021Bi"),t(),be()}}var ye=class Ve{constructor(o,e,l,a,r){this.emailPipService=o,this.pipService=e,this.dialogRef=l,this.router=a,this.isPipInCursDeAprobare=!1,this.currentStep=0,this.isStartPipSuccesfull=!1,this.idAngajat=r.idAngajat,this.numePrenumeAngajat=r.numePrenumeAngajat,this.currentYear=new Date().getFullYear()}ngOnInit(){this.isPipInCursDeAprobare=!0,this.pipDetailsDisplaySub=this.pipService.getPipDisplay(this.idAngajat,this.currentYear).subscribe({next:o=>{this.pipDisplay=o},error:o=>{this.errorMessage=o.error}})}ngAfterViewInit(){this.stepper.selectionChange.subscribe(o=>{this.currentStep=o?.selectedIndex})}aprobarePipProccess(){this.aprobarePipMessage="",this.pipDisplay.idStare=2,this.pipDisplay.updateId=JSON.parse(localStorage.getItem("user")).matricola,this.pipService.updatePip(this.pipDisplay).subscribe({next:()=>{this.aprobarePipMessage="Planul de \xCEmbun\u0103t\u0103\u021Bire a Performan\u021Belor a fost aprobat cu succes!",this.isPipInCursDeAprobare=!1,this.emailPipService.sendEmailPipAprobatToAgajatAngManager(this.idAngajat)},error:o=>{this.aprobarePipMessage=o?.error}})}respingerePipProcess(){this.aprobarePipMessage="",this.pipDisplay.idStare=3,this.pipDisplay.updateId=JSON.parse(localStorage.getItem("user")).matricola,this.pipService.updatePip(this.pipDisplay).subscribe({next:()=>{this.aprobarePipMessage=`Planul de \xCEmbun\u0103t\u0103\u021Bire a Performan\u021Belor a fost respins! Au fost salvate urm\u0103toarele observa\u021Bii: ${this.pipDisplay.observatiiHr}`,this.isPipInCursDeAprobare=!1,this.emailPipService.sendEmailPipRespinsToAngajatAndManager(this.idAngajat)},error:o=>{this.aprobarePipMessage=o?.error}})}close(){this.isStartPipSuccesfull?this.closeAndGoToPipList():this.dialogRef.close()}closeAndGoToPipList(){this.router.navigate(["../../pip/lista-subalterni-with-pip"]),this.dialogRef.close()}static{this.\u0275fac=function(e){return new(e||Ve)(P(pe),P(I),P(te),P(Je),P(ie))}}static{this.\u0275cmp=E({type:Ve,selectors:[["aprobare-pip-modal"]],viewQuery:function(e,l){if(e&1&&Re(rt,5),e&2){let a;Ue(a=He())&&(l.stepper=a.first)}},standalone:!1,decls:27,vars:11,consts:[["stepper",""],["startPipProccessForm","ngForm"],["mat-dialog-title",""],[1,"form-group","row"],[1,"col-10","text-center"],[1,"col-2"],["mat-icon-button","",3,"click"],["fontIcon","close"],["mat-dialog-content",""],[3,"linear"],[3,"editable"],["matStepLabel",""],["mat-dialog-content","",4,"ngIf"],["class","row gx-3 mb-3",4,"ngIf"],["class","row",4,"ngIf"],["mat-dialog-actions",""],[4,"ngIf"],[1,"row"],[1,"col-6","pt-4"],[1,"form-group","row","p-2"],[1,"col-6"],[1,"header-mat-label"],[1,"col-12"],[1,"col-4"],[1,"col-8"],[1,"col-12","pt-4"],[1,"form-outline"],[1,"row","gx-3","mb-3"],[1,"col-md-12"],["type","text","name","observatiiHr","id","observatiiHr",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","rows"],[1,"col-md-6"],["mat-button","","mat-stroked-button","","color","primary","type","button",1,"form-control",3,"click"],["mat-stroked-icon","","fontIcon","cancel"],["mat-raised-button","","color","primary","type","button",1,"form-control",3,"click"],["mat-stroked-icon","","fontIcon","navigate_next"],[1,"col-md-4"],["class","col-md-4",4,"ngIf"],["mat-raised-button","","color","accent",1,"form-control",3,"click"],["mat-stroked-icon","","fontIcon","clear"],["mat-raised-button","","color","primary",1,"form-control",3,"click"],["mat-stroked-icon","","fontIcon","save"]],template:function(e,l){if(e&1){let a=h();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3"),n(4),t()(),i(5,"div",5)(6,"button",6),f("click",function(){return m(a),c(l.close())}),_(7,"mat-icon",7),t()()(),_(8,"hr"),t(),i(9,"div",8)(10,"mat-stepper",9,0)(12,"mat-step",10),v(13,lt,1,0,"ng-template",11)(14,ot,119,30,"div",12),t(),i(15,"mat-step",10),v(16,pt,1,0,"ng-template",11),i(17,"form",null,1),v(19,st,5,2,"div",13),t()(),i(20,"mat-step",10),v(21,dt,1,0,"ng-template",11)(22,mt,3,1,"div",14),t()()(),i(23,"div",15),v(24,ct,9,0,"ng-container",16)(25,_t,7,2,"ng-container",16)(26,ft,4,0,"ng-container",16),t()}e&2&&(p(4),O("Aprobare \xEEncepere Plan de \xEEmbun\u0103t\u0103\u021Bire a performan\u021Bei profesionale a salariatului ",l.numePrenumeAngajat,""),p(6),g("linear",!0),p(2),g("editable",l.isPipInCursDeAprobare),p(2),g("ngIf",l.pipDisplay),p(),g("editable",l.isPipInCursDeAprobare),p(4),g("ngIf",l.pipDisplay),p(),g("editable",!1),p(2),g("ngIf",l.aprobarePipMessage),p(2),g("ngIf",l.currentStep==0),p(),g("ngIf",l.currentStep==1),p(),g("ngIf",l.currentStep==2))},dependencies:[D,X,G,L,Q,V,K,F,A,J,T,ne,le,re,Qe,Ge,Ke,H,U],encapsulation:2})}};ye=M([w({checkProperties:!0})],ye);function Pt(s,o){if(s&1&&(i(0,"option",15),n(1),t()),s&2){let e=o.$implicit;g("value",e),p(),u(e)}}function vt(s,o){if(s&1){let e=h();i(0,"table-header",16),f("nextPage",function(a){m(e);let r=d();return c(r.nextPage(a))})("previousPage",function(a){m(e);let r=d();return c(r.previousPage(a))})("lastPage",function(a){m(e);let r=d();return c(r.lastPage(a))})("selectItemsPerPage",function(a){m(e);let r=d();return c(r.changeItemsPerPage(a))})("serachFilter",function(a){m(e);let r=d();return c(r.filter(a))})("serachIdDDFilter",function(a){m(e);let r=d();return c(r.filterFirma(a))}),t()}if(s&2){let e=d();g("currentPage",e.currentPage)("pages",e.pages)("itemsPerPage",e.itemsPerPage)("searchCriteria","Nume, Prenume, Matricola")("ddFilterList",e.ddFirme)("ddFilterVisible",!0)}}function ht(s,o){if(s&1){let e=h();i(0,"table-header",17),f("nextPage",function(a){m(e);let r=d();return c(r.nextPage(a))})("previousPage",function(a){m(e);let r=d();return c(r.previousPage(a))})("lastPage",function(a){m(e);let r=d();return c(r.lastPage(a))})("selectItemsPerPage",function(a){m(e);let r=d();return c(r.changeItemsPerPage(a))})("serachFilter",function(a){m(e);let r=d();return c(r.filter(a))}),t()}if(s&2){let e=d();g("currentPage",e.currentPage)("pages",e.pages)("itemsPerPage",e.itemsPerPage)("searchCriteria","Nume, Prenume, Matricola")}}function bt(s,o){if(s&1){let e=h();i(0,"button",21),f("click",function(){m(e);let a=d().$implicit,r=d();return c(r.openPipStartModal(a.idAngajat))}),_(1,"mat-icon",22),n(2," Aprobare PIP "),t()}if(s&2){let e=d().$implicit,l=d();g("disabled",e.hasPipAprobat||l.loggedInUserIdRol==2||l.loggedInUserIdRol==3)}}function St(s,o){if(s&1&&(i(0,"span"),n(1),t()),s&2){let e=d().$implicit;p(),u(e.starePip)}}function xt(s,o){if(s&1&&(i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td",18),v(10,bt,3,1,"button",19)(11,St,2,1,"span",20),t()()),s&2){let e=o.$implicit,l=d();p(2),u(e.numePrenume),p(2),u(e.matricola),p(2),u(e.postAngajat),p(2),u(e.cor),p(2),g("ngIf",!l.showListaAngajatiCuMedieDePip),p(),g("ngIf",l.showListaAngajatiCuMedieDePip)}}var Ie=class Be{constructor(o,e,l,a){this.pipService=o,this.toastr=e,this.firmeService=l,this.dialog=a,this.pages=0,this.currentPage=1,this.itemsPerPage=10,this.filtru="",this.filtruIdFirma=null,this.years=Array.from({length:50},(r,we)=>2024+we),this.showListaAngajatiCuMedieDePip=!1,this.getDDFirme(),this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.currentPage=1,this.yearFilter=new Date().getFullYear(),this.loggedInUserIdRol=JSON.parse(localStorage.getItem("user")).idRol}ngOnInit(){this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}nextPage(o){this.getListaSubalterni(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getListaSubalterni(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getListaSubalterni(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}openPipStartModal(o){let e=new k;e.disableClose=!0,e.autoFocus=!0,e.width="80%",e.height="95%",e.data={idAngajat:o,numePrenumeAngajat:this.listaSubalterni.find(l=>l.idAngajat==o)?.numePrenume},this.dialog.open(ye,e)}actualizareSubalterniThatNeedPip(){this.pipService.actualizareListaSublaterniThatNeedPip(this.yearFilter).subscribe({next:o=>{this.toastr.success(o?.message),setTimeout(()=>{this.getListaSubalterni(this.currentPage,this.itemsPerPage,null,this.filtruIdFirma),window.location.reload()},1e3)},error:o=>{this.toastr.error("Lista subalternilor nu a putut fi actualizat\u0103!","Eroare!")}})}onChangeYearFilter(){this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}onTipListaChange(){this.showListaAngajatiCuMedieDePip=!this.showListaAngajatiCuMedieDePip,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getListaSubalterni(o,e,l,a){this.showListaAngajatiCuMedieDePip?this.listSubalterniSub=this.pipService.getListaSubalterniCalificatiForPIP(o,e,this.yearFilter,l,a).subscribe({next:r=>{this.listaSubalterni=r.angajatiPip,this.pages=r.pages,this.currentPage=r.currentPage},error:r=>{this.toastr.error(`Lista subalternilor nu a putut fi preluat\u0103!, ${r.message}`,"Eroare!")}}):this.listSubalterniSub=this.pipService.getListaSubalterniPentruAprobare(o,e,this.yearFilter,l,a).subscribe({next:r=>{this.listaSubalterni=r.angajatiPip,this.pages=r.pages,this.currentPage=r.currentPage},error:r=>{this.toastr.error(`Lista subalternilor nu a putut fi preluat\u0103!, ${r.message}`,"Eroare!")}})}static{this.\u0275fac=function(e){return new(e||Be)(P(I),P(j),P(Y),P(ae))}}static{this.\u0275cmp=E({type:Be,selectors:[["lista-subalterni-calificati-pip"]],standalone:!1,decls:34,vars:7,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-4","border-rounded"],[1,"form-group","row","p-2"],[1,"col-auto"],["name","yearFilter",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-stroked-button","","color","primary",3,"click"],["color","basic","fontIcon","refresh"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","searchCriteria","ddFilterList","ddFilterVisible","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","searchCriteria","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],[3,"value"],["ddFilterCriteria","Firma",3,"nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","searchCriteria","ddFilterList","ddFilterVisible"],[3,"nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","searchCriteria"],[1,"text-center"],["type","button","mat-stroked-button","","color","primary",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["type","button","mat-stroked-button","","color","primary",3,"click","disabled"],["color","basic","fontIcon","info"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3"),n(3),t()()(),i(4,"div",2),_(5,"router-outlet"),i(6,"div",3)(7,"div",4)(8,"mat-label"),n(9,"Anul:"),t()(),i(10,"div",4)(11,"select",5),x("ngModelChange",function(r){return S(l.yearFilter,r)||(l.yearFilter=r),r}),f("ngModelChange",function(){return l.onChangeYearFilter()}),v(12,Pt,2,2,"option",6),t()(),i(13,"div",4)(14,"button",7),f("click",function(){return l.onTipListaChange()}),_(15,"mat-icon",8),n(16),t()()(),v(17,vt,1,6,"table-header",9)(18,ht,1,4,"table-header",10),i(19,"table",11)(20,"thead",12)(21,"tr",13)(22,"th"),n(23,"Nume \u0219i prenume"),t(),i(24,"th"),n(25,"Matricol\u0103 angajat"),t(),i(26,"th"),n(27,"Post angajat"),t(),i(28,"th"),n(29,"COR angajat"),t(),i(30,"th"),n(31,"Proces"),t()()(),i(32,"tbody"),v(33,xt,12,6,"tr",14),t()()()),e&2&&(p(3),u(l.showListaAngajatiCuMedieDePip?"List\u0103 Angaja\u021Bi califica\u021Bi pentru PIP":"List\u0103 Angaja\u021Bi aprobare PIP"),p(8),b("ngModel",l.yearFilter),p(),g("ngForOf",l.years),p(4),O(" ",l.showListaAngajatiCuMedieDePip?"Vizualizare List\u0103 Angaja\u021Bi aprobare PIP":"Vizualizare List\u0103 Angaja\u021Bi califica\u021Bi pentru PIP"," "),p(),g("ngIf",!l.idFirmaLoggedInUser),p(),g("ngIf",l.idFirmaLoggedInUser),p(15),g("ngForOf",l.listaSubalterni))},dependencies:[oe,R,D,$,ee,Z,L,V,F,A,T,q],encapsulation:2})}};Ie=M([w({checkProperties:!0})],Ie);function Ct(s,o){s&1&&(i(0,"h5"),n(1,"Completare Observa\u021Bii \u0219i Propunere PIP"),t())}function yt(s,o){if(s&1){let e=h();i(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",28)(4,"label"),n(5,"Data start PIP:"),t()(),i(6,"div",29)(7,"input",30,1),C(9,"date"),f("ngModelChange",function(a){m(e);let r=d(2);return c(r.pipDisplay.dataInceputPip=a)}),t()()()(),i(10,"div",21)(11,"div",22)(12,"div",28)(13,"label"),n(14,"Data finalizare PIP:"),t()(),i(15,"div",29)(16,"input",31,2),C(18,"date"),f("ngModelChange",function(a){m(e);let r=d(2);return c(r.pipDisplay.dataSfarsitPip=a)}),t()()()(),i(19,"div",32)(20,"div",22)(21,"div",28)(22,"label"),n(23,"Calificativ minim a\u0219teptat dup\u0103 finalizarea PIP:"),t()(),i(24,"div",29)(25,"input",33,3),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.calificativMinimPip,a)||(r.pipDisplay.calificativMinimPip=a),c(a)}),t()()(),i(27,"div",22)(28,"div",28)(29,"label",34),n(30,"Obiectivele de dezvoltare:"),t()(),i(31,"div",29)(32,"div",35)(33,"textarea",36),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.obiectiveDezvoltare,a)||(r.pipDisplay.obiectiveDezvoltare=a),c(a)}),t()()()(),i(34,"div",22)(35,"div",28)(36,"label",37),n(37,"Ac\u021Biunile specifice pentru atingerea obiectivelor de dezvoltare:"),t()(),i(38,"div",29)(39,"div",35)(40,"textarea",38),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.actiuniSalariat,a)||(r.pipDisplay.actiuniSalariat=a),c(a)}),t()()()(),i(41,"div",22)(42,"div",28)(43,"label",39),n(44,"Suportul oferit de Managerul direct:"),t()(),i(45,"div",29)(46,"div",35)(47,"textarea",40),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.suportManager,a)||(r.pipDisplay.suportManager=a),c(a)}),t()()()(),i(48,"div",22)(49,"div",28)(50,"label",41),n(51,"Alte tipuri de suport:"),t()(),i(52,"div",29)(53,"div",35)(54,"textarea",42),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.altSuport,a)||(r.pipDisplay.altSuport=a),c(a)}),t()()()()()()}if(s&2){let e=d(2);p(7),g("ngModel",y(9,7,e.pipDisplay.dataInceputPip,"yyyy-MM-dd")),p(9),g("ngModel",y(18,10,e.pipDisplay.dataSfarsitPip,"yyyy-MM-dd")),p(9),b("ngModel",e.pipDisplay.calificativMinimPip),p(8),b("ngModel",e.pipDisplay.obiectiveDezvoltare),p(7),b("ngModel",e.pipDisplay.actiuniSalariat),p(7),b("ngModel",e.pipDisplay.suportManager),p(7),b("ngModel",e.pipDisplay.altSuport)}}function It(s,o){if(s&1&&(i(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",28)(4,"mat-label",24),n(5,"Data start PIP:"),t()(),i(6,"div",29)(7,"span"),n(8),C(9,"date"),t()()()(),i(10,"div",21)(11,"div",22)(12,"div",28)(13,"mat-label",24),n(14,"Data finalizare PIP:"),t()(),i(15,"div",29)(16,"span"),n(17),C(18,"date"),t()()()(),i(19,"div",32)(20,"div",22)(21,"div",28)(22,"mat-label",24),n(23,"Calificativ minim a\u0219teptat dup\u0103 finalizarea PIP:"),t()(),i(24,"div",29)(25,"span"),n(26),t()()(),i(27,"div",22)(28,"div",28)(29,"mat-label",24),n(30,"Obiectivele de dezvoltare ale salariatului pentru \xEEmbun\u0103t\u0103\u021Birea performan\u021Bei:"),t()(),i(31,"div",29)(32,"div",35)(33,"span"),n(34),t()()()(),i(35,"div",22)(36,"div",28)(37,"mat-label",24),n(38,"Ac\u021Biunile specifice pentru atingerea obiectivelor de dezvoltare:"),t()(),i(39,"div",29)(40,"div",35)(41,"span"),n(42),t()()()(),i(43,"div",22)(44,"div",28)(45,"mat-label",24),n(46,"Suportul oferit de Managerul direct:"),t()(),i(47,"div",29)(48,"div",35)(49,"span"),n(50),t()()()(),i(51,"div",22)(52,"div",28)(53,"mat-label",24),n(54,"Alte tipuri de suport oferit de Societate pentru dezvoltarea salariatului:"),t()(),i(55,"div",29)(56,"div",35)(57,"span"),n(58),t()()()()()()),s&2){let e=d(2);p(8),u(y(9,7,e.pipDisplay.dataInceputPip,"dd/MM/yyyy")),p(9),u(y(18,10,e.pipDisplay.dataSfarsitPip,"dd/MM/yyyy")),p(9),u(e.pipDisplay.calificativMinimPip),p(8),u(e.pipDisplay.obiectiveDezvoltare),p(8),u(e.pipDisplay.actiuniSalariat),p(8),u(e.pipDisplay.suportManager),p(8),u(e.pipDisplay.altSuport)}}function Mt(s,o){s&1&&(i(0,"h5"),n(1,"Evaluare finalizare PIP:"),t())}function Et(s,o){s&1&&(i(0,"span",52),n(1,"C\xE2mpul este obligatoriu!"),t())}function Dt(s,o){s&1&&(i(0,"span",52),n(1,"C\xE2mpul este obligatoriu!"),t())}function wt(s,o){if(s&1){let e=h();i(0,"div",20)(1,"p",43),_(2,"mat-icon",44),n(3,"Aten\u021Bie! Aceast\u0103 sec\u021Biune se completeaz\u0103 la sf\xE2r\u0219itul procesului PIP."),t(),i(4,"div",32)(5,"div",22)(6,"div",28)(7,"label",45),n(8,"Calificativ ob\u021Binut la finalizarea PIP:"),t()(),i(9,"div",29)(10,"input",46,4),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.calificativFinalPip,a)||(r.pipDisplay.calificativFinalPip=a),c(a)}),t(),v(12,Et,2,0,"span",47),t()()(),i(13,"div",32)(14,"div",22)(15,"div",28)(16,"label",48),n(17,"Observa\u021Bii Manager direct pe perioada PIP:"),t()(),i(18,"div",29)(19,"div",35)(20,"textarea",49),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.observatiFinalPip,a)||(r.pipDisplay.observatiFinalPip=a),c(a)}),t()()()()(),i(21,"div",32)(22,"div",22)(23,"div",28)(24,"label",50),n(25,"Decizie final\u0103 Manager direct:"),t()(),i(26,"div",29)(27,"div",35)(28,"input",51,5),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.deczieFinalaManager,a)||(r.pipDisplay.deczieFinalaManager=a),c(a)}),t(),v(30,Dt,2,0,"span",47),t()()()()()}if(s&2){let e=B(11),l=B(29),a=d(2);p(10),N("invalid",(e.touched||e.dirty)&&e.invalid),b("ngModel",a.pipDisplay.calificativFinalPip),p(2),g("ngIf",!e.valid&&(e.touched||e.dirty)),p(8),b("ngModel",a.pipDisplay.observatiFinalPip),p(8),N("invalid",(l.touched||l.dirty)&&l.invalid),b("ngModel",a.pipDisplay.deczieFinalaManager),p(2),g("ngIf",!l.valid&&(l.touched||l.dirty))}}function Ft(s,o){if(s&1){let e=h();i(0,"form",19,0),f("ngSubmit",function(){m(e);let a=d();return c(a.onSubmit())}),i(2,"div",20)(3,"div",21)(4,"div",22)(5,"div",23)(6,"mat-label",24),n(7,"Nume \u0219i Prenume Salariat:"),t()(),i(8,"div",23)(9,"span"),n(10),t()()(),i(11,"div",22)(12,"div",23)(13,"mat-label",24),n(14,"Post ocupat:"),t()(),i(15,"div",23)(16,"span"),n(17),t()()(),i(18,"div",22)(19,"div",23)(20,"mat-label",24),n(21,"Califiactivul ob\u021Binut \xEEn urma evalu\u0103rii profesionale:"),t()(),i(22,"div",23)(23,"span"),n(24),C(25,"number"),t()()(),i(26,"div",22)(27,"mat-label",24),n(28,"Observa\u021Bii HR:"),t(),i(29,"span"),n(30),t()()(),i(31,"div",21)(32,"div",22)(33,"div",23)(34,"mat-label",24),n(35,"Nume \u0219i Prenume Manager direct:"),t()(),i(36,"div",23)(37,"span"),n(38),t()()(),i(39,"div",22)(40,"div",23)(41,"mat-label",24),n(42,"Post ocupat:"),t()(),i(43,"div",23)(44,"span"),n(45),t()()(),i(46,"div",22)(47,"div",25)(48,"mat-label",24),n(49,"Perioada de desf\u0103\u0219urare a evalu\u0103rii profesionale:"),t()(),i(50,"div",25)(51,"span"),n(52),C(53,"date"),t(),n(54," - "),i(55,"span"),n(56),C(57,"date"),t()()()()(),_(58,"hr"),v(59,Ct,2,0,"h5",26)(60,yt,55,13,"div",27)(61,It,59,13,"div",27),_(62,"hr")(63,"br"),v(64,Mt,2,0,"h5",26)(65,wt,31,9,"div",27),t()}if(s&2){let e=d();p(10),u(e.pipDisplay.numePrenumeAngajat),p(7),u(e.pipDisplay.postAngajat),p(7),u(y(25,13,e.pipDisplay.calificativEvaluare,"1.2-2")),p(6),u(e.pipDisplay.observatiiHr),p(8),u(e.pipDisplay.numePrenumeSuperior),p(7),u(e.pipDisplay.postSuperior),p(7),u(y(53,16,e.pipDisplay.dataInceputEvaluare,"dd/MM/yyyy")),p(4),u(y(57,19,e.pipDisplay.dataSfarsitEvaluare,"dd/MM/yyyy")),p(3),g("ngIf",e.pipDisplay.idStare===1||e.pipDisplay.idStare===3),p(),g("ngIf",e.pipDisplay.idStare==1||e.pipDisplay.idStare===3),p(),g("ngIf",e.pipDisplay.idStare==2),p(3),g("ngIf",e.pipDisplay.idStare==2),p(),g("ngIf",e.pipDisplay.idStare==2)}}var Ee=class je{constructor(o,e,l,a,r){this.emailPipService=o,this.pipService=e,this.dialogRef=l,this.toastr=a,this.idAngajat=r.idAngajat,this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma}ngOnInit(){this.pipDetailsDisplaySub=this.pipService.getPipDisplay(this.idAngajat,null).subscribe(o=>{this.pipDisplay=o})}onSubmit(){this.pipDisplay.idStare==2&&(this.pipDisplay.calificativFinalPip>=this.pipDisplay.calificativMinimPip?this.pipDisplay.idStare=4:this.pipDisplay.idStare=5),this.pipDisplay.idStare==3,this.pipDisplay.updateId=JSON.parse(localStorage.getItem("user")).matricola,this.pipSaveSub=this.pipService.updatePip(this.pipDisplay).subscribe({next:()=>{this.toastr.success("Datele au fost salvate!"),this.pipDisplay.idStare===4||this.pipDisplay.idStare===5?this.emailPipService.sendEmaiPipIncheiat(this.idAngajat,this.idFirmaLoggedInUser):this.emailPipService.sendEmaiPipStatusUpdate(this.idAngajat,this.idFirmaLoggedInUser),setTimeout(()=>{window.location.reload(),this.close()},1e3)},error:o=>{this.toastr.error(o?.error)}})}close(){this.dialogRef.close()}static{this.\u0275fac=function(e){return new(e||je)(P(pe),P(I),P(te),P(j),P(ie))}}static{this.\u0275cmp=E({type:je,selectors:[["pip-edit"]],standalone:!1,decls:20,vars:1,consts:[["pipForm","ngForm"],["dataInceputPip","ngModel"],["dataSfarsitPip","ngModel"],["calificativMinimPip","ngModel"],["calificativFinalPip","ngModel"],["deczieFinalaManager","ngModel"],["mat-dialog-title",""],[1,"form-group","row"],[1,"col-10","text-center"],[1,"col-2"],["mat-icon-button","",3,"click"],["fontIcon","close"],["mat-dialog-content",""],[3,"ngSubmit",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",1,"form-control",3,"click"],["mat-stroked-icon","","fontIcon","save"],["mat-button","","mat-stroked-button","","color","primary",1,"form-control",3,"click"],["mat-stroked-icon","","fontIcon","cancel"],[3,"ngSubmit"],[1,"row"],[1,"col-6","pt-4"],[1,"form-group","row","p-2"],[1,"col-6"],[1,"header-mat-label"],[1,"col-12"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"col-4"],[1,"col-8"],["data-provide","datepicker","type","date","name","dataInceputPip","id","pip-dataInceputPip","name","dataInceputPip",1,"form-control","date",3,"ngModelChange","ngModel"],["data-provide","datepicker","type","date","name","dataSfarsitPip","id","pip-dataSfarsitPip","name","dataSfarsitPip",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"col-12","pt-4"],["type","number","id","pip-calificativMinimPip","name","calificativMinimPip",1,"form-control",3,"ngModelChange","ngModel"],["for","post-obiectiveDezvoltare"],[1,"form-outline"],["id","pip-obiectiveDezvoltare","rows","5","name","obiectiveDezvoltare","placeholder","Obiectivele de dezvoltare ale salariatului pentru \xEEmbun\u0103t\u0103\u021Birea performan\u021Bei",1,"form-control",3,"ngModelChange","ngModel"],["for","post-actiuniSalariat"],["id","pip-actiuniSalariat","rows","5","name","actiuniSalariat","placeholder","Ac\u021Biunile specifice de \xEEntreprins de c\u0103tre salariat pentru atingerea obiectivelor de dezvoltare",1,"form-control",3,"ngModelChange","ngModel"],["for","post-suportManager"],["id","pip-suportManager","rows","5","name","suportManager","placeholder","Suportul oferit de Managerul direct",1,"form-control",3,"ngModelChange","ngModel"],["for","post-altSuport"],["id","pip-altSuport","rows","5","name","altSuport","placeholder","Alte tipuri de suport oferit de Societate pentru dezvoltarea salariatului",1,"form-control",3,"ngModelChange","ngModel"],[1,"warning"],["fontIcon","info"],[1,"required-label"],["type","number","id","pip-calificativFinalPip","name","calificativFinalPip","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","observatiFinalPip"],["id","pip-observatiFinalPip","rows","5","name","observatiFinalPip","placeholder","Observa\u021Bii Manager direct cu privire la activitatea \u0219i evolu\u021Bia salariatului pe perioada PIP",1,"form-control",3,"ngModelChange","ngModel"],["for","post-deczieFinalaManager",1,"required-label"],["type","text","id","pip-deczieFinalaManager","name","deczieFinalaManager","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"help-block","help-block-danger"]],template:function(e,l){e&1&&(i(0,"div",6)(1,"div",7)(2,"div",8)(3,"h3"),n(4,"Plan de \xEEmbun\u0103t\u0103\u021Bire a performan\u021Bei profesionale a salaria\u021Bilor (PIP)"),t()(),i(5,"div",9)(6,"button",10),f("click",function(){return l.close()}),_(7,"mat-icon",11),t()()(),_(8,"hr"),t(),i(9,"div",12),v(10,Ft,66,22,"form",13),t(),i(11,"div",14)(12,"button",15),f("click",function(){return l.onSubmit()}),_(13,"mat-icon",16),n(14," \xA0 Salva\u021Bi"),t(),_(15,"br")(16,"br"),i(17,"button",17),f("click",function(){return l.close()}),_(18,"mat-icon",18),n(19," \xA0 \xCEnchide\u021Bi"),t()()),e&2&&(p(10),g("ngIf",l.pipDisplay))},dependencies:[D,X,G,Se,L,Q,xe,V,K,F,A,J,T,ne,le,re,H,U],encapsulation:2})}};Ee=M([w({checkProperties:!0})],Ee);function At(s,o){if(s&1&&(i(0,"option",13),n(1),t()),s&2){let e=o.$implicit;g("value",e),p(),u(e)}}function Lt(s,o){if(s&1){let e=h();i(0,"table-header",14),f("nextPage",function(a){m(e);let r=d();return c(r.nextPage(a))})("previousPage",function(a){m(e);let r=d();return c(r.previousPage(a))})("lastPage",function(a){m(e);let r=d();return c(r.lastPage(a))})("selectItemsPerPage",function(a){m(e);let r=d();return c(r.changeItemsPerPage(a))})("serachFilter",function(a){m(e);let r=d();return c(r.filter(a))})("serachIdDDFilter",function(a){m(e);let r=d();return c(r.filterFirma(a))}),t()}if(s&2){let e=d();g("currentPage",e.currentPage)("pages",e.pages)("itemsPerPage",e.itemsPerPage)("searchCriteria","Nume, Prenume, Matricola")("ddFilterList",e.ddFirme)("ddFilterVisible",!0)}}function Vt(s,o){if(s&1){let e=h();i(0,"table-header",15),f("nextPage",function(a){m(e);let r=d();return c(r.nextPage(a))})("previousPage",function(a){m(e);let r=d();return c(r.previousPage(a))})("lastPage",function(a){m(e);let r=d();return c(r.lastPage(a))})("selectItemsPerPage",function(a){m(e);let r=d();return c(r.changeItemsPerPage(a))})("serachFilter",function(a){m(e);let r=d();return c(r.filter(a))}),t()}if(s&2){let e=d();g("currentPage",e.currentPage)("pages",e.pages)("itemsPerPage",e.itemsPerPage)("searchCriteria","Nume, Prenume, Matricola")}}function Tt(s,o){if(s&1){let e=h();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td"),n(10),t(),i(11,"td",16)(12,"button",17),f("click",function(){let a=m(e).$implicit,r=d();return c(r.openPipDetailsModal(a.idAngajat))}),_(13,"mat-icon",18),n(14," Detalii "),t()(),i(15,"td",16)(16,"button",19),f("click",function(){let a=m(e).$implicit,r=d();return c(r.openPipEditModal(a.idAngajat))}),_(17,"mat-icon",20),n(18),t()(),i(19,"td",16)(20,"button",21),f("click",function(){let a=m(e).$implicit,r=d();return c(r.generatePDFPIP(a.idAngajat))}),_(21,"mat-icon",22),n(22," \xA0 Desc\u0103rca\u021Bi PDF "),t()()()}if(s&2){let e=o.$implicit;p(2),u(e.numePrenume),p(2),u(e.matricola),p(2),u(e.postAngajat),p(2),u(e.cor),p(2),u(e.denumireStarePIP),p(6),g("disabled",e.idStarePIP<2&&e.idStarePIP>3),p(2),O(" ",e.idStarePIP==3?"Refacere PIP":e.idStarePIP==2?"Eval. PIP":"Proces \xCEncheiat"," ")}}var fe=class We{constructor(o,e,l,a,r){this.pipService=o,this.toastr=e,this.pdfService=l,this.firmeService=a,this.dialog=r,this.pages=0,this.currentPage=1,this.itemsPerPage=10,this.filtru="",this.filtruIdFirma=null,this.years=Array.from({length:50},(we,Fe)=>2022+Fe),this.getDDFirme(),this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.currentPage=1,this.yearFilter=new Date().getFullYear(),this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}nextPage(o){this.getListaSubalterni(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getListaSubalterni(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getListaSubalterni(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}openPipDetailsModal(o){let e=new k;e.disableClose=!0,e.autoFocus=!0,e.width="60%",e.height="80%",e.data={idAngajat:o},this.dialog.open(Ce,e)}openPipEditModal(o){let e=new k;e.disableClose=!0,e.autoFocus=!0,e.width="60%",e.height="80%",e.data={idAngajat:o},this.dialog.open(Ee,e)}onChangeYearFilter(){this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getListaSubalterni(o,e,l,a){this.listSubalterniSub?.unsubscribe(),this.listSubalterniSub=this.pipService.getListaSubalterniWithPip(o,e,this.yearFilter,l,a).subscribe({next:r=>{this.listaSubalterni=r.angajatiPip,this.pages=r.pages,this.currentPage=r.currentPage},error:r=>{this.toastr.error(`Lista subalternilor nu a putut fi preluat\u0103!, ${r.message}`,"Eroare!")}})}generatePDFPIP(o){this.pdfServiceSub=this.pdfService.getPipPdf(o,this.yearFilter).subscribe(e=>{let l=this.pdfService.base64ToBlob(e.fileContents,e.contentType),a=URL.createObjectURL(l);window.open(a,"_blank")})}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}static{this.\u0275fac=function(e){return new(e||We)(P(I),P(j),P(se),P(Y),P(ae))}}static{this.\u0275cmp=E({type:We,selectors:[["lista-subalterni-with-pip"]],standalone:!1,decls:36,vars:5,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-4","border-rounded"],[1,"form-group","row","p-2"],[1,"col-auto"],["name","yearFilter",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","searchCriteria","ddFilterList","ddFilterVisible","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","searchCriteria","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],[3,"value"],["ddFilterCriteria","Firma",3,"nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","searchCriteria","ddFilterList","ddFilterVisible"],[3,"nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","searchCriteria"],[1,"text-center"],["type","button","mat-stroked-button","","color","primary",3,"click"],["color","basic","fontIcon","info"],["type","button","mat-raised-button","","color","primary",3,"click","disabled"],["color","basic","fontIcon","edit"],["type","button","mat-raised-button","","color","accent",1,"form-control",3,"click"],["color","basic","fontIcon","print"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3"),n(3,"List\u0103 Subalterni cu PIP \xEEn curs"),t()()(),i(4,"div",2),_(5,"router-outlet"),i(6,"div",3)(7,"div",4)(8,"mat-label"),n(9,"Anul:"),t()(),i(10,"div",4)(11,"select",5),x("ngModelChange",function(r){return S(l.yearFilter,r)||(l.yearFilter=r),r}),f("ngModelChange",function(){return l.onChangeYearFilter()}),v(12,At,2,2,"option",6),t()()(),v(13,Lt,1,6,"table-header",7)(14,Vt,1,4,"table-header",8),i(15,"table",9)(16,"thead",10)(17,"tr",11)(18,"th"),n(19,"Nume \u0219i prenume"),t(),i(20,"th"),n(21,"Matricol\u0103 angajat"),t(),i(22,"th"),n(23,"Post angajat"),t(),i(24,"th"),n(25,"COR angajat"),t(),i(26,"th"),n(27,"Stare"),t(),i(28,"th"),n(29,"Detalii"),t(),i(30,"th"),n(31,"Modifica\u021Bi"),t(),i(32,"th"),n(33,"Tip\u0103ri\u021Bi"),t()()(),i(34,"tbody"),v(35,Tt,23,7,"tr",12),t()()()),e&2&&(p(11),b("ngModel",l.yearFilter),p(),g("ngForOf",l.years),p(),g("ngIf",!l.idFirmaLoggedInUser),p(),g("ngIf",l.idFirmaLoggedInUser),p(21),g("ngForOf",l.listaSubalterni))},dependencies:[oe,R,D,$,ee,Z,L,V,F,A,T,q],encapsulation:2})}};fe=M([w({checkProperties:!0})],fe);function jt(s,o){if(s&1&&(i(0,"option",13),n(1),t()),s&2){let e=o.$implicit;g("value",e),p(),u(e)}}function Wt(s,o){if(s&1){let e=h();i(0,"table-header",14),f("nextPage",function(a){m(e);let r=d();return c(r.nextPage(a))})("previousPage",function(a){m(e);let r=d();return c(r.previousPage(a))})("lastPage",function(a){m(e);let r=d();return c(r.lastPage(a))})("selectItemsPerPage",function(a){m(e);let r=d();return c(r.changeItemsPerPage(a))})("serachFilter",function(a){m(e);let r=d();return c(r.filter(a))})("serachIdDDFilter",function(a){m(e);let r=d();return c(r.filterFirma(a))}),t()}if(s&2){let e=d();g("currentPage",e.currentPage)("pages",e.pages)("itemsPerPage",e.itemsPerPage)("searchCriteria","Nume, Prenume, Matricola")("ddFilterList",e.ddFirme)("ddFilterVisible",!0)}}function kt(s,o){if(s&1){let e=h();i(0,"table-header",15),f("nextPage",function(a){m(e);let r=d();return c(r.nextPage(a))})("previousPage",function(a){m(e);let r=d();return c(r.previousPage(a))})("lastPage",function(a){m(e);let r=d();return c(r.lastPage(a))})("selectItemsPerPage",function(a){m(e);let r=d();return c(r.changeItemsPerPage(a))})("serachFilter",function(a){m(e);let r=d();return c(r.filter(a))}),t()}if(s&2){let e=d();g("currentPage",e.currentPage)("pages",e.pages)("itemsPerPage",e.itemsPerPage)("searchCriteria","Nume, Prenume, Matricola")}}function zt(s,o){if(s&1){let e=h();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td"),n(10),t(),i(11,"td",16)(12,"button",17),f("click",function(){let a=m(e).$implicit,r=d();return c(r.openPipDetailsModal(a.idAngajat))}),_(13,"mat-icon",18),n(14," Detalii "),t()(),i(15,"td",16)(16,"button",19),f("click",function(){let a=m(e).$implicit,r=d();return c(r.generatePDFPIP(a.idAngajat))}),_(17,"mat-icon",20),n(18," \xA0 Desc\u0103rca\u021Bi PDF "),t()()()}if(s&2){let e=o.$implicit;p(2),u(e.numePrenume),p(2),u(e.matricola),p(2),u(e.postAngajat),p(2),u(e.cor),p(2),u(e.denumireStarePIP)}}var De=class ke{constructor(o,e,l,a,r){this.pipService=o,this.pdfService=e,this.toastr=l,this.firmeService=a,this.dialog=r,this.pages=0,this.currentPage=1,this.itemsPerPage=10,this.filtru="",this.filtruIdFirma=null,this.years=Array.from({length:50},(we,Fe)=>2024+Fe),this.getDDFirme(),this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma,this.currentPage=1,this.yearFilter=new Date().getFullYear(),this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}nextPage(o){this.getListaSubalterni(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}previousPage(o){this.getListaSubalterni(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}lastPage(o){this.getListaSubalterni(o,this.itemsPerPage,this.filtru,this.filtruIdFirma)}changeItemsPerPage(o){this.currentPage=1,this.itemsPerPage=o,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filter(o){this.filtru=o,this.currentPage=1,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}filterFirma(o){this.filtruIdFirma=o,this.currentPage=1,this.pages=0,this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}openPipDetailsModal(o){let e=new k;e.disableClose=!0,e.autoFocus=!0,e.width="60%",e.height="80%",e.data={idAngajat:o},this.dialog.open(Ce,e)}onChangeYearFilter(){this.getListaSubalterni(this.currentPage,this.itemsPerPage,this.filtru,this.filtruIdFirma)}getListaSubalterni(o,e,l,a){this.listSubalterniSub?.unsubscribe(),this.listSubalterniSub=this.pipService.getListaSubalterniWithPipIstoric(o,e,this.yearFilter,l,a).subscribe({next:r=>{this.listaSubalterni=r.angajatiPip,this.pages=r.pages,this.currentPage=r.currentPage},error:r=>{this.toastr.error(`Lista subalternilor nu a putut fi preluat\u0103!, ${r.message}`,"Eroare!")}})}getDDFirme(){this.firmeSub=this.firmeService.firmeSelections$.subscribe(o=>{this.ddFirme=o})}generatePDFPIP(o){this.pdfServiceSub=this.pdfService.getPipPdf(o,this.yearFilter).subscribe(e=>{let l=this.pdfService.base64ToBlob(e.fileContents,e.contentType),a=URL.createObjectURL(l);window.open(a,"_blank")})}static{this.\u0275fac=function(e){return new(e||ke)(P(I),P(se),P(j),P(Y),P(ae))}}static{this.\u0275cmp=E({type:ke,selectors:[["istoric-lista-subalterni-with-pip"]],standalone:!1,decls:34,vars:5,consts:[[1,"row"],[1,"col-12","text-center","p-4"],[1,"row","p-4","border-rounded"],[1,"form-group","row","p-2"],[1,"col-auto"],["name","yearFilter",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["ddFilterCriteria","Firma",3,"currentPage","pages","itemsPerPage","searchCriteria","ddFilterList","ddFilterVisible","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter",4,"ngIf"],[3,"currentPage","pages","itemsPerPage","searchCriteria","nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter",4,"ngIf"],[1,"table","p-3","table-striped","table-bordered"],[1,"table-header"],[1,"table-info"],[4,"ngFor","ngForOf"],[3,"value"],["ddFilterCriteria","Firma",3,"nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","serachIdDDFilter","currentPage","pages","itemsPerPage","searchCriteria","ddFilterList","ddFilterVisible"],[3,"nextPage","previousPage","lastPage","selectItemsPerPage","serachFilter","currentPage","pages","itemsPerPage","searchCriteria"],[1,"text-center"],["type","button","mat-stroked-button","","color","primary",3,"click"],["color","basic","fontIcon","info"],["type","button","mat-raised-button","","color","accent",1,"form-control",3,"click"],["color","basic","fontIcon","print"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3"),n(3,"List\u0103 subalterni participan\u021Bi \xEEn PIP"),t()()(),i(4,"div",2),_(5,"router-outlet"),i(6,"div",3)(7,"div",4)(8,"mat-label"),n(9,"Anul:"),t()(),i(10,"div",4)(11,"select",5),x("ngModelChange",function(r){return S(l.yearFilter,r)||(l.yearFilter=r),r}),f("ngModelChange",function(){return l.onChangeYearFilter()}),v(12,jt,2,2,"option",6),t()()(),v(13,Wt,1,6,"table-header",7)(14,kt,1,4,"table-header",8),i(15,"table",9)(16,"thead",10)(17,"tr",11)(18,"th"),n(19,"Nume \u0219i prenume"),t(),i(20,"th"),n(21,"Matricol\u0103 angajat"),t(),i(22,"th"),n(23,"Post angajat"),t(),i(24,"th"),n(25,"COR angajat"),t(),i(26,"th"),n(27,"Stare"),t(),i(28,"th"),n(29,"Detalii"),t(),i(30,"th"),n(31,"Tip\u0103ri\u021Bi"),t()()(),i(32,"tbody"),v(33,zt,19,5,"tr",12),t()()()),e&2&&(p(11),b("ngModel",l.yearFilter),p(),g("ngForOf",l.years),p(),g("ngIf",!l.idFirmaLoggedInUser),p(),g("ngIf",l.idFirmaLoggedInUser),p(19),g("ngForOf",l.listaSubalterni))},dependencies:[oe,R,D,$,ee,Z,L,V,F,A,T,q],encapsulation:2})}};De=M([w({checkProperties:!0})],De);var Nt=[{path:"pip/lista-subalterni-calificati-pip",component:Ie},{path:"pip/lista-subalterni-with-pip",component:fe},{path:"pip/istoric-lista-subalterni-with-pip",component:De}],at=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=ve({type:s})}static{this.\u0275inj=Pe({imports:[Ae.forChild(Nt),Ae]})}}return s})();function Rt(s,o){s&1&&(i(0,"h5"),n(1,"Completare Observa\u021Bii \u0219i Propunere PIP"),t())}function Ut(s,o){if(s&1){let e=h();i(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",28)(4,"label"),n(5,"Data start PIP:"),t()(),i(6,"div",29)(7,"input",30,1),C(9,"date"),f("ngModelChange",function(a){m(e);let r=d(2);return c(r.pipDisplay.dataInceputPip=a)}),t()()()(),i(10,"div",21)(11,"div",22)(12,"div",28)(13,"label"),n(14,"Data finalizare PIP:"),t()(),i(15,"div",29)(16,"input",31,2),C(18,"date"),f("ngModelChange",function(a){m(e);let r=d(2);return c(r.pipDisplay.dataSfarsitPip=a)}),t()()()(),i(19,"div",32)(20,"div",22)(21,"div",28)(22,"label"),n(23,"Calificativ minim a\u0219teptat dup\u0103 finalizarea PIP:"),t()(),i(24,"div",29)(25,"input",33,3),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.calificativMinimPip,a)||(r.pipDisplay.calificativMinimPip=a),c(a)}),t()()(),i(27,"div",22)(28,"div",28)(29,"label",34),n(30,"Obiectivele de dezvoltare:"),t()(),i(31,"div",29)(32,"div",35)(33,"textarea",36),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.obiectiveDezvoltare,a)||(r.pipDisplay.obiectiveDezvoltare=a),c(a)}),t()()()(),i(34,"div",22)(35,"div",28)(36,"label",37),n(37,"Ac\u021Biunile specifice pentru atingerea obiectivelor de dezvoltare:"),t()(),i(38,"div",29)(39,"div",35)(40,"textarea",38),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.actiuniSalariat,a)||(r.pipDisplay.actiuniSalariat=a),c(a)}),t()()()(),i(41,"div",22)(42,"div",28)(43,"label",39),n(44,"Suportul oferit de Managerul direct:"),t()(),i(45,"div",29)(46,"div",35)(47,"textarea",40),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.suportManager,a)||(r.pipDisplay.suportManager=a),c(a)}),t()()()(),i(48,"div",22)(49,"div",28)(50,"label",41),n(51,"Alte tipuri de suport:"),t()(),i(52,"div",29)(53,"div",35)(54,"textarea",42),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.altSuport,a)||(r.pipDisplay.altSuport=a),c(a)}),t()()()()()()}if(s&2){let e=d(2);p(7),g("ngModel",y(9,7,e.pipDisplay.dataInceputPip,"yyyy-MM-dd")),p(9),g("ngModel",y(18,10,e.pipDisplay.dataSfarsitPip,"yyyy-MM-dd")),p(9),b("ngModel",e.pipDisplay.calificativMinimPip),p(8),b("ngModel",e.pipDisplay.obiectiveDezvoltare),p(7),b("ngModel",e.pipDisplay.actiuniSalariat),p(7),b("ngModel",e.pipDisplay.suportManager),p(7),b("ngModel",e.pipDisplay.altSuport)}}function Ht(s,o){if(s&1&&(i(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",28)(4,"mat-label",24),n(5,"Data start PIP:"),t()(),i(6,"div",29)(7,"span"),n(8),C(9,"date"),t()()()(),i(10,"div",21)(11,"div",22)(12,"div",28)(13,"mat-label",24),n(14,"Data finalizare PIP:"),t()(),i(15,"div",29)(16,"span"),n(17),C(18,"date"),t()()()(),i(19,"div",32)(20,"div",22)(21,"div",28)(22,"mat-label",24),n(23,"Calificativ minim a\u0219teptat dup\u0103 finalizarea PIP:"),t()(),i(24,"div",29)(25,"span"),n(26),t()()(),i(27,"div",22)(28,"div",28)(29,"mat-label",24),n(30,"Obiectivele de dezvoltare ale salariatului pentru \xEEmbun\u0103t\u0103\u021Birea performan\u021Bei:"),t()(),i(31,"div",29)(32,"div",35)(33,"span"),n(34),t()()()(),i(35,"div",22)(36,"div",28)(37,"mat-label",24),n(38,"Ac\u021Biunile specifice pentru atingerea obiectivelor de dezvoltare:"),t()(),i(39,"div",29)(40,"div",35)(41,"span"),n(42),t()()()(),i(43,"div",22)(44,"div",28)(45,"mat-label",24),n(46,"Suportul oferit de Managerul direct:"),t()(),i(47,"div",29)(48,"div",35)(49,"span"),n(50),t()()()(),i(51,"div",22)(52,"div",28)(53,"mat-label",24),n(54,"Alte tipuri de suport oferit de Societate pentru dezvoltarea salariatului:"),t()(),i(55,"div",29)(56,"div",35)(57,"span"),n(58),t()()()()()()),s&2){let e=d(2);p(8),u(y(9,7,e.pipDisplay.dataInceputPip,"dd/MM/yyyy")),p(9),u(y(18,10,e.pipDisplay.dataSfarsitPip,"dd/MM/yyyy")),p(9),u(e.pipDisplay.calificativMinimPip),p(8),u(e.pipDisplay.obiectiveDezvoltare),p(8),u(e.pipDisplay.actiuniSalariat),p(8),u(e.pipDisplay.suportManager),p(8),u(e.pipDisplay.altSuport)}}function Yt(s,o){s&1&&(i(0,"h5"),n(1,"Evaluare finalizare PIP:"),t())}function qt(s,o){s&1&&(i(0,"span",52),n(1,"C\xE2mpul este obligatoriu!"),t())}function Jt(s,o){s&1&&(i(0,"span",52),n(1,"C\xE2mpul este obligatoriu!"),t())}function Gt(s,o){if(s&1){let e=h();i(0,"div",20)(1,"p",43),_(2,"mat-icon",44),n(3,"Aten\u021Bie! Aceast\u0103 sec\u021Biune se completeaz\u0103 la sf\xE2r\u0219itul procesului PIP."),t(),i(4,"div",32)(5,"div",22)(6,"div",28)(7,"label",45),n(8,"Calificativ ob\u021Binut la finalizarea PIP:"),t()(),i(9,"div",29)(10,"input",46,4),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.calificativFinalPip,a)||(r.pipDisplay.calificativFinalPip=a),c(a)}),t(),v(12,qt,2,0,"span",47),t()()(),i(13,"div",32)(14,"div",22)(15,"div",28)(16,"label",48),n(17,"Observa\u021Bii Manager direct pe perioada PIP:"),t()(),i(18,"div",29)(19,"div",35)(20,"textarea",49),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.observatiFinalPip,a)||(r.pipDisplay.observatiFinalPip=a),c(a)}),t()()()()(),i(21,"div",32)(22,"div",22)(23,"div",28)(24,"label",50),n(25,"Decizie final\u0103 Manager direct:"),t()(),i(26,"div",29)(27,"div",35)(28,"input",51,5),x("ngModelChange",function(a){m(e);let r=d(2);return S(r.pipDisplay.deczieFinalaManager,a)||(r.pipDisplay.deczieFinalaManager=a),c(a)}),t(),v(30,Jt,2,0,"span",47),t()()()()()}if(s&2){let e=B(11),l=B(29),a=d(2);p(10),N("invalid",(e.touched||e.dirty)&&e.invalid),b("ngModel",a.pipDisplay.calificativFinalPip),p(2),g("ngIf",!e.valid&&(e.touched||e.dirty)),p(8),b("ngModel",a.pipDisplay.observatiFinalPip),p(8),N("invalid",(l.touched||l.dirty)&&l.invalid),b("ngModel",a.pipDisplay.deczieFinalaManager),p(2),g("ngIf",!l.valid&&(l.touched||l.dirty))}}function Qt(s,o){if(s&1){let e=h();i(0,"form",19,0),f("ngSubmit",function(){m(e);let a=d();return c(a.onSubmit())}),i(2,"div",20)(3,"div",21)(4,"div",22)(5,"div",23)(6,"mat-label",24),n(7,"Nume \u0219i Prenume Salariat:"),t()(),i(8,"div",23)(9,"span"),n(10),t()()(),i(11,"div",22)(12,"div",23)(13,"mat-label",24),n(14,"Post ocupat:"),t()(),i(15,"div",23)(16,"span"),n(17),t()()(),i(18,"div",22)(19,"div",23)(20,"mat-label",24),n(21,"Califiactivul ob\u021Binut \xEEn urma evalu\u0103rii profesionale:"),t()(),i(22,"div",23)(23,"span"),n(24),C(25,"number"),t()()(),i(26,"div",22)(27,"mat-label",24),n(28,"Observa\u021Bii HR:"),t(),i(29,"span"),n(30),t()()(),i(31,"div",21)(32,"div",22)(33,"div",23)(34,"mat-label",24),n(35,"Nume \u0219i Prenume Manager direct:"),t()(),i(36,"div",23)(37,"span"),n(38),t()()(),i(39,"div",22)(40,"div",23)(41,"mat-label",24),n(42,"Post ocupat:"),t()(),i(43,"div",23)(44,"span"),n(45),t()()(),i(46,"div",22)(47,"div",25)(48,"mat-label",24),n(49,"Perioada de desf\u0103\u0219urare a evalu\u0103rii profesionale:"),t()(),i(50,"div",25)(51,"span"),n(52),C(53,"date"),t(),n(54," - "),i(55,"span"),n(56),C(57,"date"),t()()()()(),_(58,"hr"),v(59,Rt,2,0,"h5",26)(60,Ut,55,13,"div",27)(61,Ht,59,13,"div",27),_(62,"hr")(63,"br"),v(64,Yt,2,0,"h5",26)(65,Gt,31,9,"div",27),t()}if(s&2){let e=d();p(10),u(e.pipDisplay.numePrenumeAngajat),p(7),u(e.pipDisplay.postAngajat),p(7),u(y(25,13,e.pipDisplay.calificativEvaluare,"1.2-2")),p(6),u(e.pipDisplay.observatiiHr),p(8),u(e.pipDisplay.numePrenumeSuperior),p(7),u(e.pipDisplay.postSuperior),p(7),u(y(53,16,e.pipDisplay.dataInceputEvaluare,"dd/MM/yyyy")),p(4),u(y(57,19,e.pipDisplay.dataSfarsitEvaluare,"dd/MM/yyyy")),p(3),g("ngIf",e.pipDisplay.idStare===1||e.pipDisplay.idStare===3),p(),g("ngIf",e.pipDisplay.idStare==1||e.pipDisplay.idStare===3),p(),g("ngIf",e.pipDisplay.idStare==2),p(3),g("ngIf",e.pipDisplay.idStare==2),p(),g("ngIf",e.pipDisplay.idStare==2)}}var nt=class ze{constructor(o,e,l,a,r){this.emailPipService=o,this.pipService=e,this.dialogRef=l,this.toastr=a,this.idAngajat=r.idAngajat,this.idFirmaLoggedInUser=JSON.parse(localStorage.getItem("user"))?.idFirma}ngOnInit(){this.pipDetailsDisplaySub=this.pipService.createInitial(this.idAngajat).subscribe(o=>{this.pipDisplay=o})}onSubmit(){this.pipDisplay.updateId=JSON.parse(localStorage.getItem("user")).matricola,this.pipSaveSub=this.pipService.addPip(this.pipDisplay).subscribe({next:()=>{this.toastr.success("Datele au fost salvate!"),this.emailPipService.sendEmailCalificatPipToHRandAngajat(this.idAngajat,this.idFirmaLoggedInUser),setTimeout(()=>{window.location.reload(),this.close()},1e3)},error:o=>{this.toastr.error(o?.error)}})}close(){this.dialogRef.close()}static{this.\u0275fac=function(e){return new(e||ze)(P(pe),P(I),P(te),P(j),P(ie))}}static{this.\u0275cmp=E({type:ze,selectors:[["pip-add"]],standalone:!1,decls:20,vars:1,consts:[["pipForm","ngForm"],["dataInceputPip","ngModel"],["dataSfarsitPip","ngModel"],["calificativMinimPip","ngModel"],["calificativFinalPip","ngModel"],["deczieFinalaManager","ngModel"],["mat-dialog-title",""],[1,"form-group","row"],[1,"col-10","text-center"],[1,"col-2"],["mat-icon-button","",3,"click"],["fontIcon","close"],["mat-dialog-content",""],[3,"ngSubmit",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",1,"form-control",3,"click"],["mat-stroked-icon","","fontIcon","save"],["mat-button","","mat-stroked-button","","color","primary",1,"form-control",3,"click"],["mat-stroked-icon","","fontIcon","cancel"],[3,"ngSubmit"],[1,"row"],[1,"col-6","pt-4"],[1,"form-group","row","p-2"],[1,"col-6"],[1,"header-mat-label"],[1,"col-12"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"col-4"],[1,"col-8"],["data-provide","datepicker","type","date","name","dataInceputPip","id","pip-dataInceputPip","name","dataInceputPip",1,"form-control","date",3,"ngModelChange","ngModel"],["data-provide","datepicker","type","date","name","dataSfarsitPip","id","pip-dataSfarsitPip","name","dataSfarsitPip",1,"form-control","date",3,"ngModelChange","ngModel"],[1,"col-12","pt-4"],["type","number","id","pip-calificativMinimPip","name","calificativMinimPip",1,"form-control",3,"ngModelChange","ngModel"],["for","post-obiectiveDezvoltare"],[1,"form-outline"],["id","pip-obiectiveDezvoltare","rows","5","name","obiectiveDezvoltare","placeholder","Obiectivele de dezvoltare ale salariatului pentru \xEEmbun\u0103t\u0103\u021Birea performan\u021Bei",1,"form-control",3,"ngModelChange","ngModel"],["for","post-actiuniSalariat"],["id","pip-actiuniSalariat","rows","5","name","actiuniSalariat","placeholder","Ac\u021Biunile specifice de \xEEntreprins de c\u0103tre salariat pentru atingerea obiectivelor de dezvoltare",1,"form-control",3,"ngModelChange","ngModel"],["for","post-suportManager"],["id","pip-suportManager","rows","5","name","suportManager","placeholder","Suportul oferit de Managerul direct",1,"form-control",3,"ngModelChange","ngModel"],["for","post-altSuport"],["id","pip-altSuport","rows","5","name","altSuport","placeholder","Alte tipuri de suport oferit de Societate pentru dezvoltarea salariatului",1,"form-control",3,"ngModelChange","ngModel"],[1,"warning"],["fontIcon","info"],[1,"required-label"],["type","number","id","pip-calificativFinalPip","name","calificativFinalPip","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","help-block help-block-danger",4,"ngIf"],["for","observatiFinalPip"],["id","pip-observatiFinalPip","rows","5","name","observatiFinalPip","placeholder","Observa\u021Bii Manager direct cu privire la activitatea \u0219i evolu\u021Bia salariatului pe perioada PIP",1,"form-control",3,"ngModelChange","ngModel"],["for","post-deczieFinalaManager",1,"required-label"],["type","text","id","pip-deczieFinalaManager","name","deczieFinalaManager","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"help-block","help-block-danger"]],template:function(e,l){e&1&&(i(0,"div",6)(1,"div",7)(2,"div",8)(3,"h3"),n(4,"Plan de \xEEmbun\u0103t\u0103\u021Bire a performan\u021Bei profesionale a salaria\u021Bilor (PIP)"),t()(),i(5,"div",9)(6,"button",10),f("click",function(){return l.close()}),_(7,"mat-icon",11),t()()(),_(8,"hr"),t(),i(9,"div",12),v(10,Qt,66,22,"form",13),t(),i(11,"div",14)(12,"button",15),f("click",function(){return l.onSubmit()}),_(13,"mat-icon",16),n(14," \xA0 Salva\u021Bi"),t(),_(15,"br")(16,"br"),i(17,"button",17),f("click",function(){return l.close()}),_(18,"mat-icon",18),n(19," \xA0 \xCEnchide\u021Bi"),t()()),e&2&&(p(10),g("ngIf",l.pipDisplay))},dependencies:[D,X,G,Se,L,Q,xe,V,K,F,A,J,T,ne,le,re,H,U],encapsulation:2})}};nt=M([w({checkProperties:!0})],nt);var ta=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=ve({type:s})}static{this.\u0275inj=Pe({imports:[Ze,Xe,at,$e]})}}return s})();export{Ee as a,nt as b,ta as c};
